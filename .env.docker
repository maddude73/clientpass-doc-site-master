# ClientPass Documentation Automation - Docker Environment
# Copy this file to .env and update with your actual values

# ========================================
# REQUIRED CONFIGURATION
# ========================================

# MongoDB Atlas Configuration (REQUIRED)
# Get this from your MongoDB Atlas dashboard
MONGODB_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/
MONGODB_DATABASE=clientpass_docs
MONGODB_COLLECTION=document_chunks

# OpenAI API Configuration (REQUIRED)
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o

# ========================================
# KAFKA CONFIGURATION
# ========================================

# Kafka Settings (Docker internal)
KAFKA_BOOTSTRAP_SERVERS=kafka:29092
KAFKA_CLIENT_ID=doc-automation-system

# Kafka Topics Configuration
KAFKA_TOPICS_SOURCE_CHANGES=source-changes
KAFKA_TOPICS_DOCUMENT_PROCESSING=document-processing
KAFKA_TOPICS_RAG_UPDATES=rag-updates
KAFKA_TOPICS_SYSTEM_STATUS=system-status
KAFKA_TOPICS_ERROR_EVENTS=error-events

# ========================================
# APPLICATION SETTINGS
# ========================================

# Environment
APP_ENV=production
LOG_LEVEL=INFO

# Performance Settings
MAX_CONCURRENT_OPERATIONS=10
BATCH_SIZE=50
WORKER_THREADS=4

# Repository Configuration (REQUIRED for monitoring)
# Host paths to repositories that should be monitored for changes
SOURCE_REPO_PATH=../style-referral-ring
ADDITIONAL_REPO_PATH=../additional-repo
CLIENTPASS_REPO_PATH=./

# Git Configuration (for repository access)  
GIT_USER_NAME=DevUser
GIT_USER_EMAIL=dev@clientpass.com
SSH_KEY_PATH=~/.ssh/id_rsa

# File Processing Settings
WATCH_DIRECTORIES=/app/data/monitored
TRIGGER_FILE_PATH=/app/data/triggers
MAX_FILE_SIZE_MB=100
SUPPORTED_FILE_TYPES=.md,.txt,.py,.js,.ts,.json,.yml,.yaml

# ========================================
# DOCKER BUILD CONFIGURATION
# ========================================

# Build metadata
BUILD_DATE=2025-12-14
VERSION=1.0.0
VCS_REF=main

# ========================================
# OPTIONAL SERVICES
# ========================================

# Grafana Admin Password (for monitoring profile)
GRAFANA_PASSWORD=admin123

# Redis Configuration (for caching profile)
REDIS_URL=redis://redis:6379/0
CACHE_TTL_SECONDS=3600

# ========================================
# MONITORING & HEALTH CHECKS
# ========================================

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Metrics collection
METRICS_ENABLED=true
METRICS_PORT=8000

# ========================================
# SECURITY SETTINGS
# ========================================

# JWT Settings (if authentication is enabled)
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=10

# ========================================
# DEVELOPMENT OVERRIDES
# ========================================

# Uncomment for development mode
# APP_ENV=development
# LOG_LEVEL=DEBUG
# KAFKA_BOOTSTRAP_SERVERS=localhost:9092