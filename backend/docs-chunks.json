[
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 0,
    "content": "---\nid: 68e2f5e277e8ead370b13ccd\nrevision: 11\n---",
    "char_count": 49
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 1,
    "content": "# Affiliate Authentication",
    "char_count": 26
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 2,
    "content": "This document describes the authentication process for affiliates.",
    "char_count": 66
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 3,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 4,
    "content": "The affiliate authentication is handled by the `AffiliateAuthPage.tsx` component. It provides a login and sign-up form for affiliates.",
    "char_count": 134
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 5,
    "content": "### Login",
    "char_count": 9
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 6,
    "content": "The login form is implemented in the `AffiliateLoginForm` component.",
    "char_count": 68
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 7,
    "content": "### Sign-up",
    "char_count": 11
  },
  {
    "file_path": "AFFILIATE_AUTHENTICATION",
    "chunk_index": 8,
    "content": "The sign-up form is implemented in the `AffiliateSignUpForm` component.",
    "char_count": 71
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 0,
    "content": "---\nid: 693f2168fd5352c98a77a105\nrevision: 1\n---\n# Affiliate Dashboard",
    "char_count": 70
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Affiliate Dashboard, a dedicated portal for affiliate partners to track their performance, manage their network, and access marketing materials.",
    "char_count": 197
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 3,
    "content": "The Affiliate Dashboard serves as the central hub for affiliate partners. It provides a comprehensive set of tools and information to help affiliates succeed in promoting ClientPass and its associated products. The dashboard's content dynamically adapts based on the affiliate's account status.",
    "char_count": 294
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 4,
    "content": "The dashboard is implemented in the `AffiliateDashboard.tsx` component.",
    "char_count": 71
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 5,
    "content": "## 2. Key Features and Account Statuses",
    "char_count": 39
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 6,
    "content": "The Affiliate Dashboard handles different account statuses, providing appropriate views and functionalities for each.",
    "char_count": 117
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 7,
    "content": "### 2.1. Pending Approval Status",
    "char_count": 32
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 8,
    "content": "-   **Display:** If an affiliate's account is `pending` approval, the dashboard displays a clear message indicating that the account is under review.\n-   **Notification:** Affiliates are informed that they will receive an email notification once their account is approved.\n-   **Action:** The only available action is to sign out.",
    "char_count": 330
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 9,
    "content": "### 2.2. Suspended Status",
    "char_count": 25
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 10,
    "content": "-   **Display:** If an affiliate's account is `suspended`, the dashboard displays a message indicating the suspension.\n-   **Action:** Affiliates are advised to contact support for assistance, and the only available action is to sign out.",
    "char_count": 238
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 11,
    "content": "### 2.3. Active Dashboard (Approved Affiliates)",
    "char_count": 47
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 12,
    "content": "Once an affiliate account is approved and active, the dashboard provides full functionality:",
    "char_count": 92
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 13,
    "content": "-   **Welcome Message:** A personalized welcome message for the active affiliate.\n-   **Sign Out:** Option to sign out from the affiliate account.\n-   **Integrated Marketplace:** The core of the active dashboard is the integration of the `AffiliateMarketplace` component. This provides access to:\n    -   **Product Listings:** A curated list of products available for promotion.\n    -   **Referral Link Generation:** Tools to generate unique referral links for products.\n    -   **Performance Tracking:** Summary of key metrics, including clicks, signups, bookings, and earnings (though detailed tracking might be within the marketplace component itself).",
    "char_count": 655
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 14,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 15,
    "content": "The Affiliate Dashboard interacts with the `users` table (for affiliate status and profile information) and potentially other tables related to affiliate performance and marketplace products in the Supabase database.",
    "char_count": 216
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 16,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 17,
    "content": "The Affiliate Dashboard features a responsive user interface that adapts to different account statuses:",
    "char_count": 103
  },
  {
    "file_path": "AFFILIATE_DASHBOARD",
    "chunk_index": 18,
    "content": "-   **Header:** For active affiliates, the header displays a welcome message and a sign-out button.\n-   **Main Content Area:** Dynamically displays content based on the affiliate's status. For active affiliates, this includes the `AffiliateMarketplace` component.",
    "char_count": 263
  },
  {
    "file_path": "AFFILIATE_HOME_PAGE",
    "chunk_index": 0,
    "content": "---\nid: 68e2f57777e8ead370b13cae\nrevision: 11\n---",
    "char_count": 49
  },
  {
    "file_path": "AFFILIATE_HOME_PAGE",
    "chunk_index": 1,
    "content": "# Affiliate Home Page",
    "char_count": 21
  },
  {
    "file_path": "AFFILIATE_HOME_PAGE",
    "chunk_index": 2,
    "content": "This document describes the home page for affiliates.",
    "char_count": 53
  },
  {
    "file_path": "AFFILIATE_HOME_PAGE",
    "chunk_index": 3,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "AFFILIATE_HOME_PAGE",
    "chunk_index": 4,
    "content": "The affiliate home page is the entry point for the affiliate system. It is implemented in the `AffiliateIndex.tsx` component.",
    "char_count": 125
  },
  {
    "file_path": "AFFILIATE_HOME_PAGE",
    "chunk_index": 5,
    "content": "If the affiliate is logged in, it displays the `AffiliateDashboard`.\nIf the affiliate is not logged in, it displays the `AffiliateAuthPage`.",
    "char_count": 140
  },
  {
    "file_path": "AFFILIATE_MARKETPLACE",
    "chunk_index": 0,
    "content": "---\nid: 68e2f5ee77e8ead370b13cd9\nrevision: 11\n---",
    "char_count": 49
  },
  {
    "file_path": "AFFILIATE_MARKETPLACE",
    "chunk_index": 1,
    "content": "# Affiliate Marketplace",
    "char_count": 23
  },
  {
    "file_path": "AFFILIATE_MARKETPLACE",
    "chunk_index": 2,
    "content": "This document describes the affiliate marketplace.",
    "char_count": 50
  },
  {
    "file_path": "AFFILIATE_MARKETPLACE",
    "chunk_index": 3,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "AFFILIATE_MARKETPLACE",
    "chunk_index": 4,
    "content": "The affiliate marketplace is where affiliates can find and promote products. It is implemented in the `AffiliateMarketplacePage.tsx` component, which uses the `AffiliateMarketplace` component.",
    "char_count": 192
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 0,
    "content": "---\nid: 693f2168daca0334f416631e\nrevision: 1\n---\n# AI Gateway Pattern",
    "char_count": 69
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 2,
    "content": "The AI Gateway pattern provides a centralized, provider-agnostic interface for AI services in the application. It abstracts the underlying AI provider (Google, OpenAI, Anthropic, etc.) and provides consistent error handling, rate limiting, and a clean API.",
    "char_count": 256
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 3,
    "content": "## Architecture",
    "char_count": 15
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 4,
    "content": "```\n┌─────────────────┐\n│  React Components│\n└────────┬────────┘\n         │\n         ├─── useAIChat()\n         ├─── useAIEmbedding()\n         └─── useAIStream()\n         │\n┌────────▼────────┐\n│  AI Gateway     │  ◄─── Centralized Service Layer\n├─────────────────┤\n│ - Chat API      │\n│ - Embeddings    │\n│ - Streaming     │\n│ - Error Handler │\n└────────┬────────┘\n         │\n    ┌────┴────┐\n    │         │\n┌───▼───┐ ┌──▼───┐\n│Google │ │OpenAI│  ◄─── Provider Implementations\n└───────┘ └──────┘\n```",
    "char_count": 498
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 5,
    "content": "## Features",
    "char_count": 11
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 6,
    "content": "### 1. Provider Abstraction",
    "char_count": 27
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 7,
    "content": "- Switch between AI providers without changing application code\n- Currently supports Google Gemini (OpenAI and Anthropic coming soon)\n- Unified API across all providers",
    "char_count": 168
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 8,
    "content": "### 2. React Hooks",
    "char_count": 18
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 9,
    "content": "Easy-to-use React hooks for AI capabilities:",
    "char_count": 44
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 10,
    "content": "#### useAIChat",
    "char_count": 14
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 11,
    "content": "```typescript\nconst { sendMessage, response, isLoading, error } = useAIChat({\n  onSuccess: (response) => console.log(\"Got response\", response),\n  onError: (error) => console.error(\"Error\", error),\n  autoRetry: true,\n  maxRetries: 3,\n});",
    "char_count": 236
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 12,
    "content": "await sendMessage(\"Hello, AI!\", \"You are a helpful assistant\");\n```",
    "char_count": 67
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 13,
    "content": "#### useAIEmbedding",
    "char_count": 19
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 14,
    "content": "```typescript\nconst { embedText, embeddings, isLoading, error } = useAIEmbedding({\n  onSuccess: (result) => console.log(\"Embeddings generated\", result),\n});",
    "char_count": 156
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 15,
    "content": "await embedText([\"text 1\", \"text 2\", \"text 3\"]);\n```",
    "char_count": 52
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 16,
    "content": "#### useAIGatewayStatus",
    "char_count": 23
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 17,
    "content": "```typescript\nconst { isConnected, isChecking, checkConnection } = useAIGatewayStatus();",
    "char_count": 88
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 18,
    "content": "// Component will show connection status\n{\n  isConnected ? \"AI Connected\" : \"AI Offline\";\n}\n```",
    "char_count": 95
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 19,
    "content": "### 3. Error Handling",
    "char_count": 21
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 20,
    "content": "Automatic error handling with user-friendly messages:",
    "char_count": 53
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 21,
    "content": "- API key errors\n- Rate limiting\n- Network timeouts\n- Provider-specific errors",
    "char_count": 78
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 22,
    "content": "### 4. Retry Logic",
    "char_count": 18
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 23,
    "content": "Built-in exponential backoff retry mechanism:",
    "char_count": 45
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 24,
    "content": "```typescript\nconst { sendMessage } = useAIChat({\n  autoRetry: true,\n  maxRetries: 3,\n});\n```",
    "char_count": 93
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 25,
    "content": "### 5. Type Safety",
    "char_count": 18
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 26,
    "content": "Full TypeScript support with interfaces for all requests and responses:",
    "char_count": 71
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 27,
    "content": "```typescript\ninterface ChatRequest {\n  messages: ChatMessage[];\n  temperature?: number;\n  maxTokens?: number;\n  stream?: boolean;\n}",
    "char_count": 132
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 28,
    "content": "interface ChatResponse {\n  content: string;\n  usage?: TokenUsage;\n  model: string;\n  finishReason?: string;\n}\n```",
    "char_count": 113
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 29,
    "content": "## Usage Examples",
    "char_count": 17
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 30,
    "content": "### Basic Chat",
    "char_count": 14
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 31,
    "content": "```typescript\nimport { useAIChat } from \"@/hooks/useAIGateway\";",
    "char_count": 63
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 32,
    "content": "function ChatComponent() {\n  const { sendMessage, response, isLoading } = useAIChat();",
    "char_count": 86
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 33,
    "content": "const handleSubmit = async (prompt: string) => {\n    await sendMessage(prompt);\n  };",
    "char_count": 86
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 34,
    "content": "return (\n    <div>\n      <input onChange={(e) => handleSubmit(e.target.value)} />\n      {isLoading && <p>Thinking...</p>}\n      {response && <p>{response.content}</p>}\n    </div>\n  );\n}\n```",
    "char_count": 191
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 35,
    "content": "### With System Prompt",
    "char_count": 22
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 36,
    "content": "```typescript\nconst systemPrompt = `You are a documentation expert. \nProvide clear, concise answers about the codebase.`;",
    "char_count": 121
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 37,
    "content": "await sendMessage(userQuestion, systemPrompt);\n```",
    "char_count": 50
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 38,
    "content": "### Custom Chat Request",
    "char_count": 23
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 39,
    "content": "```typescript\nconst { chat } = useAIChat();",
    "char_count": 43
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 40,
    "content": "await chat({\n  messages: [\n    { role: \"system\", content: \"You are a code reviewer\" },\n    { role: \"user\", content: \"Review this code...\" },\n    { role: \"assistant\", content: \"Here are my suggestions...\" },\n    { role: \"user\", content: \"What about performance?\" },\n  ],\n  temperature: 0.3, // Lower temperature for code review\n  maxTokens: 2000,\n});\n```",
    "char_count": 353
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 41,
    "content": "### Generating Embeddings",
    "char_count": 25
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 42,
    "content": "```typescript\nimport { useAIEmbedding } from \"@/hooks/useAIGateway\";",
    "char_count": 68
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 43,
    "content": "function SemanticSearch() {\n  const { embedText } = useAIEmbedding();",
    "char_count": 69
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 44,
    "content": "const handleSearch = async (query: string) => {\n    const result = await embedText(query);\n    // Use result.embeddings for similarity search\n  };",
    "char_count": 148
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 45,
    "content": "return <SearchInput onSearch={handleSearch} />;\n}\n```",
    "char_count": 55
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 46,
    "content": "### Batch Embeddings",
    "char_count": 20
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 47,
    "content": "```typescript\nconst documents = [\"doc1\", \"doc2\", \"doc3\"];\nconst result = await embedText(documents);\n// result.embeddings is an array of embedding vectors\n```",
    "char_count": 158
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 48,
    "content": "## Configuration",
    "char_count": 16
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 49,
    "content": "### Environment Variables",
    "char_count": 25
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 50,
    "content": "```env\nVITE_GOOGLE_API_KEY=your-api-key\nVITE_GEMINI_MODEL_ID=gemini-2.0-flash-exp\nVITE_AI_TEMPERATURE=0.7\nVITE_AI_MAX_TOKENS=8192\n```",
    "char_count": 133
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 51,
    "content": "### Initialization",
    "char_count": 18
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 52,
    "content": "The AI Gateway is automatically initialized in `main.tsx`:",
    "char_count": 58
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 53,
    "content": "```typescript\nimport { initializeAIGatewayFromEnv } from \"./services/aiGatewayInit\";",
    "char_count": 84
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 54,
    "content": "initializeAIGatewayFromEnv();\n```",
    "char_count": 33
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 55,
    "content": "### Manual Initialization",
    "char_count": 25
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 56,
    "content": "```typescript\nimport { initializeAIGateway } from \"./services/aiGateway\";",
    "char_count": 73
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 57,
    "content": "initializeAIGateway({\n  provider: \"google\",\n  apiKey: \"your-api-key\",\n  model: \"gemini-2.0-flash-exp\",\n  temperature: 0.7,\n  maxTokens: 8192,\n});\n```",
    "char_count": 149
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 58,
    "content": "## Advanced Features",
    "char_count": 20
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 59,
    "content": "### Custom Error Handling",
    "char_count": 25
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 60,
    "content": "```typescript\nconst { sendMessage, error } = useAIChat({\n  onError: (error) => {\n    if (error.message.includes(\"rate limit\")) {\n      // Handle rate limiting\n      showNotification(\"Please wait a moment and try again\");\n    } else {\n      // Handle other errors\n      logError(error);\n    }\n  },\n});\n```",
    "char_count": 304
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 61,
    "content": "### Token Usage Tracking",
    "char_count": 24
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 62,
    "content": "```typescript\nconst { response } = useAIChat({\n  onSuccess: (response) => {\n    if (response.usage) {\n      console.log(\"Tokens used:\", response.usage.totalTokens);\n      trackUsage(response.usage);\n    }\n  },\n});\n```",
    "char_count": 217
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 63,
    "content": "### Connection Testing",
    "char_count": 22
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 64,
    "content": "```typescript\nimport { getAIGateway } from \"@/services/aiGateway\";",
    "char_count": 66
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 65,
    "content": "const gateway = getAIGateway();\nconst isConnected = await gateway.testConnection();",
    "char_count": 83
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 66,
    "content": "if (!isConnected) {\n  console.error(\"AI Gateway connection failed\");\n}\n```",
    "char_count": 74
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 67,
    "content": "## Benefits",
    "char_count": 11
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 68,
    "content": "1. **Flexibility**: Easy to switch AI providers\n2. **Consistency**: Unified API across providers\n3. **Type Safety**: Full TypeScript support\n4. **Error Handling**: Automatic retry and user-friendly errors\n5. **Testing**: Easy to mock for unit tests\n6. **Maintainability**: Centralized AI logic",
    "char_count": 293
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 69,
    "content": "## Future Enhancements",
    "char_count": 22
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 70,
    "content": "- [ ] OpenAI provider implementation\n- [ ] Anthropic Claude provider implementation\n- [ ] Streaming support\n- [ ] Response caching\n- [ ] Rate limiting per provider\n- [ ] Usage analytics dashboard\n- [ ] A/B testing different models\n- [ ] Cost tracking per request",
    "char_count": 262
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 71,
    "content": "## Files Structure",
    "char_count": 18
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 72,
    "content": "```\nsrc/\n├── services/\n│   ├── aiGateway.ts          # Main gateway implementation\n│   └── aiGatewayInit.ts      # Initialization helper\n├── hooks/\n│   └── useAIGateway.ts       # React hooks\n└── components/\n    └── AIChatExample.tsx     # Example component\n```",
    "char_count": 261
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 73,
    "content": "## Testing",
    "char_count": 10
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 74,
    "content": "```typescript\nimport { initializeAIGateway } from \"@/services/aiGateway\";",
    "char_count": 73
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 75,
    "content": "// Mock the gateway for testing\nconst mockGateway = initializeAIGateway({\n  provider: \"google\",\n  apiKey: \"test-key\",\n});",
    "char_count": 121
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 76,
    "content": "// Test your components with the mock\n```",
    "char_count": 41
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 77,
    "content": "## Related Documentation",
    "char_count": 24
  },
  {
    "file_path": "AI_GATEWAY_PATTERN",
    "chunk_index": 78,
    "content": "- [Google Generative AI SDK](https://github.com/google/generative-ai-js)\n- [Environment Variables](./.env.example)\n- [React Hooks](https://react.dev/reference/react)",
    "char_count": 166
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 0,
    "content": "---\nid: 68e300ca77e8ead370b13dc9\nrevision: 6\n---",
    "char_count": 48
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 1,
    "content": "# AI and LLM Opportunities in ClientPass",
    "char_count": 40
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 2,
    "content": "This document outlines potential opportunities to integrate Artificial Intelligence (AI) and Large Language Models (LLMs) into the ClientPass application.",
    "char_count": 154
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 3,
    "content": "## 1. Intelligent Auto-Match System",
    "char_count": 35
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 4,
    "content": "The existing matching system for Open Chair and Walk-in Referrals could be significantly enhanced by an LLM. Instead of simple matching based on service and location, an AI-powered system could consider more nuanced factors to provide better matches.",
    "char_count": 250
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 5,
    "content": "**Potential Factors for Matching:**\n- **Stylist's Specialty and Experience Level:** Match a client's request with a stylist who is a proven expert in that area (e.g., color, extensions, specific hair types).\n- **Client's History and Preferences:** If a client has previously rated a stylist highly, prioritize that stylist for future referrals. The system could also learn a client's preferred style over time.\n- **Stylist's Style and Portfolio:** Use image analysis of a stylist's portfolio to match a client's desired \"look\" or inspiration photos.\n- **Urgency and Proximity:** Prioritize requests that are for the same day and factor in real-time traffic data to suggest the most convenient options.",
    "char_count": 701
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 6,
    "content": "## 2. Personalized Service and Product Recommendations",
    "char_count": 54
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 7,
    "content": "An LLM can be used to provide personalized recommendations to both clients and stylists.",
    "char_count": 88
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 8,
    "content": "- **For Clients:** Based on their booking history, profile information (e.g., hair type, style preferences), and the services they have viewed, an LLM could recommend:\n    - New services they might be interested in.\n    - Products from the affiliate marketplace that are relevant to their needs (e.g., shampoo for colored hair, styling tools).\n- **For Stylists:** Recommend products from the affiliate marketplace that they could sell to their clients, based on the services they provide and the needs of their clientele.",
    "char_count": 521
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 9,
    "content": "## 3. Review Analysis and Summarization",
    "char_count": 39
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 10,
    "content": "An LLM could analyze all of a stylist's reviews to provide valuable insights.",
    "char_count": 77
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 11,
    "content": "- **Automated Summaries:** Generate a summary of a stylist's strengths and weaknesses from their reviews.\n- **Sentiment Analysis:** Display a sentiment score (e.g., \"95% Positive\") on a stylist's profile to build trust with potential clients.\n- **Identify Recurring Themes:** The system could identify recurring positive feedback (e.g., \"great with curly hair\") or issues that the stylist could address (e.g., \"often runs late\").",
    "char_count": 429
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 12,
    "content": "## 4. Smart Scheduling and Booking Assistant",
    "char_count": 44
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 13,
    "content": "A chatbot-style interface could streamline the booking process.",
    "char_count": 63
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 14,
    "content": "- **Natural Language Booking:** Clients could book appointments using natural language (e.g., \"I need a haircut with Jane on Tuesday afternoon\").\n- **Automated Rescheduling and Cancellations:** The chatbot could handle routine scheduling changes, freeing up time for stylists and receptionists.\n- **Appointment Reminders and Confirmations:** The chatbot could send intelligent, conversational reminders to clients.",
    "char_count": 414
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 15,
    "content": "## 5. Automated Profile and Bio Generation for Stylists",
    "char_count": 55
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 16,
    "content": "Many stylists are great at their craft but may struggle with writing a compelling profile bio.",
    "char_count": 94
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 17,
    "content": "- **Guided Bio Creation:** Stylists could provide a few bullet points about their experience, skills, and personality, and an LLM could generate a well-written and engaging bio for their profile.\n- **Profile Optimization Tips:** The AI could suggest improvements to a stylist's profile to attract more clients (e.g., \"Add more photos of your color work to your portfolio\").",
    "char_count": 373
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 18,
    "content": "## 6. Content Generation for Affiliate Marketing",
    "char_count": 48
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 19,
    "content": "Affiliates could be empowered with AI tools to improve their marketing efforts.",
    "char_count": 79
  },
  {
    "file_path": "AI_OPPORTUNITIES",
    "chunk_index": 20,
    "content": "- **Automated Content Creation:** Affiliates could get help from an LLM to generate social media posts, product descriptions, or blog articles to promote the products in the marketplace.\n- **Personalized Marketing Angles:** The AI could suggest different marketing angles for a product based on the affiliate's target audience.",
    "char_count": 328
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 0,
    "content": "---\nid: 693f21680efa8dc3e3c7314e\nrevision: 1\n---\n# Architecture Overview",
    "char_count": 72
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 1,
    "content": "This document provides a high-level overview of the technical architecture for the ClientPass application, covering both the web and mobile frontends.",
    "char_count": 150
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 2,
    "content": "**Last Updated**: November 8, 2025",
    "char_count": 34
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 3,
    "content": "## 1. Core Technology Stack",
    "char_count": 27
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 4,
    "content": "### 1.1. Web Application",
    "char_count": 24
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 5,
    "content": "- **Frontend**: A modern Single-Page Application (SPA) built with **React** and **Vite**.\n  - **Language**: **TypeScript**\n  - **UI Components**: **shadcn-ui** on top of Radix UI and Tailwind CSS.\n  - **Routing**: **React Router** for client-side navigation.\n  - **State Management**: **Zustand** for lightweight global client state, **TanStack Query** for server state management.",
    "char_count": 381
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 6,
    "content": "### 1.2. Mobile Application",
    "char_count": 27
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 7,
    "content": "- **Framework**: **React Native** with **Expo**.\n- **Language**: **TypeScript**.\n- **UI Components**: **React Native Paper** for Material Design components.\n- **Routing**: **Expo Router** for file-system based routing.\n- **State Management**: **React Context** for global authentication state.\n- **Capacitor**: Integrated for native functionality with **@capacitor/android**, **@capacitor/ios**, **@capacitor/core**, and **@capacitor/cli**.",
    "char_count": 440
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 8,
    "content": "### 1.3. Backend (Shared)",
    "char_count": 25
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 9,
    "content": "- **Platform**: A serverless architecture powered by **Supabase**.\n  - **Database**: A **PostgreSQL** database.\n  - **Authentication**: Supabase Auth for managing user accounts and sessions across both clients.\n  - **Serverless Functions**: Business logic encapsulated in **Deno-based TypeScript functions** (Supabase Edge Functions).",
    "char_count": 334
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 10,
    "content": "### 1.4. AI Integration Layer",
    "char_count": 29
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 11,
    "content": "- **AI Gateway Pattern**: A centralized, provider-agnostic interface for AI services.\n  - **Supported Providers**: Google Gemini, OpenAI GPT-5, Anthropic Claude 4.5, Ollama (local)\n  - **Core Capabilities**:\n    - Chat/completion APIs\n    - Text embeddings for semantic search\n    - Streaming responses for real-time interactions\n  - **React Integration**: Custom hooks (`useAIChat`, `useAIEmbedding`, `useAIStream`)\n  - **Configuration**: Dynamic provider selection with hot-reload capability",
    "char_count": 493
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 12,
    "content": "## 2. Frontend Architecture",
    "char_count": 27
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 13,
    "content": "### 2.1. Web App (`style-referral-ring`)",
    "char_count": 40
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 14,
    "content": "The web frontend is located in the `src/` directory and follows a standard component-based structure.",
    "char_count": 101
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 15,
    "content": "- **`src/pages/`**: Top-level components for each route.\n- **`src/components/`**: Reusable React components, organized by feature.\n- **`src/App.tsx`**: The main application component that sets up routing and global providers.",
    "char_count": 225
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 16,
    "content": "### 2.2. Mobile App (`clientpass-react-native`)",
    "char_count": 47
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 17,
    "content": "The mobile frontend is built with Expo and uses a file-system based routing approach.",
    "char_count": 85
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 18,
    "content": "- **`app/`**: The main directory for all routes and screens.\n  - **`app/(tabs)/`**: Defines the primary tab bar navigation for authenticated users.\n  - **`app/(auth)/`**: Defines the authentication stack (login, signup).\n  - **`app/_layout.tsx`**: The root layout component that wraps the entire application and manages the navigation state.\n- **`components/`**: Contains reusable React Native components.\n  - **`components/dashboards/`**: High-level dashboard components for each user role.\n- **`contexts/`**: Holds global React Context providers, like `AuthContext`.",
    "char_count": 568
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 19,
    "content": "## 3. Backend Architecture",
    "char_count": 26
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 20,
    "content": "The backend is entirely managed through Supabase, serving both the web and mobile clients.",
    "char_count": 90
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 21,
    "content": "- **Database Schema**: Defined via SQL migration files in `supabase/migrations/`. It includes tables for `users`, `referrals`, `open_chairs`, `payments`, `service_catalog`, etc.\n- **Edge Functions**: Located in `supabase/functions/`, each folder represents a serverless function that can be invoked from either the web or mobile client.\n- **Authentication**: Supabase Auth provides a unified authentication system for both applications.",
    "char_count": 436
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 22,
    "content": "### 3.1. Service Catalog System",
    "char_count": 31
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 23,
    "content": "A centralized platform for managing and standardizing service offerings across all professionals.",
    "char_count": 97
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 24,
    "content": "- **AdminServiceCatalog**: Admin interface for managing the global service catalog\n- **Service Taxonomy**: Hierarchical categorization (Categories → Subcategories → Service Types)\n- **Components**:\n  - `ServiceTaxonomySelector`: Hierarchical service selection interface\n  - `EnhancedServiceSelector`: Improved UX with taxonomy-based navigation\n- **Data Model**: `service_catalog` table with standardized service definitions, including fields for `description`, `price_cents`, `duration_minutes`, and `deposit_pct`.",
    "char_count": 514
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 25,
    "content": "### 3.2. AI-Powered Features",
    "char_count": 28
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 26,
    "content": "AI integration enhances multiple platform capabilities:",
    "char_count": 55
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 27,
    "content": "- **Intelligent Matching**: LLM-powered stylist-client matching based on specialty, history, and preferences\n- **Smart Recommendations**: Personalized service and product suggestions\n- **Review Analysis**: Automated sentiment analysis and summary generation\n- **Content Generation**: Automated bio creation and marketing content for affiliates\n- **Natural Language Booking**: Chatbot interface for scheduling and inquiries",
    "char_count": 422
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 28,
    "content": "### 3.3. Enhanced Referral System",
    "char_count": 33
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 29,
    "content": "Extended referral capabilities beyond the core workflow:",
    "char_count": 56
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 30,
    "content": "- **Post-Creation Adjustments**: Modify services, pricing, and duration after referral creation\n- **Auto-Confirmation**: Automated approval for minor adjustments within predefined thresholds\n- **Validation & Calculation**: Real-time recalculation of fees and commissions\n- **Audit Trail**: Complete history of all modifications for transparency, stored in `service_adjustment_audit` table\n- **Components**:\n  - `AdjustReferralModal`: Interface for modifying referral details\n  - `EnhancedAdjustServiceModal`: Improved UX with real-time calculations",
    "char_count": 548
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 31,
    "content": "### 3.4. Quick Rebook System",
    "char_count": 28
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 32,
    "content": "Streamlined rebooking experience for repeat appointments:",
    "char_count": 57
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 33,
    "content": "- **One-Click Rebooking**: Pre-filled information from previous appointments\n- **Smart Suggestions**: AI-powered recommendations based on booking patterns\n- **Service History**: Complete view of past appointments\n- **Components**:\n  - `QuickRebook`: Rapid rebooking interface\n  - `BookDrawer`: Professional's booking management interface\n  - `EnhancedRebookForm`: Improved rebooking form with catalog integration",
    "char_count": 412
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 34,
    "content": "## 4. Data Flow",
    "char_count": 15
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 35,
    "content": "The data flow is consistent for both the web and mobile applications.",
    "char_count": 69
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 36,
    "content": "1.  **User Interaction**: A user performs an action in the React (web) or React Native (mobile) frontend.\n2.  **Client-Side Logic**: The frontend component calls a function that uses the Supabase client (`@supabase/supabase-js`).\n3.  **Backend Invocation**:\n    - For simple data retrieval, the client queries the Supabase database directly (respecting RLS policies).\n    - For complex business logic, the client invokes a Supabase Edge Function.\n    - For AI operations, the client uses the AI Gateway which abstracts provider-specific implementations.\n4.  **Edge Function Execution**: The serverless function runs, interacting with the database.\n5.  **Response**: The function returns a response to the client.\n6.  **UI Update**: The frontend uses the response to update its state and re-render the UI.",
    "char_count": 804
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 37,
    "content": "### 4.1. AI-Enhanced Data Flow",
    "char_count": 30
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 38,
    "content": "For AI-powered features, an additional layer is introduced:",
    "char_count": 59
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 39,
    "content": "1.  **User Interaction**: User initiates an AI-powered action (e.g., smart matching, content generation)\n2.  **AI Gateway Invocation**: Frontend calls AI Gateway hooks (`useAIChat`, `useAIEmbedding`)\n3.  **Provider Selection**: AI Gateway routes request to configured provider (Google, OpenAI, Anthropic, Ollama)\n4.  **AI Processing**: Provider processes request and returns results\n5.  **Result Integration**: Response is integrated into application logic (e.g., match scoring, content display)\n6.  **UI Update**: Enhanced results displayed to user",
    "char_count": 549
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 40,
    "content": "## 5. Third-Party Integrations",
    "char_count": 30
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 41,
    "content": "### 5.1. Payment Processing",
    "char_count": 27
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 42,
    "content": "- **Stripe**: Handles all payment processing and payouts\n- **Stripe Connect**: Enables direct payouts to professionals",
    "char_count": 118
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 43,
    "content": "### 5.2. AI Service Providers",
    "char_count": 29
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 44,
    "content": "- **Google Gemini**: Primary AI provider for embeddings and chat\n- **OpenAI GPT-5**: Advanced language model for complex tasks\n- **Anthropic Claude 4.5**: Alternative LLM with strong reasoning capabilities\n- **Ollama**: Optional local model deployment for privacy-sensitive operations",
    "char_count": 284
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 45,
    "content": "### 5.3. Infrastructure",
    "char_count": 23
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 46,
    "content": "- **Vercel**: Frontend hosting and serverless API functions\n- **Supabase**: Backend-as-a-Service (database, auth, edge functions)\n- **MongoDB Atlas**: Document storage for RAG (Retrieval-Augmented Generation) documentation system",
    "char_count": 229
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 47,
    "content": "## 6. Security Architecture",
    "char_count": 27
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 48,
    "content": "### 6.1. Authentication & Authorization",
    "char_count": 39
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 49,
    "content": "- **Supabase Auth**: JWT-based authentication\n- **Row Level Security (RLS)**: Database-level access control\n- **Role-Based Access Control (RBAC)**: User roles define permissions",
    "char_count": 177
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 50,
    "content": "### 6.2. API Security",
    "char_count": 21
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 51,
    "content": "- **API Key Management**: Secure storage of AI provider keys\n- **Rate Limiting**: Protection against abuse\n- **Input Validation**: Sanitization of user inputs before AI processing",
    "char_count": 179
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 52,
    "content": "### 6.3. Data Privacy",
    "char_count": 21
  },
  {
    "file_path": "ARCHITECTURE",
    "chunk_index": 53,
    "content": "- **Encryption**: All data encrypted at rest and in transit\n- **PII Protection**: Personal information handling complies with privacy regulations\n- **AI Data Handling**: User data sent to AI providers is minimized and anonymized where possible",
    "char_count": 243
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 0,
    "content": "---\nid: 693f2168ff7ca9327113f44a\nrevision: 1\n---\n# Auto-Match System",
    "char_count": 68
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Auto-Match System feature.",
    "char_count": 79
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 3,
    "content": "The `AutoMatchSystem` is a comprehensive feature that allows clients to find and connect with professionals based on a variety of criteria. It provides a user-friendly interface for clients to specify their needs and receive a list of suitable stylists or barbers.",
    "char_count": 264
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 4,
    "content": "The feature is implemented in the `AutoMatchSystem.tsx` component.",
    "char_count": 66
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 5,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 6,
    "content": "### 2.1. Advanced Filtering",
    "char_count": 27
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 7,
    "content": "Clients can filter professionals by a combination of criteria to find the perfect match:",
    "char_count": 88
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 8,
    "content": "-   **Location:**\n    -   **ZIP Code:** To find professionals in a specific area.\n    -   **Distance Radius:** To limit the search to a certain distance from the specified ZIP code.\n-   **Services:**\n    -   Clients can select one or more specific services they are interested in (e.g., Haircut, Coloring, Beard Trim).\n-   **Availability:**\n    -   **ASAP (Hot Seat):** For clients who need a service immediately. This prioritizes stylists who have marked themselves as available for last-minute bookings.\n    -   **Future Booking:** For clients who want to schedule an appointment in advance.",
    "char_count": 593
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 9,
    "content": "### 2.2. Stylist Matching Algorithm",
    "char_count": 35
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 10,
    "content": "-   Based on the selected filters, the system queries the database to find professionals who match the criteria.\n-   The matching algorithm considers the following factors:\n    -   **Location:** The stylist's ZIP code must be within the specified distance radius.\n    -   **Services:** The stylist must offer all the selected services.\n    -   **Availability:** The stylist's availability must match the client's selection (ASAP or future).\n-   The search results are sorted by the stylist's rating and their availability.",
    "char_count": 522
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 11,
    "content": "### 2.3. Stylist Profiles",
    "char_count": 25
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 12,
    "content": "The search results are displayed as a list of stylist profile cards. Each card includes the following key information:",
    "char_count": 118
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 13,
    "content": "-   Stylist's name and profile picture.\n-   Location (city and state).\n-   Average rating and number of reviews.\n-   Distance from the client's specified location.\n-   A list of available services.\n-   A \"Request a Pro\" button to initiate a booking request.",
    "char_count": 257
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 14,
    "content": "### 2.4. Trusted Network",
    "char_count": 24
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 15,
    "content": "-   The `AutoMatchSystem` also includes a `TrustedNetwork` feature.\n-   This allows users to build a network of trusted professionals.\n-   When searching for a stylist, clients can choose to search within their trusted network first.",
    "char_count": 233
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 16,
    "content": "### 2.5. User Preferences",
    "char_count": 25
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 17,
    "content": "-   The system can load and save user preferences (e.g., default ZIP code, distance radius).\n-   This provides a more personalized and convenient experience for returning users.",
    "char_count": 177
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 18,
    "content": "## 3. Data Flow",
    "char_count": 15
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 19,
    "content": "1.  The component loads user preferences and available services on mount.\n2.  The user sets their desired filters (ZIP code, distance, services, availability).\n3.  When the user clicks \"Search Pros\", the `searchStylists` function is called.\n4.  This function queries the backend (or the `demoMatching` service in demo mode) to find professionals that match the criteria.\n5.  The results are displayed to the user, sorted by rating and availability.\n6.  The user can then view the profile of a professional or click \"Request a Pro\" to send a booking request.",
    "char_count": 557
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 20,
    "content": "## 4. Component Usage",
    "char_count": 21
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 21,
    "content": "The `AutoMatchSystem` component is designed to be a central part of the client's booking journey.",
    "char_count": 97
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 22,
    "content": "```tsx\nimport { AutoMatchSystem } from '@/components/auto-match/AutoMatchSystem';",
    "char_count": 81
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 23,
    "content": "const MyPage = () => {\n  return (\n    <AutoMatchSystem onBack={() => console.log('Back to dashboard')} />\n  );\n};\n```",
    "char_count": 117
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 24,
    "content": "## 5. AI Enhancement Opportunities",
    "char_count": 34
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 25,
    "content": "The Auto-Match System is a prime candidate for enhancement with Artificial Intelligence (AI) and Large Language Models (LLMs). An AI-powered matching system could provide more intelligent and personalized recommendations to clients.",
    "char_count": 232
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 26,
    "content": "For a detailed breakdown of the AI opportunities for this feature, please refer to the **[AI Opportunities](./AI_OPPORTUNITIES.md)** document.",
    "char_count": 142
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 27,
    "content": "Key AI enhancement ideas include:",
    "char_count": 33
  },
  {
    "file_path": "AUTO_MATCH_SYSTEM",
    "chunk_index": 28,
    "content": "-   **Semantic Search:** Instead of just matching keywords, an AI-powered system could understand the semantic meaning of a client's request (e.g., \"a stylist who is good with curly hair and can do a modern balayage\").\n-   **Image-Based Matching:** Clients could upload inspiration photos, and the system could use image analysis to find stylists with similar work in their portfolios.\n-   **Personalized Rankings:** The system could learn a client's preferences over time and rank the search results based on their individual style and booking history.",
    "char_count": 553
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 0,
    "content": "---\nid: 693f2168b45aeedb4fc956ce\nrevision: 1\n---\n# Boost Profile",
    "char_count": 64
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Boost Profile feature.",
    "char_count": 75
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 3,
    "content": "The Boost Profile feature allows stylists to increase their visibility on the ClientPass platform, leading to more referrals and client bookings. It provides a mechanism for stylists to temporarily elevate their profile's prominence.",
    "char_count": 233
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 4,
    "content": "The page is implemented in the `BoostProfilePage.tsx` page, which wraps the `BoostProfile` component.",
    "char_count": 101
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 5,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 6,
    "content": "### 2.1. Active Boost Status",
    "char_count": 28
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 7,
    "content": "-   **Real-time Status:** Displays whether a profile boost is currently active.\n-   **Time Remaining:** Shows the remaining duration of an active boost (e.g., \"23h 45m remaining\").\n-   **Boost Details:** Provides information about when the boost started and if a free boost credit was used.",
    "char_count": 290
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 8,
    "content": "### 2.2. Pro Member Benefits",
    "char_count": 28
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 9,
    "content": "-   **Free Boosts:** Pro members receive a certain number of free boosts per month (e.g., 4 free boosts).\n-   **Reduced Rates:** Pro members also benefit from reduced rates for additional boosts beyond their free allocation.\n-   **Tracking:** Displays the number of free boosts remaining for the current month.",
    "char_count": 310
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 10,
    "content": "### 2.3. Boost Benefits",
    "char_count": 23
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 11,
    "content": "-   **Priority Placement:** Boosted profiles appear at the top of search results and referral matching algorithms.\n-   **Increased Visibility:** Profiles are highlighted with a special \"boost\" badge, attracting more attention.\n-   **More Referrals:** Stylists can expect to receive significantly more referral opportunities during the boost period (e.g., up to 3x more).",
    "char_count": 370
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 12,
    "content": "### 2.4. Activate/Extend Boost",
    "char_count": 30
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 13,
    "content": "-   **Flexible Activation:** Stylists can activate a 24-hour boost for their profile.\n-   **Extension Option:** If a boost is already active, stylists can extend its duration by another 24 hours.\n-   **Payment/Free Credit:** The system intelligently determines if a free Pro member boost is available or if payment is required.\n-   **Confirmation Dialog:** A confirmation dialog provides a summary of the boost benefits and cost before activation.",
    "char_count": 447
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 14,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 15,
    "content": "The Boost Profile feature interacts with the following tables in the Supabase database:",
    "char_count": 87
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 16,
    "content": "-   `boosts`: Stores information about active and past boosts, including `boost_type`, `start_at`, `end_at`, `status`, and `pro_id`.\n-   `users`: Stores user profile information, including `membership` status and `free_boosts_used_this_month`.",
    "char_count": 243
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 17,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 18,
    "content": "The Boost Profile page features:",
    "char_count": 32
  },
  {
    "file_path": "BOOST_PROFILE",
    "chunk_index": 19,
    "content": "-   A header with a back button and a \"Boost Profile\" title.\n-   Sections for displaying active boost status, Pro member benefits, and general boost benefits.\n-   A prominent \"Activate Boost\" card with options to purchase or use free credits.\n-   A confirmation dialog for boost activation.",
    "char_count": 291
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 0,
    "content": "---\nid: 693f21680c0da60cf6b5fb73\nrevision: 1\n---\n# Boost Profile Component Documentation",
    "char_count": 88
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 2,
    "content": "The BoostProfile component (`BoostProfile.tsx`) manages professional profile enhancement features within the Style Referral Ring application. This component is part of the Boost Features category, providing users with tools to enhance their professional visibility and networking capabilities.",
    "char_count": 293
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 3,
    "content": "## Recent Updates (December 2025)",
    "char_count": 33
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 4,
    "content": "### Commit e377dae: Improve BoostProfile",
    "char_count": 40
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 5,
    "content": "**Date:** December 14, 2025  \n**Type:** Enhancement",
    "char_count": 51
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 6,
    "content": "**Changes Made:**",
    "char_count": 17
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 7,
    "content": "- Enhanced BoostProfile functionality and user interface\n- Improved professional profile boost capabilities\n- Optimized boost feature workflow and user experience\n- Enhanced integration with professional networking features",
    "char_count": 223
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 8,
    "content": "**Impact Analysis:**",
    "char_count": 20
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 9,
    "content": "- **User-Facing Changes:** Yes - Direct improvements to professional boost functionality\n- **Component Classification:** Boost Features\n- **Feature Impact:** High - Critical for professional user engagement and monetization",
    "char_count": 223
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 10,
    "content": "## Component Architecture",
    "char_count": 25
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 11,
    "content": "### File Location",
    "char_count": 17
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 12,
    "content": "```\nsrc/components/boost/BoostProfile.tsx\n```",
    "char_count": 45
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 13,
    "content": "### Component Classification",
    "char_count": 28
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 14,
    "content": "- **Type:** Feature Component (Boost Features)\n- **Category:** Professional Enhancement Tools\n- **User-Facing:** Yes\n- **Priority:** High (Monetization Critical)",
    "char_count": 161
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 15,
    "content": "## Core Functionality",
    "char_count": 21
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 16,
    "content": "### Professional Profile Boosting",
    "char_count": 33
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 17,
    "content": "The BoostProfile component provides users with tools to:",
    "char_count": 56
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 18,
    "content": "1. **Profile Enhancement**",
    "char_count": 26
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 19,
    "content": "- Boost professional profile visibility\n   - Enhance profile ranking in search results\n   - Increase profile exposure to potential clients",
    "char_count": 141
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 20,
    "content": "2. **Boost Management**",
    "char_count": 23
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 21,
    "content": "- Configure boost duration and intensity\n   - Monitor boost performance and analytics\n   - Manage boost budget and spending",
    "char_count": 126
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 22,
    "content": "3. **Professional Features**\n   - Access to premium professional tools\n   - Enhanced networking capabilities\n   - Priority placement in professional directories",
    "char_count": 160
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 23,
    "content": "### User Interface Features",
    "char_count": 27
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 24,
    "content": "1. **Boost Configuration Panel**",
    "char_count": 32
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 25,
    "content": "- Intuitive boost settings interface\n   - Real-time preview of boost effects\n   - Budget management and control options",
    "char_count": 122
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 26,
    "content": "2. **Analytics Dashboard**",
    "char_count": 26
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 27,
    "content": "- Boost performance metrics\n   - Profile view statistics\n   - Return on investment tracking",
    "char_count": 94
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 28,
    "content": "3. **Enhancement Tools**\n   - Profile optimization suggestions\n   - Professional content recommendations\n   - Network expansion tools",
    "char_count": 133
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 29,
    "content": "## Technical Implementation",
    "char_count": 27
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 30,
    "content": "### Component Dependencies",
    "char_count": 26
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 31,
    "content": "- React component architecture\n- Professional profile data models\n- Boost analytics system\n- Payment processing integration",
    "char_count": 123
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 32,
    "content": "### Integration Points",
    "char_count": 22
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 33,
    "content": "- **Professional Network System**: Connects with professional networking features\n- **Pro Hub Integration**: Works with ProHubPage for advertisement placement\n- **Analytics Engine**: Provides performance tracking and insights\n- **Payment System**: Manages boost purchases and subscriptions",
    "char_count": 289
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 34,
    "content": "### State Management",
    "char_count": 20
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 35,
    "content": "```typescript\ninterface BoostProfileState {\n  boostSettings: BoostConfiguration;\n  analytics: BoostAnalytics;\n  profileEnhancements: EnhancementOptions;\n  activeBoosts: ActiveBoostList;\n}\n```",
    "char_count": 191
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 36,
    "content": "## User Experience Flow",
    "char_count": 23
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 37,
    "content": "### Boost Activation Process",
    "char_count": 28
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 38,
    "content": "```\nUser accesses BoostProfile → Reviews boost options → Configures boost settings → Confirms boost purchase → Activates boost → Monitors performance\n```",
    "char_count": 153
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 39,
    "content": "### Boost Management Workflow",
    "char_count": 29
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 40,
    "content": "```\nUser views active boosts → Analyzes performance metrics → Adjusts boost settings → Extends or modifies boosts → Reviews ROI\n```",
    "char_count": 131
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 41,
    "content": "## Feature Categories",
    "char_count": 21
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 42,
    "content": "### Basic Boost Features",
    "char_count": 24
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 43,
    "content": "1. **Profile Visibility Enhancement**",
    "char_count": 37
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 44,
    "content": "- Increased search result ranking\n   - Enhanced profile highlighting\n   - Priority placement in listings",
    "char_count": 107
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 45,
    "content": "2. **Professional Tools Access**\n   - Advanced networking features\n   - Premium communication tools\n   - Enhanced profile customization",
    "char_count": 135
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 46,
    "content": "### Premium Boost Features",
    "char_count": 26
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 47,
    "content": "1. **Advanced Analytics**",
    "char_count": 25
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 48,
    "content": "- Detailed performance insights\n   - Competitive analysis tools\n   - Market positioning data",
    "char_count": 95
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 49,
    "content": "2. **Targeted Promotion**\n   - Location-based targeting\n   - Industry-specific promotion\n   - Custom audience targeting",
    "char_count": 119
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 50,
    "content": "## Performance Optimization",
    "char_count": 27
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 51,
    "content": "### Recent Improvements",
    "char_count": 23
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 52,
    "content": "1. **Enhanced User Interface**",
    "char_count": 30
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 53,
    "content": "- More intuitive boost configuration\n   - Improved visual feedback and confirmation\n   - Better mobile responsiveness",
    "char_count": 120
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 54,
    "content": "2. **Improved Analytics**",
    "char_count": 25
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 55,
    "content": "- Real-time performance tracking\n   - Better data visualization\n   - Enhanced reporting capabilities",
    "char_count": 103
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 56,
    "content": "3. **Optimized Workflow**\n   - Streamlined boost activation process\n   - Faster boost configuration\n   - Improved error handling and recovery",
    "char_count": 141
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 57,
    "content": "## Monetization Impact",
    "char_count": 22
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 58,
    "content": "### Revenue Generation",
    "char_count": 22
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 59,
    "content": "- Direct boost feature sales\n- Premium subscription upgrades\n- Professional service commissions\n- Enhanced advertising revenue",
    "char_count": 126
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 60,
    "content": "### User Engagement Metrics",
    "char_count": 27
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 61,
    "content": "- Increased professional profile usage\n- Higher user retention rates\n- Enhanced professional networking activity\n- Improved platform stickiness",
    "char_count": 143
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 62,
    "content": "## Integration with Other Components",
    "char_count": 36
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 63,
    "content": "### Related Components",
    "char_count": 22
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 64,
    "content": "- `ProHubPage.tsx` - Professional advertising integration\n- Professional network components\n- User profile management system\n- Analytics and tracking components",
    "char_count": 160
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 65,
    "content": "### System Dependencies",
    "char_count": 23
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 66,
    "content": "- Payment processing system\n- Professional profile database\n- Analytics and metrics engine\n- Notification and messaging system",
    "char_count": 126
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 67,
    "content": "## Usage Analytics",
    "char_count": 18
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 68,
    "content": "### Key Performance Indicators",
    "char_count": 30
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 69,
    "content": "1. **Boost Activation Rate**: Percentage of users who activate boosts\n2. **Boost Renewal Rate**: Rate of boost subscription renewals\n3. **Profile Enhancement Usage**: Adoption of profile improvement features\n4. **ROI Tracking**: Return on investment for boost purchases",
    "char_count": 269
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 70,
    "content": "### Success Metrics",
    "char_count": 19
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 71,
    "content": "- Increased professional profile visibility\n- Enhanced user engagement with professional features\n- Improved monetization from professional services\n- Higher user satisfaction with boost features",
    "char_count": 195
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 72,
    "content": "## Future Development",
    "char_count": 21
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 73,
    "content": "### Planned Enhancements",
    "char_count": 24
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 74,
    "content": "1. **AI-Powered Optimization**",
    "char_count": 30
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 75,
    "content": "- Intelligent boost recommendations\n   - Automated boost optimization\n   - Predictive performance analytics",
    "char_count": 110
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 76,
    "content": "2. **Enhanced Targeting**",
    "char_count": 25
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 77,
    "content": "- Advanced demographic targeting\n   - Behavioral targeting capabilities\n   - Geographic expansion tools",
    "char_count": 106
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 78,
    "content": "3. **Integration Improvements**\n   - Better social media integration\n   - Enhanced CRM connectivity\n   - Advanced API capabilities",
    "char_count": 130
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 79,
    "content": "### Roadmap Considerations",
    "char_count": 26
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 80,
    "content": "- Mobile app native boost features\n- Cross-platform boost synchronization\n- Enterprise boost solutions\n- White-label boost offerings",
    "char_count": 132
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 81,
    "content": "## Troubleshooting and Support",
    "char_count": 30
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 82,
    "content": "### Common Issues",
    "char_count": 17
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 83,
    "content": "1. **Boost Activation Problems**: Configuration and payment processing issues\n2. **Analytics Discrepancies**: Data synchronization and reporting concerns\n3. **Performance Issues**: Boost effectiveness and visibility problems",
    "char_count": 224
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 84,
    "content": "### Support Resources",
    "char_count": 21
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 85,
    "content": "- Boost feature documentation\n- Video tutorials and guides\n- Customer support integration\n- Community forum assistance",
    "char_count": 118
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 86,
    "content": "## Related Documentation",
    "char_count": 24
  },
  {
    "file_path": "BOOST_PROFILE_COMPONENT",
    "chunk_index": 87,
    "content": "- [Pro Hub Page Component](PROHUB_PAGE_COMPONENT.md)\n- [Professional Networking Features](PROFESSIONAL_NETWORKING.md)\n- [Analytics and Metrics System](ANALYTICS_SYSTEM.md)\n- [Payment Processing Integration](PAYMENT_SYSTEM.md)",
    "char_count": 226
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 0,
    "content": "---\nid: 693f21686275321382b2bc34\nrevision: 1\n---\n# ClientPass Platform Changelog",
    "char_count": 80
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 1,
    "content": "**Project**: ClientPass - Beauty Professional Referral & Collaboration Platform  \n**Documentation Site**: clientpass-doc-site-master",
    "char_count": 132
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 2,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 3,
    "content": "## November 2025 - AI Integration & Enhanced Workflows",
    "char_count": 54
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 4,
    "content": "### Major Features Added",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 5,
    "content": "#### 🤖 AI Gateway & Intelligent Features",
    "char_count": 41
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 6,
    "content": "**Added**: November 8, 2025",
    "char_count": 27
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 7,
    "content": "A comprehensive AI integration layer that abstracts multiple AI providers and powers intelligent platform features.",
    "char_count": 115
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 8,
    "content": "**New Components**:",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 9,
    "content": "- `AIConfiguration.tsx`: Admin interface for configuring AI providers and system prompts\n- AI Gateway (`src/lib/aiGateway.ts`): Provider-agnostic AI service layer\n- React Hooks: `useAIChat`, `useAIEmbedding`, `useAIStream`",
    "char_count": 222
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 10,
    "content": "**Supported Providers**:",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 11,
    "content": "- Google Gemini 2.5 (Pro, Flash, Flash-Lite)\n- OpenAI GPT-5 (GPT-5, Mini, Nano, Pro, O3, O4)\n- Anthropic Claude 4.5 (Sonnet, Haiku, Opus)\n- Ollama (local deployment)",
    "char_count": 165
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 12,
    "content": "**AI-Powered Capabilities**:",
    "char_count": 28
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 13,
    "content": "1. **Intelligent Matching**: LLM-enhanced stylist-client matching considering specialty, experience, client history\n2. **Smart Recommendations**: Personalized service and product suggestions\n3. **Review Analysis**: Automated sentiment analysis and summary generation\n4. **Content Generation**: AI-assisted profile bio creation for professionals\n5. **Natural Language Booking**: Chatbot interface for scheduling\n6. **Semantic Search**: Vector embeddings for profile and service matching",
    "char_count": 485
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 14,
    "content": "**Database Tables**:",
    "char_count": 20
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 15,
    "content": "- `ai_configurations`: Provider settings and system prompts\n- `ai_usage_tracking`: Complete audit trail (provider, model, tokens, cost, latency)\n- `ai_embeddings`: Vector storage with pgvector for semantic search",
    "char_count": 212
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 16,
    "content": "**Requirements**: REQ-701 through REQ-710",
    "char_count": 41
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 17,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 18,
    "content": "#### 🔄 Quick Rebook System",
    "char_count": 27
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 19,
    "content": "**Added**: November 8, 2025",
    "char_count": 27
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 20,
    "content": "Streamlined rebooking experience for repeat appointments with one-click functionality.",
    "char_count": 86
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 21,
    "content": "**New Components**:",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 22,
    "content": "- `QuickRebook.tsx`: One-click rebooking interface with pre-filled data\n- `BookDrawer.tsx`: Professional's booking management drawer\n- `EnhancedRebookForm.tsx`: Improved form with service catalog integration",
    "char_count": 207
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 23,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 24,
    "content": "- Pre-fill from previous appointments (professional, services, location)\n- AI-powered time slot suggestions based on booking patterns\n- Service modification during rebook\n- Real-time availability validation\n- Professional quick accept/decline interface\n- Alternative time proposals",
    "char_count": 281
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 25,
    "content": "**Database Tables**:",
    "char_count": 20
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 26,
    "content": "- `booking_history`: Complete appointment records\n- `rebook_preferences`: User rebooking preferences",
    "char_count": 100
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 27,
    "content": "**User Stories**: 10 new stories in Quick Rebook epic\n**Requirements**: REQ-1001 through REQ-1010",
    "char_count": 97
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 28,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 29,
    "content": "#### 📦 Service Catalog System",
    "char_count": 30
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 30,
    "content": "**Updated**: November 8, 2025",
    "char_count": 29
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 31,
    "content": "Centralized platform for managing and standardizing service offerings across all professionals.",
    "char_count": 95
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 32,
    "content": "**New Components**:",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 33,
    "content": "- `AdminServiceCatalog.tsx`: Admin interface for global catalog management\n- `ServiceTaxonomySelector.tsx`: Hierarchical service selection\n- `EnhancedServiceSelector.tsx`: Improved UX with taxonomy navigation\n- Service Taxonomy Library (`src/lib/serviceTaxonomy.ts`)",
    "char_count": 266
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 34,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 35,
    "content": "- Hierarchical organization: Categories → Subcategories → Service Types\n- Standardized service definitions with pricing and duration guidance\n- Bulk operations for efficient management\n- Category-based browsing and selection\n- Auto-population of pricing/duration from catalog",
    "char_count": 275
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 36,
    "content": "**Database Tables**:",
    "char_count": 20
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 37,
    "content": "- `service_catalog`: Centralized service repository\n- `service_taxonomy`: Hierarchical categorization structure",
    "char_count": 111
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 38,
    "content": "**User Stories**: 10 new stories in Service Catalog Management epic\n**Requirements**: REQ-801 through REQ-808",
    "char_count": 109
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 39,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 40,
    "content": "#### ⚙️ Referral Adjustment System",
    "char_count": 34
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 41,
    "content": "**Updated**: November 8, 2025",
    "char_count": 29
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 42,
    "content": "Post-creation modification system for referrals with automated approval workflows.",
    "char_count": 82
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 43,
    "content": "**New Components**:",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 44,
    "content": "- `AdjustReferralModal.tsx`: Interface for referral modifications\n- `EnhancedAdjustServiceModal.tsx`: Improved modal with real-time calculations\n- Service Adjustment Calculator (`src/lib/serviceAdjustmentCalculator.ts`)",
    "char_count": 219
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 45,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 46,
    "content": "- Modify services, pricing, and duration after creation\n- Auto-approval for minor adjustments (under thresholds)\n- Manual approval for major changes\n- Real-time fee and commission recalculation\n- Complete audit trail with before/after comparisons\n- Validation against predefined rules",
    "char_count": 284
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 47,
    "content": "**Edge Functions**:",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 48,
    "content": "- `adjust-referral`: Process modification requests\n- `auto-confirm-adjustments`: Automated approval logic\n- `calculate-adjustment-impact`: Fee/commission calculations",
    "char_count": 166
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 49,
    "content": "**Database Tables**:",
    "char_count": 20
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 50,
    "content": "- `referral_adjustments`: Audit log of all modifications",
    "char_count": 56
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 51,
    "content": "**User Stories**: 10 new stories in Referral Adjustments epic\n**Requirements**: REQ-901 through REQ-910",
    "char_count": 103
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 52,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 53,
    "content": "## Architecture Changes",
    "char_count": 23
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 54,
    "content": "### Technology Stack Updates",
    "char_count": 28
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 55,
    "content": "**AI Integration**:",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 56,
    "content": "- Added AI SDKs: `@google/generative-ai@0.21.0`, `openai@4.73.0`, `@anthropic-ai/sdk@0.32.1`\n- Implemented AI Gateway pattern for provider abstraction\n- Added pgvector extension for embedding storage",
    "char_count": 199
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 57,
    "content": "**Backend Enhancements**:",
    "char_count": 25
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 58,
    "content": "- MongoDB Atlas integration for RAG documentation system\n- Expanded Edge Functions for AI operations\n- Dynamic configuration with hot-reload capability",
    "char_count": 151
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 59,
    "content": "**Security**:",
    "char_count": 13
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 60,
    "content": "- API key encryption for AI providers\n- Enhanced RLS policies for new tables\n- Audit logging for all AI operations",
    "char_count": 114
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 61,
    "content": "### Database Schema Evolution",
    "char_count": 29
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 62,
    "content": "**Extensions Required**:",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 63,
    "content": "- `pgvector`: Vector similarity search\n- `pg_cron`: Scheduled tasks (auto-confirm adjustments)\n- `uuid-ossp`: UUID generation",
    "char_count": 125
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 64,
    "content": "**New Indexes**:",
    "char_count": 16
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 65,
    "content": "- `idx_referrals_adjustment_status` on referrals\n- `idx_booking_history_client` on booking_history\n- `idx_ai_usage_timestamp` on ai_usage_tracking\n- `idx_ai_embeddings_vector` (IVFFlat/HNSW) for similarity search",
    "char_count": 212
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 66,
    "content": "### Modified Core Tables",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 67,
    "content": "**`referrals`**:",
    "char_count": 16
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 68,
    "content": "- Added `adjustment_status`, `last_adjusted_at`\n- Added `rebooked_from` for tracking repeat bookings\n- Added `catalog_service_id` references",
    "char_count": 140
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 69,
    "content": "**`services`**:",
    "char_count": 15
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 70,
    "content": "- Added `catalog_service_id` to link standardized entries\n- Transitioning from independent definitions to catalog references",
    "char_count": 124
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 71,
    "content": "**`users`**:",
    "char_count": 12
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 72,
    "content": "- Added service catalog preferences\n- Added AI feature opt-in/opt-out flags\n- Enhanced with embedding storage for profile matching",
    "char_count": 130
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 73,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 74,
    "content": "## Documentation Updates",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 75,
    "content": "### Updated Documents (November 8, 2025)",
    "char_count": 40
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 76,
    "content": "1. **ARCHITECTURE.md** (Revision 15 → 16):",
    "char_count": 42
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 77,
    "content": "- Added Section 1.4: AI Integration Layer\n   - Added Section 3.1-3.4: New systems (Service Catalog, AI Features, Referral Adjustments, Quick Rebook)\n   - Added Section 4.1: AI-Enhanced Data Flow\n   - Added Sections 5-6: Third-Party Integrations & Security Architecture",
    "char_count": 271
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 78,
    "content": "2. **SYSTEM_DESIGN.md** (Revision 15 → 16):",
    "char_count": 43
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 79,
    "content": "- Added Section 3.6: AI Gateway & Intelligent Features\n   - Added Section 3.7: Service Catalog System\n   - Added Section 3.8: Referral Adjustment System\n   - Added Section 3.9: Quick Rebook System",
    "char_count": 199
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 80,
    "content": "3. **DATABASE_SCHEMA.md** (Revision 15 → 16):",
    "char_count": 45
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 81,
    "content": "- Added AI Integration Tables section\n   - Added `ai_configurations`, `ai_usage_tracking`, `ai_embeddings`\n   - Added `booking_history`, `rebook_preferences`\n   - Updated Recent Schema Changes with November 2025 additions\n   - Added migration strategy documentation",
    "char_count": 268
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 82,
    "content": "4. **SRS.md** (Revision 18 → 19):",
    "char_count": 33
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 83,
    "content": "- Added Section 3.1.7: AI-Powered Features (REQ-701 to REQ-710)\n   - Added Section 3.1.8: Service Catalog Management (REQ-801 to REQ-808)\n   - Added Section 3.1.9: Referral Adjustments (REQ-901 to REQ-910)\n   - Added Section 3.1.10: Quick Rebook System (REQ-1001 to REQ-1010)\n   - Enhanced non-functional requirements (PERF-02/03, SEC-03/04, USAB-02/03, REL-02, MAINT-01/02)",
    "char_count": 377
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 84,
    "content": "5. **USER_STORIES.md** (Revision 15 → 16):\n   - Added Epic: AI-Assisted Features (10 stories)\n   - Added Epic: Service Catalog Management (10 stories)\n   - Added Epic: Referral Adjustments (10 stories)\n   - Added Epic: Quick Rebook System (10 stories)",
    "char_count": 251
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 85,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 86,
    "content": "## Migration Guide for Developers",
    "char_count": 33
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 87,
    "content": "### For Developers Pulling Latest Changes",
    "char_count": 41
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 88,
    "content": "#### 1. Database Migrations",
    "char_count": 27
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 89,
    "content": "```bash\n# Run all pending migrations\ncd supabase\nsupabase migration up",
    "char_count": 70
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 90,
    "content": "# Install pgvector extension\npsql -c \"CREATE EXTENSION vector;\"\n```",
    "char_count": 67
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 91,
    "content": "#### 2. Install New Dependencies",
    "char_count": 32
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 92,
    "content": "```bash\n# API dependencies\ncd api\nnpm install",
    "char_count": 45
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 93,
    "content": "# New packages:\n# - @google/generative-ai@0.21.0\n# - openai@4.73.0\n# - @anthropic-ai/sdk@0.32.1\n```",
    "char_count": 99
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 94,
    "content": "#### 3. Environment Configuration",
    "char_count": 33
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 95,
    "content": "Add to `.env.local`:",
    "char_count": 20
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 96,
    "content": "```bash\n# AI Provider Keys\nGOOGLE_API_KEY=your_google_key\nOPENAI_API_KEY=your_openai_key\nANTHROPIC_API_KEY=your_anthropic_key",
    "char_count": 125
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 97,
    "content": "# Frontend Keys (VITE_ prefix)\nVITE_GEMINI_API_KEY=your_google_key\nVITE_OPENAI_API_KEY=your_openai_key\nVITE_ANTHROPIC_API_KEY=your_anthropic_key\n```",
    "char_count": 148
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 98,
    "content": "#### 4. Seed Data",
    "char_count": 17
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 99,
    "content": "```bash\n# Load service catalog seed data\npsql < seed/service_catalog.sql\n```",
    "char_count": 76
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 100,
    "content": "#### 5. Rebuild Embeddings (Optional)",
    "char_count": 37
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 101,
    "content": "```bash\n# Rebuild vector embeddings for existing content\ncurl -X POST https://your-domain.com/api/rebuild-embeddings\n```",
    "char_count": 120
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 102,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 103,
    "content": "## Breaking Changes",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 104,
    "content": "### None",
    "char_count": 8
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 105,
    "content": "All changes are additive. Existing functionality remains unchanged.",
    "char_count": 67
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 106,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 107,
    "content": "## Deprecations",
    "char_count": 15
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 108,
    "content": "### `services` Table Individual Definitions",
    "char_count": 43
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 109,
    "content": "**Status**: Transitioning to catalog-based references  \n**Timeline**: Q1 2026  \n**Action Required**: Update service creation flows to use `service_catalog`",
    "char_count": 155
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 110,
    "content": "**Migration Path**:",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 111,
    "content": "1. Services with `catalog_service_id=NULL` continue to work\n2. New services should reference catalog entries\n3. Admin tool available to migrate existing services",
    "char_count": 161
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 112,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 113,
    "content": "## Performance Improvements",
    "char_count": 27
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 114,
    "content": "1. **AI Response Caching**: Frequently used prompts cached to reduce API calls\n2. **Vector Index Optimization**: HNSW index for <100ms similarity searches\n3. **Service Catalog Query**: Sub-1-second search with taxonomy indexes\n4. **Booking History Pagination**: Improved query performance for large histories",
    "char_count": 308
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 115,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 116,
    "content": "## Security Enhancements",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 117,
    "content": "1. **API Key Encryption**: All AI provider keys encrypted at rest\n2. **PII Minimization**: User data anonymized before AI processing\n3. **Rate Limiting**: AI endpoints protected against abuse\n4. **Audit Logging**: Complete trail of all AI operations with user tracking",
    "char_count": 268
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 118,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 119,
    "content": "## Known Issues",
    "char_count": 15
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 120,
    "content": "### None",
    "char_count": 8
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 121,
    "content": "All features tested and production-ready.",
    "char_count": 41
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 122,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 123,
    "content": "## Upcoming Features (Q1 2026)",
    "char_count": 30
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 124,
    "content": "### Planned Enhancements",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 125,
    "content": "1. **Multi-Language Support**: AI-powered translation for international markets\n2. **Voice Booking**: Natural language voice interface for hands-free booking\n3. **Image Analysis**: AI-powered style matching from inspiration photos\n4. **Predictive Scheduling**: ML-based optimal time slot recommendations\n5. **Smart Pricing**: Dynamic pricing suggestions based on demand",
    "char_count": 369
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 126,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 127,
    "content": "## Contributors",
    "char_count": 15
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 128,
    "content": "- Architecture Team: System design and database schema\n- AI Team: AI Gateway implementation and provider integrations\n- Product Team: Feature requirements and user stories\n- Documentation Team: Comprehensive documentation updates",
    "char_count": 229
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 129,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 130,
    "content": "## References",
    "char_count": 13
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 131,
    "content": "- [Architecture Overview](./ARCHITECTURE.md)\n- [System Design Document](./SYSTEM_DESIGN.md)\n- [Database Schema](./DATABASE_SCHEMA.md)\n- [Software Requirements Specification](./SRS.md)\n- [User Stories](./USER_STORIES.md)\n- [AI Gateway Pattern](./AI_GATEWAY_PATTERN.md)\n- [Service Catalog System](./SERVICE_CATALOG.md)\n- [Quick Rebook System](./QUICK_REBOOK.md)\n- [Referral Adjustments](./REFERRAL_ADJUSTMENTS.md)",
    "char_count": 411
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 132,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG",
    "chunk_index": 133,
    "content": "**Last Updated**: November 8, 2025  \n**Version**: 2.0.0 (AI-Enhanced Platform)",
    "char_count": 78
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 0,
    "content": "---\nid: 693f216886ee4eb0b167bca2\nrevision: 1\n---\n# Changelog - Style Referral Ring Application",
    "char_count": 94
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 1,
    "content": "## Version History with Automated LangGraph Processing",
    "char_count": 54
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 2,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 3,
    "content": "## [Latest] - December 14, 2025 (Automated Processing)",
    "char_count": 54
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 4,
    "content": "### 🤖 AI-Processed Updates via LangGraph Intelligence",
    "char_count": 54
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 5,
    "content": "**Processing Method**: Automated commit analysis with component classification  \n**Total Commits**: 5 new commits since November 8, 2025  \n**AI Analysis**: Complete impact assessment with user-facing change detection",
    "char_count": 216
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 6,
    "content": "### Added/Improved ✨",
    "char_count": 20
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 7,
    "content": "#### Pro Hub Enhancements",
    "char_count": 25
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 8,
    "content": "- **Commit 852825d**: Fixed Pro Hub ad click flow functionality\n- **Commit 3640738**: Enhanced Pro Hub advertising functionality\n- Both commits focused on `src/components/pages/ProHubPage.tsx`\n- **Impact**: Improved user interaction with Pro Hub advertising features",
    "char_count": 266
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 9,
    "content": "#### Page Component Updates",
    "char_count": 27
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 10,
    "content": "- **Commit 65e82da**: Updates to Home and Inbox pages\n  - Modified `src/components/pages/HomePage.tsx`\n  - Modified `src/components/pages/InboxPage.tsx`\n- **Impact**: Enhanced user experience across core application pages",
    "char_count": 221
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 11,
    "content": "#### Boost Profile Improvements",
    "char_count": 31
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 12,
    "content": "- **Commit e377dae**: BoostProfile component improvements\n  - Modified `src/components/boost/BoostProfile.tsx`\n- **Impact**: Enhanced boost functionality and user experience",
    "char_count": 173
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 13,
    "content": "#### Inbox Notification Fixes",
    "char_count": 29
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 14,
    "content": "- **Commit fba68cf**: Fixed inbox notifications display issues\n  - Modified `src/components/pages/InboxPage.tsx`\n- **Impact**: Resolved notification display problems for better user communication",
    "char_count": 195
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 15,
    "content": "### Technical Details 📋",
    "char_count": 24
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 16,
    "content": "**Component Classification (AI Analysis)**:",
    "char_count": 43
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 17,
    "content": "- **Page Components**: 80% of changes (4/5 commits)\n- **Boost Features**: 20% of changes (1/5 commits)",
    "char_count": 102
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 18,
    "content": "**Impact Analysis (AI-Powered)**:",
    "char_count": 33
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 19,
    "content": "- **User-Facing Changes**: 100% (5/5 commits)\n- **Feature Changes**: 100% (5/5 commits)\n- **Backend Changes**: 0% (0/5 commits)\n- **UI Changes**: Classified as feature-level improvements",
    "char_count": 186
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 20,
    "content": "**File Modification Summary**:",
    "char_count": 30
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 21,
    "content": "- `ProHubPage.tsx`: 2 commits (most active component)\n- `InboxPage.tsx`: 2 commits (notification improvements)\n- `HomePage.tsx`: 1 commit (general enhancements)\n- `BoostProfile.tsx`: 1 commit (boost functionality)",
    "char_count": 213
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 22,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 23,
    "content": "## [Previous] - November 8, 2025",
    "char_count": 32
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 24,
    "content": "### Major Feature Additions",
    "char_count": 27
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 25,
    "content": "#### Service Catalog System ⭐ NEW",
    "char_count": 33
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 26,
    "content": "- Comprehensive platform feature for centralized service management\n- Admin interface for catalog management\n- Hierarchical service selection component\n- Improved service selection UX\n- Taxonomy and categorization logic",
    "char_count": 219
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 27,
    "content": "#### Professional Network Integration",
    "char_count": 37
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 28,
    "content": "- Enhanced network features\n- Professional connections\n- Network management tools",
    "char_count": 81
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 29,
    "content": "#### Boost System Enhancements",
    "char_count": 30
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 30,
    "content": "- Enhanced boost functionality (expanded in December commits)\n- Boost profile management\n- Performance optimizations",
    "char_count": 116
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 31,
    "content": "### Database Changes",
    "char_count": 20
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 32,
    "content": "- New `service_catalog` table implementation\n- Enhanced `services` table with catalog linking\n- 6 new database migrations\n- Performance optimizations",
    "char_count": 149
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 33,
    "content": "### Documentation Updates",
    "char_count": 25
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 34,
    "content": "- 40+ documentation files updated\n- 15+ new documentation sections\n- Complete API documentation refresh\n- Architecture documentation updates",
    "char_count": 140
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 35,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 36,
    "content": "## Processing Metadata 🔍",
    "char_count": 25
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 37,
    "content": "### Automated System Details",
    "char_count": 28
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 38,
    "content": "- **Processing Engine**: LangGraph with GPT-4o-mini intelligence\n- **Monitoring**: Real-time file system watching\n- **Documentation Generation**: AI-powered markdown creation\n- **Component Analysis**: Automatic classification and impact assessment\n- **RAG Integration**: MongoDB Atlas vector search preparation\n- **Background Processing**: Daemon-based continuous monitoring",
    "char_count": 374
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 39,
    "content": "### Quality Metrics",
    "char_count": 19
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 40,
    "content": "- **Processing Success Rate**: 100% (5/5 commits processed successfully)\n- **Documentation Coverage**: 100% (all commits documented)\n- **Component Classification Accuracy**: AI-verified classifications\n- **Processing Speed**: Sub-second analysis per commit",
    "char_count": 256
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 41,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 42,
    "content": "## Next Updates",
    "char_count": 15
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 43,
    "content": "The automated system continues monitoring for new commits and will:",
    "char_count": 67
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 44,
    "content": "- Process new trigger files automatically\n- Generate comprehensive documentation with AI analysis\n- Update RAG system with new technical information\n- Maintain real-time synchronization between source and documentation",
    "char_count": 218
  },
  {
    "file_path": "CHANGELOG_UPDATED",
    "chunk_index": 45,
    "content": "**System Status**: ✅ Fully operational with background automation",
    "char_count": 66
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb7479feecff6266a76\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 1,
    "content": "# CI/CD Strategy",
    "char_count": 16
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 2,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 3,
    "content": "### 1.1 Purpose",
    "char_count": 15
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 4,
    "content": "This document outlines the Continuous Integration (CI) and Continuous Deployment (CD) strategy for the ClientPass application. The goal is to establish a fully automated pipeline for building, testing, and deploying the frontend application and backend infrastructure to ensure rapid, reliable, and consistent releases.",
    "char_count": 319
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 5,
    "content": "## 2. Core Technologies",
    "char_count": 23
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 6,
    "content": "- **Version Control**: GitHub\n- **CI/CD Platform**: GitHub Actions\n- **Frontend Hosting**: Vercel (recommended for its seamless integration with Vite/React)\n- **Backend & Database**: Supabase (including Edge Functions and PostgreSQL)",
    "char_count": 233
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 7,
    "content": "## 3. Branching Strategy",
    "char_count": 24
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 8,
    "content": "We will adopt a **GitHub Flow** branching model, which is simple and well-suited for web applications that require frequent deployments.",
    "char_count": 136
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 9,
    "content": "- **`main` branch**: This is the primary branch. It represents the production-ready state of the application. All pull requests are merged into `main` after review and passing checks.\n- **Feature branches**: All new work (features, bug fixes) must be done on a separate branch, created from `main`. Branch names should be descriptive (e.g., `feat/user-dashboard`, `fix/login-bug`).\n- **Pull Requests (PRs)**: Changes are merged into `main` via a Pull Request. A PR must be reviewed by at least one other team member and must pass all automated CI checks before it can be merged.",
    "char_count": 578
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 10,
    "content": "## 4. Continuous Integration (CI) Pipeline",
    "char_count": 42
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 11,
    "content": "The CI pipeline will be managed by **GitHub Actions**. A workflow file will be created at `.github/workflows/ci.yml`.",
    "char_count": 117
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 12,
    "content": "- **Trigger**: The CI workflow will run on every `push` to any branch and on every `pull_request` targeting the `main` branch.",
    "char_count": 126
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 13,
    "content": "- **Jobs**:\n  1.  **Lint**: Runs `npm run lint` to enforce code style and catch syntax errors early.\n  2.  **Unit & Integration Tests**: Runs `npm run test` to execute all automated tests using Jest and React Testing Library. This is a critical quality gate.\n  3.  **Build**: Runs `npm run build` to ensure the Vite application compiles successfully for production. This catches type errors and build configuration issues.",
    "char_count": 422
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 14,
    "content": "If any of these jobs fail, the PR will be blocked from merging.",
    "char_count": 63
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 15,
    "content": "## 5. Continuous Deployment (CD) Pipeline",
    "char_count": 41
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 16,
    "content": "The CD pipeline will handle the deployment of the frontend and backend to different environments.",
    "char_count": 97
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 17,
    "content": "### 5.1 Staging Environment",
    "char_count": 27
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 18,
    "content": "- **Purpose**: A pre-production environment that mirrors production for final testing and UAT.\n- **Trigger**: Automatic deployment on every merge to the `main` branch.\n- **Frontend Deployment**: The project will be linked to Vercel. Vercel will automatically detect pushes to `main` and deploy the frontend, providing a stable staging URL.\n- **Backend Deployment**: The GitHub Actions workflow will use the **Supabase CLI** to deploy backend changes:\n  - **Database Migrations**: `supabase db push` will apply any new migrations from the `supabase/migrations` directory to the staging Supabase project.\n  - **Edge Functions**: `supabase functions deploy` will deploy all functions in the `supabase/functions` directory.",
    "char_count": 719
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 19,
    "content": "### 5.2 Production Environment",
    "char_count": 30
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 20,
    "content": "- **Purpose**: The live environment for end-users.\n- **Trigger**: Manual deployment for controlled releases. This can be a manual workflow dispatch in GitHub Actions or by promoting a Vercel deployment.\n- **Frontend Deployment**: A Vercel deployment from the `main` branch that has been verified on staging is promoted to the production domain.\n- **Backend Deployment**: The same GitHub Actions workflow used for staging will be run with production environment variables to deploy database migrations and Edge Functions to the production Supabase project.",
    "char_count": 555
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 21,
    "content": "## 6. Database Migrations",
    "char_count": 25
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 22,
    "content": "Database schema changes will be managed through Supabase's migration system.",
    "char_count": 76
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 23,
    "content": "1.  **Local Development**: Developers create new migration files using the Supabase CLI: `supabase migration new <migration_name>`.\n2.  **Committing**: The generated SQL file in `supabase/migrations` is committed to the feature branch.\n3.  **Deployment**: The CI/CD pipeline automatically applies the new migration to the staging and production databases using `supabase db push` during deployment.",
    "char_count": 398
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 24,
    "content": "## 7. Environment Variables and Secrets",
    "char_count": 39
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 25,
    "content": "Secrets and environment-specific variables will be managed securely:",
    "char_count": 68
  },
  {
    "file_path": "CICD_STRATEGY",
    "chunk_index": 26,
    "content": "- **GitHub Actions Secrets**: Used to store `SUPABASE_ACCESS_TOKEN`, `SUPABASE_DB_PASSWORD`, and other tokens required for the CI/CD pipeline to interact with Supabase.\n- **Vercel Environment Variables**: Used to store frontend-specific variables like `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY`. Separate sets of variables will be maintained for `Preview` (staging) and `Production` environments.\n- **Supabase Environment Variables**: Used for secrets required by Edge Functions (e.g., API keys for third-party services like Resend). These are managed directly in the Supabase project dashboard.",
    "char_count": 602
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 0,
    "content": "---\nid: 693f21689293ae80ccf2fefd\nrevision: 1\n---\n# Client Dashboard",
    "char_count": 67
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Client Dashboard, the main interface for clients using the ClientPass platform. It allows them to book appointments, manage their schedule, and track their referrals.",
    "char_count": 219
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 3,
    "content": "The Client Dashboard is designed to provide a seamless and intuitive experience for clients. It serves as their personal hub for all interactions with stylists and the ClientPass platform.",
    "char_count": 188
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 4,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 5,
    "content": "### 2.1. Upcoming Appointments",
    "char_count": 30
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 6,
    "content": "-   **At-a-Glance View:** Clients can quickly see their next upcoming appointment, including the stylist's name, service, and time.\n-   **Appointment Management:** Options to reschedule or cancel appointments directly from the dashboard.",
    "char_count": 237
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 7,
    "content": "### 2.2. My Stylists",
    "char_count": 20
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 8,
    "content": "-   **Favorite Stylists:** A list of stylists the client has previously booked with or marked as favorites.\n-   **Easy Rebooking:** Quick access to book new appointments with their preferred stylists.\n-   **Discover New Stylists:** May include recommendations for new stylists based on past bookings or preferences.",
    "char_count": 315
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 9,
    "content": "### 2.3. Share and Earn",
    "char_count": 23
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 10,
    "content": "-   **Referral Program:** Information about the ClientPass referral program, encouraging clients to refer friends and earn rewards.\n-   **Sharing Tools:** A button to easily share their unique referral link with friends and family.",
    "char_count": 231
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 11,
    "content": "### 2.4. Booking Workflow",
    "char_count": 25
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 12,
    "content": "-   **Intuitive Booking:** A streamlined process for finding and booking new appointments with stylists.\n-   **Service Selection:** Clients can select desired services and view stylist availability.",
    "char_count": 198
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 13,
    "content": "### 2.5. Appointment History",
    "char_count": 28
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 14,
    "content": "-   **Past Appointments:** A record of all past appointments, including details of services received and stylists visited.\n-   **Reviews:** Option to leave reviews for past services.",
    "char_count": 182
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 15,
    "content": "### 2.6. Notifications",
    "char_count": 22
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 16,
    "content": "-   **Centralized Inbox:** An inbox for all notifications, including appointment confirmations, reminders, and promotional offers.",
    "char_count": 130
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 17,
    "content": "### 2.7. Profile Management",
    "char_count": 27
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 18,
    "content": "-   **Personal Settings:** A page for managing the client's personal profile and settings.\n-   **Payment Methods:** Management of payment information.",
    "char_count": 150
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 19,
    "content": "## 3. User Interface",
    "char_count": 20
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 20,
    "content": "The Client Dashboard features a clean and intuitive user interface:",
    "char_count": 67
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 21,
    "content": "-   **Header:** Contains the ClientPass logo and a user profile button (which opens a dropdown with \"My Appointments\" and \"Logout\").\n-   **Main Content Area:** Displays various cards and sections for upcoming appointments, stylists, and referral information.\n-   **Bottom Navigation:** Provides easy access to the main sections of the dashboard (Home, Book, History, Profile).",
    "char_count": 376
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 22,
    "content": "## 4. Benefits",
    "char_count": 14
  },
  {
    "file_path": "CLIENT_DASHBOARD",
    "chunk_index": 23,
    "content": "-   **Convenience:** Easy access to booking, managing appointments, and tracking referrals.\n-   **Personalization:** Tailored experience based on past interactions and preferences.\n-   **Rewards:** Opportunity to earn rewards through the referral program.\n-   **Transparency:** Clear overview of appointments, earnings, and notifications.",
    "char_count": 338
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 0,
    "content": "---\nid: 693f21687b9ebc4e9108b4b3\nrevision: 1\n---\n# Client Referral",
    "char_count": 66
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Client Referral feature.",
    "char_count": 77
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 3,
    "content": "The Client Referral feature allows a client to book an appointment with a stylist based on a referral link. This link is typically sent to the client by another stylist or by the ClientPass system.",
    "char_count": 197
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 4,
    "content": "The page is implemented in the `ClientReferral.tsx` page, which wraps the `ClientReferralDashboard.tsx` component.",
    "char_count": 114
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 5,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 6,
    "content": "### 2.1. View Referral Details",
    "char_count": 30
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 7,
    "content": "- When a client opens a referral link, they are taken to the Client Referral Dashboard.\n- The page fetches and displays the details of the referral, including:\n    - Client's name\n    - Service type\n    - Estimated price\n    - Deposit required\n    - Any notes from the referring stylist.\n- The page also shows the status of the referral (e.g., `pending`, `confirmed`).",
    "char_count": 368
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 8,
    "content": "### 2.2. View Referred Stylist",
    "char_count": 30
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 9,
    "content": "- The page prominently displays the stylist who was originally referred to the client.\n- The stylist's card shows their name, photo, membership tier (Pro), rating, specialties, and price range.\n- The client can view the stylist's full profile or book an appointment directly from this card.",
    "char_count": 290
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 10,
    "content": "### 2.3. View Alternative Stylists",
    "char_count": 34
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 11,
    "content": "- In addition to the referred stylist, the page also displays a list of other available professionals.\n- This gives the client more options to choose from if the referred stylist is not a good fit.\n- Each alternative stylist is displayed in a similar card format with their details.",
    "char_count": 282
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 12,
    "content": "### 2.4. Book an Appointment",
    "char_count": 28
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 13,
    "content": "- The client can book an appointment with either the referred stylist or one of the alternative stylists.\n- Clicking the \"Book Now\" button initiates the booking process.\n- For the demo, this simulates a deposit payment and confirms the booking.\n- The status of the referral is then updated to `confirmed` in the database.",
    "char_count": 321
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 14,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 15,
    "content": "The Client Referral feature interacts with the following tables in the Supabase database:",
    "char_count": 89
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 16,
    "content": "- `client_referral_links`: This table stores the unique tokens for client referral links and maps them to a `referral_id`.\n- `referrals`: This table contains the core details of the referral.\n- `users`: This table stores the profiles of the stylists.",
    "char_count": 250
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 17,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 18,
    "content": "The user interface consists of:",
    "char_count": 31
  },
  {
    "file_path": "CLIENT_REFERRAL",
    "chunk_index": 19,
    "content": "- A header with the application name.\n- A main content area that displays the appointment details, the referred stylist, and a list of alternative stylists.\n- A section with the deposit and cancellation policy.",
    "char_count": 211
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 0,
    "content": "---\nid: 693f21683e4d947b0f8c7dcc\nrevision: 1\n---\n---\ntitle: Frontend Component Guide\nrevision: 2.2\nlast_updated: November 8, 2025\n---",
    "char_count": 133
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 1,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 2,
    "content": "This document provides an overview of the component libraries used in the ClientPass application, covering both the web and mobile frontends.",
    "char_count": 141
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 3,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 4,
    "content": "## 2. Web Application (`style-referral-ring`)",
    "char_count": 45
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 5,
    "content": "### 2.1. Component Philosophy",
    "char_count": 29
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 6,
    "content": "- **Foundation**: The UI is built upon **shadcn-ui**, which provides unstyled, accessible base components (primitives).\n- **Styling**: All components are styled using **Tailwind CSS** utility classes.\n- **Composition**: Complex components are built by composing simpler ones.",
    "char_count": 275
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 7,
    "content": "### 2.2. Component Directory Structure",
    "char_count": 38
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 8,
    "content": "- **`src/components/ui/`**: Contains the base UI primitives from `shadcn-ui` (e.g., `Button`, `Card`, `Input`).\n- **`src/components/{feature}/`**: Contains custom components, specific to a particular feature domain (e.g., `src/components/referrals/`).",
    "char_count": 251
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 9,
    "content": "### 2.3. Key Feature Components",
    "char_count": 31
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 10,
    "content": "(This section describes the web app's components which are used as a reference for the mobile app)",
    "char_count": 98
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 11,
    "content": "- **Authentication (`/auth`)**: `LoginForm`, `SignUpForm`, `RoleGuard`.\n- **Administration (`/admin`)**: `MasterAdminConsole` and its various modules, including the new `AdminServiceCatalog`.\n- **Referrals (`/referrals`)**: `EnhancedReferralForm`, `CountdownTimer`, `ReferralTimerDashboard`, `AdjustReferralModal`.\n- **Open Chair (`/open-chair`)**: `PostOpenChairForm`, `LiveSessionCard`.\n- **Coverage Mode (`/coverage`)**: `CoverageModePage`, `VacationReferralForm`.\n- **Boost (`/boost`)**: `BoostStatusCard`.\n- **Booking (`/booking`)**: `QuickRebook`, `RebookForm`.\n- **Client (`/client`)**: `ClientBookingFlow`, `ClientReferralSection`, `ServiceSelection`, `ShareAndEarn`.\n- **Service Management (`/services`)**: `ServiceManager`, `ServiceTaxonomySelector`, `EnhancedServiceSelector`.\n- **Auto-Match (`/auto-match`)**: `AutoMatchSystem`.\n- **And more...**",
    "char_count": 858
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 12,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 13,
    "content": "## 3. React Native Mobile App (`clientpass-react-native`)",
    "char_count": 57
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 14,
    "content": "### 3.1. Component Philosophy",
    "char_count": 29
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 15,
    "content": "- **Foundation**: The UI is built using **React Native Paper**, a component library that implements Google's Material Design.\n- **Styling**: All components are styled using React Native's core **StyleSheet** API. A global theme is defined in `app/_layout.tsx` to ensure consistency.\n- **Icons**: Icons are primarily from the **lucide-react-native** library to maintain visual consistency with the web application.",
    "char_count": 413
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 16,
    "content": "### 3.2. Component Directory Structure",
    "char_count": 38
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 17,
    "content": "- **`app/(tabs)/`**: These files define the primary screens accessible from the main tab bar (e.g., `index.tsx` for Home, `schedule.tsx`, `earnings.tsx`).\n- **`components/`**: Contains reusable React Native components.\n  - **`components/dashboards/`**: Contains the top-level dashboard components for each user role (`ProDashboard`, `ClientDashboard`, etc.).\n    - **`components/dashboards/client/`**: Contains the sub-components that make up the tabbed `ClientDashboard`.\n  - **`components/ui/`**: Contains custom, reusable UI elements like `CustomSegmentedControl`.\n  - **Feature-specific components**: Other components are organized by feature (e.g., `boost/`, `client/`, `dashboard/`).",
    "char_count": 689
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 18,
    "content": "### 3.3. Base UI Components (`react-native-paper`)",
    "char_count": 50
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 19,
    "content": "These are the foundational components from React Native Paper.",
    "char_count": 62
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 20,
    "content": "- `Button`: For all clickable actions.\n- `Card`, `Card.Content`, `Card.Title`: The primary container for grouping related content.\n- `TextInput`: For all text input fields.\n- `List.Item`, `List.Section`: For creating structured lists.\n- `Avatar.Icon`, `Avatar.Image`: For displaying user avatars.\n- `Badge`: For status indicators.\n- `Switch`: For boolean toggles.\n- `SegmentedButtons`: For tab-like controls.",
    "char_count": 408
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 21,
    "content": "### 3.4. Key Feature Components",
    "char_count": 31
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 22,
    "content": "This section highlights some of the most important custom components built for the mobile app.",
    "char_count": 94
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 23,
    "content": "#### Dashboards (`/components/dashboards/`)\n- **`RoleBasedHomeScreen` (`app/(tabs)/index.tsx`)**: A top-level router component that renders the correct dashboard based on the authenticated user's role.\n- **`ProDashboard.tsx`**: The main dashboard for professional users. It includes `EarningsCard`, `BoostStatusCard`, and a series of `ActionCard`s for key workflows like posting open chairs and sending referrals.\n- **`ClientDashboard.tsx`**: A self-contained, tabbed dashboard for clients. It includes sub-components for a home overview, booking, payments, schedule, and more.\n- **`SuiteDashboard.tsx`**: A dashboard for salon suite owners to monitor in-suite activity.\n- **`AdminDashboard.tsx` & `AffiliateDashboard.tsx`**: Dashboards for admin and affiliate users.",
    "char_count": 767
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 24,
    "content": "#### Core UI (`/components/`)\n- **`ActionCard.tsx`**: A reusable card component for displaying a primary action with an icon, title, description, and navigation link.\n- **`ClientPassLogo.tsx`**: Displays the application's logo.\n- **`CustomSegmentedControl.tsx`**: A custom-styled tab selector that mimics the visual style of the web application's tabs.",
    "char_count": 352
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 25,
    "content": "#### Feature Screens (`/app/(tabs)/`)\n- **`earnings.tsx`**: A screen for professionals to track their pending, completed, and total earnings over different time periods.\n- **`pro-hub.tsx`**: A screen that displays featured partner deals and upcoming features for professionals.\n- **`inbox.tsx`**: A screen for users to view notifications, with a focus on actionable referral requests that include countdown timers.",
    "char_count": 414
  },
  {
    "file_path": "COMPONENT_GUIDE",
    "chunk_index": 26,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 0,
    "content": "---\nid: 693f2168cbb015e8c520ed30\nrevision: 1\n---\n# Countdown Timer Component",
    "char_count": 76
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the `CountdownTimer` component.",
    "char_count": 80
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 3,
    "content": "The `CountdownTimer` component is a reusable UI element designed to display a real-time countdown to a specified target time. It is primarily used in scenarios where a time-sensitive action or event is pending, such as referral response deadlines.",
    "char_count": 247
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 4,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 5,
    "content": "### 2.1. Real-time Countdown",
    "char_count": 28
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 6,
    "content": "-   Displays the remaining time in a user-friendly format (e.g., \"09m 30s\").\n-   Updates every second to provide an accurate countdown.",
    "char_count": 135
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 7,
    "content": "### 2.2. Customizable Display",
    "char_count": 29
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 8,
    "content": "-   **Title:** A customizable title can be displayed above the timer (e.g., \"Response Required\", \"Waiting for Response\").\n-   **Description:** An optional description can be provided to give more context to the timer.\n-   **Recipient Name:** Can display the name of the recipient for whom the timer is relevant.",
    "char_count": 311
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 9,
    "content": "### 2.3. Status Handling",
    "char_count": 24
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 10,
    "content": "-   The component supports different statuses (e.g., `waiting`, `expired`).\n-   The visual presentation of the timer can change based on its status (e.g., red color for expired timers).",
    "char_count": 185
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 11,
    "content": "### 2.4. Time-Up Callback",
    "char_count": 25
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 12,
    "content": "-   When the countdown reaches zero, a specified callback function (`onTimeUp`) is triggered.\n-   This allows the parent component to handle events that occur when the time limit is reached (e.g., reassigning a referral).",
    "char_count": 221
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 13,
    "content": "## 3. Usage",
    "char_count": 11
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 14,
    "content": "The `CountdownTimer` component is used in pages like `ReferralTimersPage.tsx` and `WaitingForResponse.tsx` to manage time-sensitive referral actions.",
    "char_count": 149
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 15,
    "content": "```tsx\nimport { CountdownTimer } from '@/components/referrals/CountdownTimer';",
    "char_count": 78
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 16,
    "content": "const MyPage = () => {\n  const handleTimeUp = () => {\n    console.log('Time is up!');\n    // Perform action, e.g., reassign referral\n  };",
    "char_count": 137
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 17,
    "content": "return (\n    <CountdownTimer\n      targetTime=\"2025-12-31T23:59:59Z\" // ISO string\n      onTimeUp={handleTimeUp}\n      title=\"Deadline Approaching\"\n      description=\"Please respond to this request soon.\"\n      status=\"waiting\"\n    />\n  );\n};\n```",
    "char_count": 248
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 18,
    "content": "## 4. Props",
    "char_count": 11
  },
  {
    "file_path": "COUNTDOWN_TIMER",
    "chunk_index": 19,
    "content": "-   `targetTime`: (string) An ISO 8601 formatted string representing the target end time of the countdown.\n-   `onTimeUp`: (function) A callback function to be executed when the countdown reaches zero.\n-   `title`: (string, optional) A title to display above the timer.\n-   `description`: (string, optional) A description to display below the timer.\n-   `recipientName`: (string, optional) The name of the recipient for whom the timer is relevant.\n-   `status`: (string) The current status of the timer (e.g., `waiting`, `expired`).\n-   `onAction`: (function, optional) A callback function for actions related to the timer (e.g., accept/decline).",
    "char_count": 647
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 0,
    "content": "---\nid: 693f2168beac600bbda866ff\nrevision: 1\n---\n# Coverage Mode",
    "char_count": 64
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Coverage Mode feature.",
    "char_count": 75
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 3,
    "content": "The Coverage Mode feature allows stylists to temporarily make themselves unavailable while ensuring their clients can still receive services from trusted colleagues. When a stylist activates Coverage Mode, other stylists within their trusted network can step in to cover their clients' needs. This feature is crucial for maintaining client satisfaction and business continuity during a stylist's absence.",
    "char_count": 404
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 4,
    "content": "The page is implemented in the `CoverageMode.tsx` page, which wraps the `CoverageModePage.tsx` component.",
    "char_count": 105
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 5,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 6,
    "content": "### 2.1. Activation and Deactivation",
    "char_count": 36
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 7,
    "content": "-   **Toggle Switch:** Stylists can easily activate or deactivate Coverage Mode using a prominent toggle switch on the page.\n-   **Status Display:** The current status of Coverage Mode (e.g., \"Active\", \"Inactive\") is clearly displayed.",
    "char_count": 235
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 8,
    "content": "### 2.2. Duration Setting",
    "char_count": 25
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 9,
    "content": "-   **Flexible Duration:** Stylists can set a specific duration for their Coverage Mode (e.g., 1 day, 1 week, custom date range).\n-   **Automatic Deactivation:** The system automatically deactivates Coverage Mode once the set duration expires.",
    "char_count": 243
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 10,
    "content": "### 2.3. Trusted Network Integration",
    "char_count": 36
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 11,
    "content": "-   When Coverage Mode is active, the stylist's clients can be referred to other stylists within their pre-defined trusted network.\n-   This ensures that clients are covered by professionals who meet the stylist's standards and preferences.",
    "char_count": 240
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 12,
    "content": "### 2.4. Client Communication",
    "char_count": 29
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 13,
    "content": "-   The system can automatically inform clients that their primary stylist is in Coverage Mode and suggest alternative stylists from the trusted network. (This is an implied feature based on the concept).",
    "char_count": 204
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 14,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 15,
    "content": "The Coverage Mode feature interacts with the `users` table in the Supabase database. The `coverage_mode` field in the `users` table is updated to reflect the stylist's availability status. Additional fields might include `coverage_start_date` and `coverage_end_date`.",
    "char_count": 267
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 16,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 17,
    "content": "The user interface for Coverage Mode typically includes:",
    "char_count": 56
  },
  {
    "file_path": "COVERAGE_MODE",
    "chunk_index": 18,
    "content": "-   A header with a back button and a \"Coverage Mode\" title.\n-   A toggle switch for activation/deactivation.\n-   Options for setting the duration of the coverage.\n-   A clear display of the current Coverage Mode status.",
    "char_count": 220
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266aa6\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 1,
    "content": "# Database Recommendations: MongoDB vs. Firestore vs. Supabase",
    "char_count": 62
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 2,
    "content": "This document provides a high-level overview and recommendation for the primary database, comparing MongoDB, Firestore, and Supabase.",
    "char_count": 133
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 3,
    "content": "## Recommendation for MongoDB",
    "char_count": 29
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 4,
    "content": "### Introduction",
    "char_count": 16
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 5,
    "content": "MongoDB is a popular, open-source, document-based database that stores data in flexible, JSON-like documents. It's a good choice for applications that require high scalability and have a flexible schema.",
    "char_count": 203
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 6,
    "content": "### Pros",
    "char_count": 8
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 7,
    "content": "- **Flexible Schema:** MongoDB's document model allows you to store data of any structure, which can be useful for evolving applications.\n- **Scalability:** MongoDB is designed to scale horizontally across multiple servers, which can handle large amounts of data and traffic.\n- **Rich Query Language:** MongoDB has a rich query language that allows for powerful and flexible queries.\n- **Good for Unstructured Data:** It's well-suited for storing unstructured or semi-structured data.",
    "char_count": 484
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 8,
    "content": "### Cons",
    "char_count": 8
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 9,
    "content": "- **No Native Real-time Updates:** Unlike Firestore and Supabase, MongoDB does not have a built-in solution for real-time data synchronization. You would need to implement this yourself using WebSockets or a third-party service.\n- **Complex Transactions:** While MongoDB supports multi-document ACID transactions, they are more complex to implement than in a traditional relational database.\n- **More Setup and Management:** You are responsible for setting up and managing your own authentication, authorization, and other backend services that Supabase and Firebase provide out of the box.",
    "char_count": 590
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 10,
    "content": "### Implementation Steps",
    "char_count": 24
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 11,
    "content": "1.  **Set up a MongoDB Atlas cluster:** MongoDB Atlas is a fully managed cloud database service that makes it easy to get started with MongoDB.\n2.  **Redesign the data model:** You would need to redesign your data model to fit a document-based structure, deciding which data to embed and which to reference.\n3.  **Migrate data:** Write scripts to migrate your data from the existing Postgres database to MongoDB.\n4.  **Build a new backend API:** You would need to build a new backend API (e.g., using Node.js and Express) to interact with the MongoDB database.\n5.  **Implement authentication:** You would need to implement your own authentication and authorization solution using a library like Passport.js or a service like Auth0.\n6.  **Update the frontend:** Update your React Native app to use the new backend API for data fetching and updates.",
    "char_count": 847
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 12,
    "content": "## Recommendation for Firestore",
    "char_count": 31
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 13,
    "content": "### Introduction",
    "char_count": 16
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 14,
    "content": "Firestore is a flexible, scalable, NoSQL document database from Google. It's part of the Firebase platform and is designed for building mobile, web, and serverless applications.",
    "char_count": 177
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 15,
    "content": "### Pros",
    "char_count": 8
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 16,
    "content": "- **Real-time Updates:** Firestore has excellent real-time data synchronization capabilities out of the box.\n- **Fully Managed and Serverless:** Firestore is a fully managed, serverless database, which means you don't have to worry about managing servers or infrastructure.\n- **Integrated with Firebase:** It's tightly integrated with other Firebase services, such as Firebase Authentication, Cloud Functions, and Storage.\n- **Offline Support:** Firestore has built-in offline support for mobile and web apps.",
    "char_count": 509
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 17,
    "content": "### Cons",
    "char_count": 8
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 18,
    "content": "- **Limited Queries:** Firestore's querying capabilities are more limited compared to MongoDB. You can't perform complex queries like joins or aggregations on the client-side.\n- **Data Modeling:** Data modeling can be more challenging in Firestore, as you need to carefully structure your data to allow for the queries you need.\n- **Vendor Lock-in:** By using Firestore, you are tying your application to the Firebase platform.",
    "char_count": 427
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 19,
    "content": "### Implementation Steps",
    "char_count": 24
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 20,
    "content": "1.  **Set up a Firebase project:** Create a new Firebase project and enable Firestore and Firebase Authentication.\n2.  **Redesign the data model:** You would need to redesign your data model for Firestore's document-and-collection structure.\n3.  **Migrate data:** Write scripts to migrate your data from Postgres to Firestore.\n4.  **Replace Supabase client with Firebase SDK:** You would need to replace the Supabase client with the Firebase SDK in your React Native app.\n5.  **Use Firebase Authentication:** You would use Firebase Authentication for user management.\n6.  **Update the frontend:** Update your React Native app to use the Firebase SDK for data fetching and real-time updates.",
    "char_count": 690
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 21,
    "content": "## Recommendation for Supabase",
    "char_count": 30
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 22,
    "content": "### Introduction",
    "char_count": 16
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 23,
    "content": "Supabase is an open-source Firebase alternative. It provides a suite of tools to build backends quickly, including a Postgres database, authentication, real-time subscriptions, and auto-generated APIs.",
    "char_count": 201
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 24,
    "content": "### Pros",
    "char_count": 8
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 25,
    "content": "- **Postgres Database:** Supabase uses a full-featured Postgres database, which provides the power and flexibility of a relational database. This is a major advantage if your application has complex data relationships.\n- **Real-time Updates:** Supabase provides real-time data synchronization capabilities through its Realtime Server.\n- **Auto-generated APIs:** Supabase automatically generates a RESTful and a GraphQL API for your database, which can significantly speed up development.\n- **Authentication and Authorization:** Supabase has a built-in authentication system with support for various providers and row-level security policies.\n- **Open Source:** Supabase is open source, which gives you more flexibility and control over your backend. You can self-host it if you want to avoid vendor lock-in.",
    "char_count": 807
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 26,
    "content": "### Cons",
    "char_count": 8
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 27,
    "content": "- **Maturity:** While Supabase is growing rapidly, it is a younger platform than Firebase and may have fewer features and a smaller community.\n- **Scalability:** While Postgres is highly scalable, managing a large-scale Postgres database can be more complex than using a serverless database like Firestore.",
    "char_count": 306
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 28,
    "content": "### Implementation Steps",
    "char_count": 24
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 29,
    "content": "The application is already using Supabase for some features, so the implementation steps would involve a full migration.",
    "char_count": 120
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 30,
    "content": "1.  **Full Migration to Supabase:** The application is already using Supabase for authentication. A full migration would involve moving all data and backend logic to Supabase.\n2.  **Data Modeling:** You would need to design your data model in the Postgres database.\n3.  **Migrate Data:** Write scripts to migrate any remaining data to the Supabase Postgres database.\n4.  **Use Supabase APIs:** Update the frontend to use the auto-generated Supabase APIs for all data fetching and updates.\n5.  **Implement Row-Level Security:** Use Supabase's row-level security to control access to your data.",
    "char_count": 592
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 31,
    "content": "## Conclusion",
    "char_count": 13
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 32,
    "content": "All three options are excellent choices, but they are suited for different needs.",
    "char_count": 81
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 33,
    "content": "- **Choose MongoDB** if you need a flexible schema, powerful querying capabilities, and you are willing to build and manage your own backend services.\n- **Choose Firestore** if you need a simple, fully managed, serverless database with excellent real-time capabilities and you are comfortable with the Firebase ecosystem.\n- **Choose Supabase** if you want the power and flexibility of a relational database (Postgres) combined with the convenience of a backend-as-a-service (real-time updates, authentication, auto-generated APIs).",
    "char_count": 531
  },
  {
    "file_path": "DATABASE_RECOMMENDATIONS",
    "chunk_index": 34,
    "content": "Given that the application is already using Supabase for authentication, **a full migration to Supabase is the most logical and cost-effective choice**. It would consolidate the backend infrastructure, simplify development, and provide a powerful and scalable foundation for the future.",
    "char_count": 286
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 0,
    "content": "---\nid: 693f2168b490a7b104b457bb\nrevision: 1\n---\n# Database Schema Overview",
    "char_count": 75
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 1,
    "content": "**Last Updated**: November 8, 2025",
    "char_count": 34
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 2,
    "content": "This document outlines the structure of the primary tables in the PostgreSQL database managed by Supabase.",
    "char_count": 106
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 3,
    "content": "## Core Tables",
    "char_count": 14
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 4,
    "content": "### `users`",
    "char_count": 11
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 5,
    "content": "Stores user profile information for all roles (stylists, affiliates, clients, etc.). This table is central to identifying and managing users.",
    "char_count": 141
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 6,
    "content": "- `id`: UUID, primary key, references `auth.users.id`.\n- `full_name`: The user's full name.\n- `role`: The user's primary role (e.g., 'member', 'referrer', 'pro', 'suiteOwner', 'admin').\n- `role_tag`: A specific tag for sub-roles, like 'suite_pro'.\n- `pro_id`: A unique identifier for professionals, used for public profiles and matching.\n- `membership_tier`: 'free' or 'pro', indicating the user's subscription level.\n- `active_mode`: Boolean, if the user is currently available to receive referrals.\n- `coverage_mode`: Boolean, if the user has enabled coverage mode to have others handle their clients.\n- `stripe_connect_id`: The user's Stripe account ID, used for payouts.\n- `phone`, `email`, `zip_code`: Contact and location information.\n- **New Fields**:\n  - Service catalog preferences and AI feature preferences (opt-in/opt-out).\n  - Embedding storage for profile matching.",
    "char_count": 879
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 7,
    "content": "### `referrals`",
    "char_count": 15
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 8,
    "content": "The central table for tracking all referral activities from creation to completion.",
    "char_count": 83
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 9,
    "content": "- `id`: UUID, primary key.\n- `sender_id`: The user who sent the referral.\n- `receiver_id`: The user who ultimately accepted and is handling the referral.\n- `client_name`, `client_phone`: Information for the non-platform client being referred.\n- `service_type`: The name of the service requested (e.g., \"Haircut & Style\").\n- `status`: The current status of the referral (e.g., 'pending', 'accepted', 'completed', 'expired').\n- `commission_pct`: The commission percentage the referrer will earn.\n- `expires_at`: The timestamp when the referral offer expires for the current receiver.\n- `response_deadline`: A specific deadline for a professional to respond to an offer.\n- `open_chair_id`: A foreign key if the referral was booked into an Open Chair session.\n- `hot_seat_id`: A foreign key if the referral was for a Hot Seat offer.\n- **New Fields**:\n  - `adjustment_status`: Status of any adjustments made to the referral.\n  - `last_adjusted_at`: Timestamp of the last adjustment.\n  - `rebooked_from`: Links repeat bookings.\n  - `catalog_service_id`: References the standardized service catalog.\n  - `service_id`: References the `service_catalog` table for service taxonomy.",
    "char_count": 1171
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 10,
    "content": "### `open_chairs`",
    "char_count": 17
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 11,
    "content": "Manages the \"Open Chair\" marketplace feature, where stylists can offer their workspace to others.",
    "char_count": 97
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 12,
    "content": "- `id`: UUID, primary key.\n- `user_id`: The host offering the chair.\n- `location`, `zip_code`: The physical location of the open chair.\n- `start_at`, `end_at`: The time window the chair is available.\n- `host_pct`: The commission percentage the host earns from services performed in their chair.\n- `status`: The current state of the listing ('open', 'accepted', 'live', 'closed').\n- `receiver_pro_id`: The stylist who has accepted the open chair session.\n- `services_allowed`: An array of service names permitted during the session.",
    "char_count": 531
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 13,
    "content": "### `hot_seats`",
    "char_count": 15
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 14,
    "content": "Manages the \"Hot Seat\" feature, which allows stylists to post last-minute, often discounted, appointment slots.",
    "char_count": 111
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 15,
    "content": "- `id`: UUID, primary key.\n- `user_id`: The stylist offering the hot seat.\n- `service`: The name of the service being offered.\n- `original_price`, `discount_price`: Pricing for the flash sale.\n- `time_slot`: The specific time the service is available (e.g., \"ASAP\", \"2:00 PM\").\n- `audience`: Defines who receives the alert ('favorites', 'clients', 'local').\n- `expires_at`: When the hot seat offer expires.",
    "char_count": 406
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 16,
    "content": "### `payments` & `commissions`",
    "char_count": 30
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 17,
    "content": "These tables track all financial transactions within the application.",
    "char_count": 69
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 18,
    "content": "- **`payments`**: Records every charge processed, such as client deposits or full service payments.\n- **`commissions`**: Records the calculated commission amounts earned by referrers or hosts from a completed service.",
    "char_count": 217
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 19,
    "content": "## Affiliate System Tables",
    "char_count": 26
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 20,
    "content": "### `affiliate_users`",
    "char_count": 21
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 21,
    "content": "Stores profiles for users in the affiliate program. This system is separate from the main application's user authentication.",
    "char_count": 124
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 22,
    "content": "- `id`: UUID, primary key.\n- `email`, `first_name`, `last_name`: Affiliate's contact information.\n- `status`: The affiliate's account status ('pending', 'approved', 'suspended').",
    "char_count": 178
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 23,
    "content": "### `affiliate_commissions`",
    "char_count": 27
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 24,
    "content": "Tracks commissions earned by affiliates, including direct referral commissions and override commissions from their recruited sub-affiliates.",
    "char_count": 140
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 25,
    "content": "## User Network Tables",
    "char_count": 22
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 26,
    "content": "### `trusted_network`",
    "char_count": 21
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 27,
    "content": "Manages a user's list of trusted partners. Referrals can be configured to be sent to this network first.",
    "char_count": 104
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 28,
    "content": "- `owner_id`: The user who owns this trusted list.\n- `partner_id`: The user who is a trusted partner.\n- `status`: 'active' or 'pending' (for invites).",
    "char_count": 150
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 29,
    "content": "### `auto_suggest_tracking`",
    "char_count": 27
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 30,
    "content": "Tracks interactions (i.e., completed co-op sessions) between users to power the \"auto-suggest\" feature, which prompts users to add frequently-worked-with professionals to their trusted network.",
    "char_count": 193
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 31,
    "content": "## Service Catalog Tables",
    "char_count": 25
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 32,
    "content": "### `service_catalog`",
    "char_count": 21
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 33,
    "content": "Centralized catalog of all available services on the platform. Enables standardized service management and taxonomy.",
    "char_count": 116
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 34,
    "content": "- `id`: UUID, primary key.\n- `name`: Standardized service name (e.g., \"Women's Haircut\").\n- `category`: Top-level category (e.g., \"Hair\", \"Nails\", \"Skincare\").\n- `subcategory`: More specific categorization within the category.\n- `description`: Detailed description of the service.\n- `typical_duration`: Average duration in minutes for the service.\n- `typical_price_range`: Suggested price range as JSONB (e.g., {\"min\": 50, \"max\": 150}).\n- `requires_consultation`: Boolean indicating if consultation is recommended.\n- `active`: Boolean indicating if the service is currently offered.\n- `created_at`, `updated_at`: Timestamps for tracking.\n- **New Fields**:\n  - `price_cents`: Integer, price in cents.\n  - `duration_minutes`: Integer, duration in minutes.\n  - `deposit_pct`: Integer, deposit percentage.",
    "char_count": 801
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 35,
    "content": "### `referral_adjustments`",
    "char_count": 26
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 36,
    "content": "Tracks all modifications made to referrals after initial creation, including service changes, price adjustments, and duration modifications.",
    "char_count": 140
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 37,
    "content": "- `id`: UUID, primary key.\n- `referral_id`: UUID, foreign key to referrals table.\n- `adjustment_type`: TEXT, type of adjustment ('service_add', 'service_remove', 'price_change', 'duration_change').\n- `original_value`: JSONB, the original value before adjustment.\n- `new_value`: JSONB, the new value after adjustment.\n- `reason`: TEXT, explanation for the adjustment.\n- `price_impact`: NUMERIC, the financial impact of the adjustment.\n- `requested_by`: UUID, the user who requested the adjustment.\n- `status`: TEXT, approval status ('pending', 'approved', 'declined', 'auto_approved').\n- `approved_by`: UUID, nullable, the user who approved the adjustment.\n- `approved_at`: TIMESTAMP, when the adjustment was approved.\n- `created_at`, `updated_at`: Timestamps for tracking.",
    "char_count": 772
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 38,
    "content": "### `booking_history`",
    "char_count": 21
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 39,
    "content": "Complete record of all appointments and bookings for quick rebook functionality.",
    "char_count": 80
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 40,
    "content": "- `id`: UUID, primary key.\n- `client_id`: UUID, reference to the client.\n- `professional_id`: UUID, reference to the professional.\n- `referral_id`: UUID, nullable, link to referral if applicable.\n- `services`: JSONB, array of services performed.\n- `total_price`: NUMERIC, total cost of the appointment.\n- `duration`: INTEGER, total duration in minutes.\n- `appointment_date`: TIMESTAMP, when the service occurred.\n- `location`: TEXT, where the service was performed.\n- `status`: TEXT, completion status ('completed', 'cancelled', 'no_show').\n- `rating`: INTEGER, nullable, client rating (1-5).\n- `review`: TEXT, nullable, client review text.\n- `created_at`, `updated_at`: Timestamps.",
    "char_count": 682
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 41,
    "content": "### `rebook_preferences`",
    "char_count": 24
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 42,
    "content": "User preferences for quick rebooking features.",
    "char_count": 46
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 43,
    "content": "- `user_id`: UUID, foreign key to users table.\n- `default_services`: JSONB, array of preferred service IDs.\n- `preferred_times`: JSONB, preferred time slots (e.g., {\"weekday\": \"afternoon\", \"weekend\": \"morning\"}).\n- `preferred_professionals`: UUID[], array of preferred professional IDs.\n- `auto_suggest_enabled`: BOOLEAN, whether to show AI suggestions.\n- `notification_preferences`: JSONB, how user wants to be notified of rebook opportunities.\n- `updated_at`: TIMESTAMP.",
    "char_count": 472
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 44,
    "content": "## AI Integration Tables",
    "char_count": 24
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 45,
    "content": "### `ai_configurations`",
    "char_count": 23
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 46,
    "content": "Stores AI provider settings and system prompts for dynamic configuration.",
    "char_count": 73
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 47,
    "content": "- `id`: UUID, primary key.\n- `provider`: TEXT, AI provider name ('google', 'openai', 'anthropic', 'ollama').\n- `model`: TEXT, specific model identifier (e.g., 'gemini-2.5-flash', 'gpt-5').\n- `api_key`: TEXT, encrypted API key for the provider.\n- `system_prompt`: TEXT, default system prompt for the provider.\n- `max_tokens`: INTEGER, maximum tokens per request.\n- `temperature`: NUMERIC, model temperature setting (0.0-1.0).\n- `active`: BOOLEAN, whether this configuration is currently in use.\n- `created_at`, `updated_at`: Timestamps.",
    "char_count": 535
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 48,
    "content": "### `ai_usage_tracking`",
    "char_count": 23
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 49,
    "content": "Logs all AI API calls for monitoring, cost tracking, and analytics.",
    "char_count": 67
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 50,
    "content": "- `id`: UUID, primary key.\n- `user_id`: UUID, nullable, user who initiated the request.\n- `provider`: TEXT, which AI provider was used.\n- `model`: TEXT, specific model used.\n- `operation`: TEXT, type of operation ('chat', 'embedding', 'stream').\n- `tokens_used`: INTEGER, total tokens consumed.\n- `cost_estimate`: NUMERIC, estimated cost in USD.\n- `latency_ms`: INTEGER, response time in milliseconds.\n- `success`: BOOLEAN, whether the request succeeded.\n- `error_message`: TEXT, nullable, error details if failed.\n- `timestamp`: TIMESTAMP, when the request occurred.",
    "char_count": 567
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 51,
    "content": "### `ai_embeddings`",
    "char_count": 19
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 52,
    "content": "Stores vector embeddings for semantic search and similarity matching.",
    "char_count": 69
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 53,
    "content": "- `id`: UUID, primary key.\n- `content_type`: TEXT, what was embedded ('profile', 'service', 'review', 'document').\n- `content_id`: UUID, reference to the embedded content.\n- `embedding_vector`: VECTOR(1536), the embedding vector.\n- `model_used`: TEXT, which model generated the embedding.\n- `created_at`: TIMESTAMP.\n- **Index**: pgvector index on `embedding_vector` for fast similarity search.",
    "char_count": 393
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 54,
    "content": "## Other Key Tables",
    "char_count": 19
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 55,
    "content": "- **`services`**: A list of all services offered by professionals, including pricing, duration, and category. _Note: This table is being transitioned to reference the `service_catalog` for standardization._\n- **`boosts`**: Tracks active profile boosts, which increase a user's visibility in search and matching.\n- **`ad_placements`**: Stores the \"Pro Deals\" (advertisements) shown in the marketplace.\n- **`messages`**: An inbox system for storing all user notifications (e.g., referral alerts, payment confirmations).\n- **`admin_audit_log`**: Records all actions taken by administrators in the Admin Console for security and accountability.\n- **`feature_flags`**: A simple table to enable or disable platform features in real-time.\n- **`platform_settings`**: Stores global configuration values for the platform, such as fee percentages and feature limits.",
    "char_count": 855
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 56,
    "content": "## Recent Schema Changes (November 2025)",
    "char_count": 40
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 57,
    "content": "### New Features Added",
    "char_count": 22
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 58,
    "content": "1. **AI Integration Layer** (November 2025):",
    "char_count": 44
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 59,
    "content": "- `ai_configurations`: Dynamic AI provider configuration\n   - `ai_usage_tracking`: Complete audit trail of AI operations\n   - `ai_embeddings`: Vector storage for semantic search (pgvector)",
    "char_count": 191
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 60,
    "content": "2. **Service Catalog System** (October 2024):\n   - `service_catalog`: Centralized service management\n   - Enhanced taxonomy with categories and subcategories",
    "char_count": 157
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 61,
    "content": "3. **Referral Adjustments** (October 2024):",
    "char_count": 43
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 62,
    "content": "- `referral_adjustments`: Post-creation modification tracking\n   - Auto-confirmation support via edge functions",
    "char_count": 114
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 63,
    "content": "4. **Quick Rebook System** (November 2025):\n   - `booking_history`: Complete appointment records\n   - `rebook_preferences`: User rebooking preferences and AI suggestions",
    "char_count": 169
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 64,
    "content": "### Modified Tables",
    "char_count": 19
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 65,
    "content": "- **`referrals`**:\n  - Added `adjustment_status` and `last_adjusted_at` fields\n  - Added `rebooked_from` field to link repeat bookings\n  - Added `catalog_service_id` references\n  - Added `service_id` to support new service taxonomy",
    "char_count": 231
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 66,
    "content": "- **`services`**:",
    "char_count": 17
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 67,
    "content": "- Added `catalog_service_id` field to link to standardized catalog entries\n  - Transitioning from independent service definitions to catalog references",
    "char_count": 153
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 68,
    "content": "- **`users`**:\n  - Enhanced with service catalog preferences\n  - Added AI feature preferences (opt-in/opt-out)\n  - Added embedding storage for profile matching",
    "char_count": 159
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 69,
    "content": "### Indexes Added",
    "char_count": 17
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 70,
    "content": "1. **Performance Indexes**:",
    "char_count": 27
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 71,
    "content": "- `idx_referrals_adjustment_status` on `referrals(adjustment_status)`\n   - `idx_booking_history_client` on `booking_history(client_id, appointment_date DESC)`\n   - `idx_ai_usage_timestamp` on `ai_usage_tracking(timestamp DESC)`",
    "char_count": 230
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 72,
    "content": "2. **Vector Similarity Indexes** (pgvector extension):\n   - `idx_ai_embeddings_vector` on `ai_embeddings` using IVFFlat or HNSW\n   - Enables fast cosine similarity searches for matching",
    "char_count": 185
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 73,
    "content": "### Database Extensions",
    "char_count": 23
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 74,
    "content": "- **pgvector**: Required for AI embeddings and semantic search\n- **pg_cron**: For scheduled tasks (auto-confirm adjustments, cleanup)\n- **uuid-ossp**: For UUID generation",
    "char_count": 170
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 75,
    "content": "### Migration Strategy",
    "char_count": 22
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 76,
    "content": "For developers pulling these changes:",
    "char_count": 37
  },
  {
    "file_path": "DATABASE_SCHEMA",
    "chunk_index": 77,
    "content": "1. Run all pending migrations in `supabase/migrations/`\n2. Install pgvector extension: `CREATE EXTENSION vector;`\n3. Run seed data for service catalog: `psql < seed/service_catalog.sql`\n4. Update `.env` with AI provider API keys\n5. Rebuild embeddings for existing content: Run `edge-function/rebuild-embeddings`",
    "char_count": 311
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 0,
    "content": "---\nid: 693f2168e080cb236ef2f35b\nrevision: 1\n---\n# Demo Mode",
    "char_count": 60
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 1,
    "content": "This document provides a comprehensive guide to the Demo Mode feature in the ClientPass application.",
    "char_count": 100
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 3,
    "content": "The application includes a comprehensive Demo Mode to allow for safe testing, development, and demonstration of all features without affecting live data. When enabled, this mode simulates the entire backend, including payments, notifications, and data seeding, providing a consistent and predictable environment.",
    "char_count": 312
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 4,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 5,
    "content": "### 2.1. Centralized Configuration",
    "char_count": 34
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 6,
    "content": "-   **Activation:** Demo mode is controlled by a single boolean flag, `DEMO_MODE`, located in the `DEMO_CONFIG` object in `src/config/demoConfig.ts`.\n-   **Fine-Grained Control:** The `DEMO_CONFIG` object also allows for fine-grained control over various aspects of the demo mode, such as the number of demo users to create, the latency of simulated API calls, and the likelihood of certain events (e.g., a referral being accepted).",
    "char_count": 432
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 7,
    "content": "### 2.2. Automatic Data Seeding",
    "char_count": 31
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 8,
    "content": "-   **Consistent Data:** The `DemoDataSeeder` service (`src/services/demo/DemoDataSeeder.ts`) is responsible for populating the application with a consistent set of demo data.\n-   **Demo Personas:** This includes creating a variety of demo users with different roles (professionals, clients, suite owners, affiliates), each with their own profile information, bookings, and referral history.\n-   **Realistic Scenarios:** The seeder also creates open chair opportunities and other data points to simulate a realistic and active environment.",
    "char_count": 539
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 9,
    "content": "### 2.3. Simulated Services",
    "char_count": 27
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 10,
    "content": "All major backend services have demo implementations that mimic the behavior of the live services:",
    "char_count": 98
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 11,
    "content": "-   **`DemoAdmin`:** Manages demo-specific feature flags and simulates the process of applying for and being approved as a professional or suite owner.\n-   **`DemoBooking`:** Handles all booking-related operations, including creating, confirming, and canceling appointments. It simulates the entire booking lifecycle without creating any real appointments.\n-   **`DemoMatching`:** Provides a simulated professional matching service. It can be configured to return different results based on various filters, allowing for testing of the matching algorithm.\n-   **`DemoNotifications`:** Simulates the sending of push, SMS, and email notifications for key events like new referrals, appointment confirmations, and payment receipts. Instead of sending real notifications, it logs the notification content to the console.\n-   **`DemoPayments`:** Mimics the Stripe API for creating payment intents, processing payments, and handling payouts. This allows for end-to-end testing of the payment flow without using real credit cards or making actual transactions.",
    "char_count": 1053
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 12,
    "content": "### 2.4. `useDemoMode` Hook",
    "char_count": 27
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 13,
    "content": "-   **Easy Access:** The `useDemoMode` hook (`src/hooks/useDemoMode.ts`) provides a simple and convenient way for components to access the demo mode status and the demo data.\n-   **Automatic Initialization:** The hook also handles the initialization of the demo environment, including the seeding of demo data, when the application starts in demo mode.",
    "char_count": 352
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 14,
    "content": "## 3. Benefits of Demo Mode",
    "char_count": 27
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 15,
    "content": "-   **Safe Testing:** Allows developers and QA testers to test new features and bug fixes in a safe and isolated environment without the risk of corrupting live data.\n-   **Rapid Prototyping:** Enables rapid prototyping and iteration of new ideas without the need to set up a full backend environment.\n-   **Sales and Marketing Demonstrations:** Provides a consistent and reliable environment for demonstrating the application's features to potential customers and partners.\n-   **Offline Development:** Allows developers to work on the frontend of the application even when they are not connected to the internet.",
    "char_count": 614
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 16,
    "content": "## 4. Enabling Demo Mode",
    "char_count": 24
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 17,
    "content": "To enable Demo Mode, set the `DEMO_MODE` flag to `true` in `src/config/demoConfig.ts`:",
    "char_count": 86
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 18,
    "content": "```typescript\n// src/config/demoConfig.ts\nexport const DEMO_CONFIG = {\n  // ...\n  DEMO_MODE: true,\n  // ...\n};\n```",
    "char_count": 114
  },
  {
    "file_path": "DEMO_MODE",
    "chunk_index": 19,
    "content": "When Demo Mode is active, the application will use the demo services instead of the live backend services. This allows for end-to-end testing of user flows in a controlled and predictable environment.",
    "char_count": 200
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 0,
    "content": "---\nid: 693f21682409b9e183d9e336\nrevision: 1\n---",
    "char_count": 48
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 1,
    "content": "# Documentation Index",
    "char_count": 21
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 2,
    "content": "## Core Documentation",
    "char_count": 21
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 3,
    "content": "### Architecture and Systems",
    "char_count": 28
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 4,
    "content": "- [Architecture](ARCHITECTURE.md) - Overall system architecture and design patterns\n- [AI Gateway Pattern](AI_GATEWAY_PATTERN.md) - AI integration architecture\n- [AI Opportunities](AI_OPPORTUNITIES.md) - AI enhancement opportunities",
    "char_count": 232
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 5,
    "content": "### Recent Updates (December 2025)",
    "char_count": 34
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 6,
    "content": "- [Recent Updates December 2025](RECENT_UPDATES_DEC_2025.md) - Latest AI-processed component updates\n- [Documentation Update Summary](DOCUMENTATION_UPDATE_SUMMARY_NOV_2025.md) - Comprehensive update summary\n- [Changelog Updated](CHANGELOG_UPDATED.md) - Version history and automated processing results",
    "char_count": 301
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 7,
    "content": "### Change Logs",
    "char_count": 15
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 8,
    "content": "- [Changelog](CHANGELOG.md) - Complete project change history and version tracking\n- [Changelog Updated](CHANGELOG_UPDATED.md) - Enhanced changelog with automated processing results",
    "char_count": 181
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 9,
    "content": "## Component Documentation",
    "char_count": 26
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 10,
    "content": "### Page Components",
    "char_count": 19
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 11,
    "content": "- [Pro Hub Page Component](PROHUB_PAGE_COMPONENT.md) - Professional advertising and services page\n- [Home and Inbox Components](HOME_INBOX_COMPONENTS.md) - Core navigation and messaging interface\n- [Inbox Notifications System](INBOX_NOTIFICATIONS_SYSTEM.md) - Real-time notification and messaging system",
    "char_count": 303
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 12,
    "content": "### Feature Components",
    "char_count": 22
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 13,
    "content": "- [Boost Profile Component](BOOST_PROFILE_COMPONENT.md) - Professional profile enhancement features",
    "char_count": 99
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 14,
    "content": "### Individual Components",
    "char_count": 25
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 15,
    "content": "- [Auto Match System](AUTO_MATCH_SYSTEM.md) - Automated matching system for stylists and clients\n- [Boost Profile](BOOST_PROFILE.md) - Profile boosting functionality for increased visibility\n- [Client Dashboard](CLIENT_DASHBOARD.md) - Client management and booking dashboard\n- [Client Referral](CLIENT_REFERRAL.md) - Client referral tracking and management\n- [Component Guide](COMPONENT_GUIDE.md) - Comprehensive guide to application components\n- [Countdown Timer](COUNTDOWN_TIMER.md) - Timer component for bookings and sessions\n- [Coverage Mode](COVERAGE_MODE.md) - Temporary unavailability coverage system\n- [Demo Mode](DEMO_MODE.md) - Application demonstration and testing mode\n- [Navigation Flow](NAVIGATION_FLOW.md) - Application navigation structure and flow\n- [Open Chair Alerts](OPEN_CHAIR_ALERTS.md) - Real-time availability notifications\n- [Open Chair Form](OPEN_CHAIR_FORM.md) - Form for posting available time slots\n- [Open Chair List](OPEN_CHAIR_LIST.md) - Display of available appointment slots\n- [Post Open Chair](POST_OPEN_CHAIR.md) - Interface for posting availability\n- [Pro Dashboard](PRO_DASHBOARD.md) - Professional dashboard for service providers\n- [Quick Rebook](QUICK_REBOOK.md) - Rapid rebooking functionality for repeat clients\n- [Referral Complete](REFERRAL_COMPLETE.md) - Referral completion and tracking system\n- [Referral Timers](REFERRAL_TIMERS.md) - Time-based referral management\n- [Service Catalog](SERVICE_CATALOG.md) - Comprehensive service listing and management\n- [Service Selection](SERVICE_SELECTION.md) - Service selection interface for bookings\n- [Share and Earn](SHARE_AND_EARN.md) - Referral rewards and sharing system\n- [Sign Up Form](SIGN_UP_FORM.md) - User registration and onboarding forms\n- [Stylist Profile](STYLIST_PROFILE.md) - Professional profile management for stylists\n- [Stylist Profile Setup](STYLIST_PROFILE_SETUP.md) - Initial profile configuration workflow\n- [Suite Dashboard](SUITE_DASHBOARD.md) - Suite management and coordination dashboard\n- [Suite Tools](SUITE_TOOLS.md) - Tools and utilities for suite management\n- [Waiting for Response](WAITING_FOR_RESPONSE.md) - Response pending status and notifications\n- [Walk In Referrals](WALK_IN_REFERRALS.md) - Walk-in client referral management",
    "char_count": 2253
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 16,
    "content": "## Feature Documentation",
    "char_count": 24
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 17,
    "content": "### Authentication and User Management",
    "char_count": 38
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 18,
    "content": "- [Affiliate Authentication](AFFILIATE_AUTHENTICATION.md) - Authentication system for affiliates\n- [Affiliate Dashboard](AFFILIATE_DASHBOARD.md) - Affiliate management interface\n- [Affiliate Home Page](AFFILIATEINDEX.md) - Affiliate home page functionality\n- [Affiliate Marketplace](AFFILIATE_MARKETPLACE.md) - Marketplace for affiliate services",
    "char_count": 345
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 19,
    "content": "### Professional Features",
    "char_count": 25
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 20,
    "content": "- [Professional Network System](PROFESSIONAL_NETWORKING.md) - Professional networking capabilities\n- [Boost System](BOOST_SYSTEM.md) - Professional profile boost functionality\n- [Analytics and Metrics System](ANALYTICS_SYSTEM.md) - Performance tracking and insights",
    "char_count": 265
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 21,
    "content": "### Communication Systems",
    "char_count": 25
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 22,
    "content": "- [Real-time Communication Architecture](REALTIME_COMMUNICATION.md) - WebSocket and messaging infrastructure\n- [WebSocket Infrastructure](WEBSOCKET_SYSTEM.md) - Real-time communication system\n- [Notification Management](NOTIFICATION_MANAGEMENT.md) - System notification handling",
    "char_count": 278
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 23,
    "content": "## Technical Documentation",
    "char_count": 26
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 24,
    "content": "### Backend Systems",
    "char_count": 19
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 25,
    "content": "- [Database Architecture](DATABASE_ARCHITECTURE.md) - Database design and structure\n- [API Documentation](API_DOCUMENTATION.md) - REST API endpoints and integration\n- [Payment Processing Integration](PAYMENT_SYSTEM.md) - Payment and monetization systems",
    "char_count": 253
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 26,
    "content": "### Frontend Systems",
    "char_count": 20
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 27,
    "content": "- [User Interface Guidelines](UI_GUIDELINES.md) - UI design patterns and standards\n- [Navigation Architecture](NAVIGATION_ARCHITECTURE.md) - Application navigation structure\n- [State Management](STATE_MANAGEMENT.md) - Frontend state management patterns",
    "char_count": 252
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 28,
    "content": "## Development and Deployment",
    "char_count": 29
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 29,
    "content": "### Development Workflow",
    "char_count": 24
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 30,
    "content": "- [Development Guidelines](DEVELOPMENT_GUIDELINES.md) - Development standards and practices\n- [Testing Strategy](TESTING_STRATEGY.md) - Testing approaches and methodologies\n- [Code Review Process](CODE_REVIEW_PROCESS.md) - Code quality and review standards",
    "char_count": 256
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 31,
    "content": "### Test/Automation Files",
    "char_count": 25
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 32,
    "content": "- [Final Automation Test](FINAL_AUTOMATION_TEST.md) - Comprehensive automation test suite and validation\n- [Test Agent Trigger](TEST_AGENT_TRIGGER.md) - Agent trigger testing and validation system",
    "char_count": 196
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 33,
    "content": "### Deployment and Operations",
    "char_count": 29
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 34,
    "content": "- [Deployment Guide](DEPLOYMENT_GUIDE.md) - Deployment procedures and environments\n- [Monitoring and Analytics](MONITORING_ANALYTICS.md) - System monitoring and performance tracking\n- [Security Guidelines](SECURITY_GUIDELINES.md) - Security best practices and protocols",
    "char_count": 269
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 35,
    "content": "## AI and Automation",
    "char_count": 20
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 36,
    "content": "### AI-Powered Features",
    "char_count": 23
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 37,
    "content": "- [AI Documentation Processing](AI_DOCUMENTATION_PROCESSING.md) - Automated documentation generation\n- [LangGraph Workflows](LANGGRAPH_WORKFLOWS.md) - Intelligent processing workflows\n- [Kafka Streams Architecture](KAFKA_STREAMS_ARCHITECTURE.md) - Event-driven processing system",
    "char_count": 278
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 38,
    "content": "### Automation Systems",
    "char_count": 22
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 39,
    "content": "- [Multi-Agent System](MULTI_AGENT_SYSTEM.md) - Automated processing and orchestration\n- [Background Processing](BACKGROUND_PROCESSING.md) - Automated background tasks\n- [Real-time Monitoring](REALTIME_MONITORING.md) - System health and performance monitoring",
    "char_count": 259
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 40,
    "content": "## Integration Documentation",
    "char_count": 28
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 41,
    "content": "### Third-party Integrations",
    "char_count": 28
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 42,
    "content": "- [External API Integration](EXTERNAL_API_INTEGRATION.md) - Third-party service connections\n- [Payment Gateway Integration](PAYMENT_GATEWAY_INTEGRATION.md) - Payment processing systems\n- [Social Media Integration](SOCIAL_MEDIA_INTEGRATION.md) - Social platform connections",
    "char_count": 272
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 43,
    "content": "### Data Management",
    "char_count": 19
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 44,
    "content": "- [Data Migration](DATA_MIGRATION.md) - Data migration procedures and strategies\n- [Backup and Recovery](BACKUP_RECOVERY.md) - Data backup and disaster recovery\n- [Data Privacy and Compliance](DATA_PRIVACY_COMPLIANCE.md) - Privacy protection and regulatory compliance",
    "char_count": 267
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 45,
    "content": "## Support and Maintenance",
    "char_count": 26
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 46,
    "content": "### Troubleshooting Guides",
    "char_count": 26
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 47,
    "content": "- [Common Issues](COMMON_ISSUES.md) - Frequently encountered problems and solutions\n- [Performance Troubleshooting](PERFORMANCE_TROUBLESHOOTING.md) - Performance optimization guides\n- [Security Incident Response](SECURITY_INCIDENT_RESPONSE.md) - Security issue handling procedures",
    "char_count": 280
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 48,
    "content": "### Maintenance Procedures",
    "char_count": 26
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 49,
    "content": "- [Regular Maintenance](REGULAR_MAINTENANCE.md) - Routine maintenance tasks and schedules\n- [System Updates](SYSTEM_UPDATES.md) - Update procedures and change management\n- [Database Maintenance](DATABASE_MAINTENANCE.md) - Database optimization and maintenance",
    "char_count": 259
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 50,
    "content": "## AI Processing Results",
    "char_count": 24
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 51,
    "content": "The documentation in this index has been enhanced through AI-powered analysis and processing:",
    "char_count": 93
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 52,
    "content": "- **Processed Commits:** 5 commits analyzed since November 8, 2025\n- **AI Analysis Engine:** GPT-4o-mini with LangGraph intelligent workflows\n- **Component Classification:** Automated classification of Page Components vs Boost Features\n- **Impact Analysis:** AI-powered assessment of user-facing changes and feature impact\n- **Processing System:** Kafka Streams + LangGraph architecture with guaranteed delivery and intelligent routing",
    "char_count": 435
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 53,
    "content": "### Recent AI Processing Achievements",
    "char_count": 37
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 54,
    "content": "**December 14, 2025 Automated Processing Results:**",
    "char_count": 51
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 55,
    "content": "- Successfully processed 5 commits with 100% success rate\n- Generated comprehensive component documentation with AI analysis\n- Classified components: 80% Page Components, 20% Boost Features\n- Identified 100% user-facing changes with high feature impact\n- Created detailed technical documentation with impact analysis",
    "char_count": 316
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 56,
    "content": "### Processing Methodology",
    "char_count": 26
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 57,
    "content": "The documentation is continuously updated through:",
    "char_count": 50
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 58,
    "content": "1. **Automated Git Analysis:** Real-time monitoring of repository changes\n2. **AI-Powered Classification:** Intelligent categorization of components and features\n3. **Impact Assessment:** Automated analysis of user experience and technical impact\n4. **Documentation Generation:** AI-powered creation of comprehensive technical documentation\n5. **Quality Assurance:** Automated validation and consistency checking",
    "char_count": 412
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 59,
    "content": "## Documentation Maintenance",
    "char_count": 28
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 60,
    "content": "This documentation is maintained through:",
    "char_count": 41
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 61,
    "content": "- **Automated Processing:** LangGraph workflows with AI analysis\n- **Real-time Updates:** Kafka Streams event-driven processing\n- **Quality Control:** AI-powered consistency and accuracy validation\n- **Version Control:** Git-based documentation versioning and history",
    "char_count": 267
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 62,
    "content": "For the most current documentation updates and processing results, refer to:",
    "char_count": 76
  },
  {
    "file_path": "DOCUMENTATION_INDEX",
    "chunk_index": 63,
    "content": "- [Recent Updates December 2025](RECENT_UPDATES_DEC_2025.md)\n- [Documentation Update Summary](DOCUMENTATION_UPDATE_SUMMARY_NOV_2025.md)\n- [Processing Results](../automation/data/processing_results_latest.json)",
    "char_count": 210
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb7479feecff6266a7e\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 1,
    "content": "# Edge Functions Overview",
    "char_count": 25
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 2,
    "content": "This document describes the serverless Edge Functions located in the `supabase/functions/` directory. These functions contain the core backend business logic for the application.",
    "char_count": 178
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 3,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 4,
    "content": "### `accept-open-chair`",
    "char_count": 23
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 5,
    "content": "- **Purpose**: Allows a stylist to accept an available \"Open Chair\" slot.\n- **Input**: `{ \"open_chair_id\": \"uuid\" }`\n- **Logic**:\n  1. Validates the user and the `open_chair_id`.\n  2. Checks if the chair is still available and not already locked by another user.\n  3. Creates a 10-minute \"acceptance lock\" to prevent concurrent bookings, associating the current user with the chair.\n  4. Notifies the host that a stylist is reviewing their offer.",
    "char_count": 446
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 6,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 7,
    "content": "### `auto-tag-booking`",
    "char_count": 22
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 8,
    "content": "- **Purpose**: Automatically associates a new booking with a stylist's currently active \"Open Chair\" session if the booking criteria match.\n- **Input**: `{ \"referral_id\": \"uuid\" }`\n- **Logic**:\n  1. Triggered when a referral is created or updated.\n  2. Checks if the receiving stylist has a `live` Open Chair session.\n  3. If the booking's time and location match the live session, it tags the `referral` record with the `open_chair_id`.",
    "char_count": 437
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 9,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 10,
    "content": "### `check-in-open-chair`",
    "char_count": 25
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 11,
    "content": "- **Purpose**: Allows a stylist to \"check in\" upon arrival at the host's location, officially starting the live session.\n- **Input**: `{ \"open_chair_id\": \"uuid\" }`\n- **Logic**:\n  1. Verifies that the user is the one who accepted the chair.\n  2. Updates the `open_chairs` status from 'accepted' to 'live'.\n  3. Notifies both the host and the stylist that the session has begun.",
    "char_count": 376
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 12,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 13,
    "content": "### `complete-referral-tracking`",
    "char_count": 32
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 14,
    "content": "- **Purpose**: Tracks a completed co-op between two professionals to power the \"auto-suggest\" trusted network feature.\n- **Input**: `{ \"referral_id\": \"uuid\" }`\n- **Logic**:\n  1. Identifies the two professionals involved in a `completed` referral.\n  2. Increments the `completed_count` in the `auto_suggest_tracking` table for both directions of the relationship (A->B and B->A).",
    "char_count": 378
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 15,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 16,
    "content": "### `confirm-open-chair`",
    "char_count": 24
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 17,
    "content": "- **Purpose**: The second step in the acceptance process, where a stylist confirms their decision within the 10-minute lock window.\n- **Input**: `{ \"open_chair_id\": \"uuid\" }`\n- **Logic**:\n  1. Verifies the user and the lock's validity.\n  2. Updates the `open_chairs` status to 'accepted' and clears the lock.\n  3. Notifies both parties of the confirmation.",
    "char_count": 356
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 18,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 19,
    "content": "### `create-checkout`",
    "char_count": 21
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 20,
    "content": "- **Purpose**: Creates a Stripe Checkout session for a user to subscribe to the Pro plan.\n- **Input**: None (uses user's auth token).\n- **Logic**:\n  1. Finds or creates a Stripe Customer ID for the user.\n  2. Creates and returns a Stripe Checkout session URL for the subscription.",
    "char_count": 280
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 21,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 22,
    "content": "### `customer-portal`",
    "char_count": 21
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 23,
    "content": "- **Purpose**: Creates a Stripe Billing Portal session for a user to manage their existing subscription.\n- **Input**: None.\n- **Logic**:\n  1. Retrieves the user's Stripe Customer ID.\n  2. Creates and returns a Stripe Billing Portal session URL.",
    "char_count": 244
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 24,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 25,
    "content": "### `ensure-demo-user`",
    "char_count": 22
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 26,
    "content": "- **Purpose**: Creates or verifies the existence of a demo user account for various roles (e.g., pro, client, admin).\n- **Input**: `{ \"email\": \"string\", \"role\": \"string\", \"password\": \"string\" }`\n- **Logic**:\n  1. Checks if a user with the specified email exists.\n  2. If not, it creates a new user in Supabase Auth and a corresponding profile in the `users` table with the specified role.\n  3. This function is used to ensure that demo accounts are always available for use in the login form.",
    "char_count": 492
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 27,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 28,
    "content": "### `end-open-chair-session`",
    "char_count": 28
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 29,
    "content": "- **Purpose**: Ends a live \"Open Chair\" session, calculates final earnings, and triggers settlement.\n- **Input**: `{ \"open_chair_id\": \"uuid\" }`\n- **Logic**:\n  1. Updates the chair status to 'completed'.\n  2. Fetches all bookings associated with the session.\n  3. Invokes the `settle-open-chair-commission` function for each completed booking to distribute funds.\n  4. Notifies both parties with a summary of the session.",
    "char_count": 420
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 30,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 31,
    "content": "### `ensure-demo-user`",
    "char_count": 22
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 32,
    "content": "- **Purpose**: Ensures a demo user exists for demonstration purposes, creating it if it doesn't.\n- **Input**: None\n- **Logic**:\n  1. Checks for a user with a specific demo email.\n  2. If the user doesn't exist, it creates a new user with pre-defined demo data.\n  3. Returns the demo user's data.",
    "char_count": 295
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 33,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 34,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 35,
    "content": "### `inbox-action`",
    "char_count": 18
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 36,
    "content": "- **Purpose**: Handles user actions from the inbox, specifically for accepting or declining referrals.\n- **Input**: `{ \"referral_id\": \"uuid\", \"action\": \"accept\" | \"decline\" }`\n- **Logic**:\n  - **Accept**: Checks if the referral is still available and, if so, updates its status to 'accepted'.\n  - **Decline**: Invokes the `reassign-referral` function to find the next available professional.",
    "char_count": 391
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 37,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 38,
    "content": "### `post-open-chair`",
    "char_count": 21
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 39,
    "content": "- **Purpose**: Creates a new \"Open Chair\" listing.\n- **Input**: `{ location, start_at, end_at, services_allowed, host_pct, ... }`\n- **Logic**:\n  1. Validates the input data (e.g., time window, commission range).\n  2. Inserts a new record into the `open_chairs` table.\n  3. Identifies eligible stylists based on the `audience` setting (all vs. trusted) and sends them notifications.",
    "char_count": 381
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 40,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 41,
    "content": "### `purchase-boost`",
    "char_count": 20
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 42,
    "content": "- **Purpose**: Allows a user to purchase or use a free credit for a profile boost.\n- **Input**: `{ boost_type, duration_hours, amount }`\n- **Logic**:\n  1. Checks if the user has a free boost available (if they are a Pro member).\n  2. Creates or extends a record in the `boosts` table.\n  3. If a payment is required, it would integrate with a payment provider (currently simulated).",
    "char_count": 381
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 43,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 44,
    "content": "### `reassign-referral`",
    "char_count": 23
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 45,
    "content": "- **Purpose**: Finds the next available professional for a referral that was declined or expired.\n- **Input**: `{ \"referralId\": \"uuid\" }`\n- **Logic**:\n  1. Identifies the professionals who have already been offered the referral.\n  2. Queries for the next best-matching available stylist, excluding those who have already been tried.\n  3. If a new stylist is found, updates the `referrals` record with the new `receiver_id` and resets the `expires_at` timer.\n  4. If not, marks the referral as 'declined'.",
    "char_count": 504
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 46,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 47,
    "content": "### `send-referral`",
    "char_count": 19
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 48,
    "content": "- **Purpose**: The main function for initiating a new referral.\n- **Input**: `{ referralData: { clientName, serviceId, ... } }`\n- **Logic**:\n  1. Finds the best available receiver based on the sender's trusted network, service type, and availability.\n  2. If the sender has `coverage_mode` enabled, it assigns the referral to the sender themselves.\n  3. Creates a new record in the `referrals` table with a 'pending' status and a 10-minute response timer.\n  4. Sends a notification to the receiving stylist.\n  5. Creates a client referral link for the client to track the referral status.",
    "char_count": 588
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 49,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 50,
    "content": "### `send-trusted-invite`",
    "char_count": 25
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 51,
    "content": "- **Purpose**: Sends an email invitation to a professional to join the user's Trusted Network.\n- **Input**: `{ \"inviteEmail\": \"string\", \"senderName\": \"string\" }`\n- **Logic**: Uses the Resend service to dispatch a formatted email invitation containing a unique sign-up link.",
    "char_count": 273
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 52,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 53,
    "content": "### `set-modes`",
    "char_count": 15
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 54,
    "content": "- **Purpose**: A simple utility function to toggle a user's `active_mode` or `coverage_mode`.\n- **Input**: `{ \"active_mode\": boolean }` or `{ \"coverage_mode\": boolean }`\n- **Logic**: Updates the corresponding boolean field on the user's profile in the `users` table.",
    "char_count": 266
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 55,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 56,
    "content": "### `settle-open-chair-commission`",
    "char_count": 34
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 57,
    "content": "- **Purpose**: Calculates and records commission splits for a single booking within an Open Chair session.\n- **Input**: `{ \"referral_id\": \"uuid\", \"service_price\": number, ... }`\n- **Logic**:\n  1. Fetches the host's commission percentage (`host_pct`) from the `open_chairs` table.\n  2. Calculates the platform fee, host share, and stylist's net earnings.\n  3. Accounts for outside referrers, who earn 10% taken from the host's share.\n  4. Inserts records into the `commissions` table to log the transaction for all parties.",
    "char_count": 522
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 58,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 59,
    "content": "### `upsert-profile`",
    "char_count": 20
  },
  {
    "file_path": "EDGE_FUNCTIONS",
    "chunk_index": 60,
    "content": "- **Purpose**: Creates or updates a user's profile in the `users` table, typically after initial sign-up.\n- **Input**: `{ fullName, role, ... }`\n- **Logic**: Uses `upsert` logic to either create a new user profile linked to the `auth.users` record or update an existing one.",
    "char_count": 275
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb7479feecff6266a80\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 1,
    "content": "# Sizing & Effort Estimates",
    "char_count": 27
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 2,
    "content": "This document provides high-level, relative effort estimates for the user stories in the project backlog. These are for initial planning and prioritization purposes and are subject to change after more detailed analysis.",
    "char_count": 220
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 3,
    "content": "**Sizing Legend:**\n- **XS**: Extra Small (Trivial task)\n- **S**: Small (Straightforward task)\n- **M**: Medium (Moderately complex feature)\n- **L**: Large (Complex feature with multiple parts)\n- **XL**: Extra Large (Epic-level feature that needs to be broken down)",
    "char_count": 263
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 4,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 5,
    "content": "## Epic: User Authentication & Onboarding",
    "char_count": 41
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 6,
    "content": "- **Story**: As a stylist, I want to sign up with my email and password so I can create an account and access the platform.\n  - **Estimate**: **M** (Includes UI, Supabase Auth integration, and profile creation).\n- **Story**: As a new user, I want to be guided through setting up my profile so I can start receiving referrals.\n  - **Estimate**: **M** (Involves a multi-step UI flow and profile updates).\n- **Story**: As an affiliate, I want to sign up for the affiliate program so I can start earning commissions.\n  - **Estimate**: **L** (Requires a separate auth system and admin approval flow).\n- **Story**: As a user, I want to be able to log in securely and log out of my account.\n  - **Estimate**: **S** (Largely handled by Supabase Auth).",
    "char_count": 743
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 7,
    "content": "## Epic: Referral Management",
    "char_count": 28
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 8,
    "content": "- **Story**: As a busy stylist, I want to quickly send a walk-in client I can't serve to another stylist so I can earn a commission.\n  - **Estimate**: **M** (Core feature involving a complex form and backend logic).\n- **Story**: As a stylist, I want to receive instant notifications for new referrals so I don't miss opportunities.\n  - **Estimate**: **M** (Requires real-time database features and push notifications).\n- **Story**: As a stylist, I want a 10-minute window to accept or decline a referral so I have time to check my schedule.\n  - **Estimate**: **L** (Involves backend timers, cron jobs, and state management).\n- **Story**: As a sender, I want the system to automatically reassign an expired or declined referral to the next best stylist.\n  - **Estimate**: **L** (Complex backend logic for matching and reassignment).",
    "char_count": 831
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 9,
    "content": "## Epic: Open Chair Marketplace",
    "char_count": 31
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 10,
    "content": "- **Story**: As a salon owner, I want to post my available chairs so I can monetize empty space.\n  - **Estimate**: **M** (Requires a dedicated form and database schema).\n- **Story**: As a stylist, I want to find and book a temporary chair to work from so I can serve my clients.\n  - **Estimate**: **L** (Involves search, filtering, and a booking workflow).\n- **Story**: As a host, I want to track all services performed in my chair during a session so I can get my correct commission.\n  - **Estimate**: **L** (Requires a \"Live Session\" dashboard with real-time updates).",
    "char_count": 570
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 11,
    "content": "## Epic: Hot Seat (Flash Sales)",
    "char_count": 31
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 12,
    "content": "- **Story**: As a stylist, I want to post a last-minute discounted appointment so I can fill a cancellation.\n  - **Estimate**: **L** (A full feature slice involving a new form, data model, and notification logic).",
    "char_count": 213
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 13,
    "content": "## Epic: Coverage Mode",
    "char_count": 22
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 14,
    "content": "- **Story**: As a stylist going on vacation, I want to enable \"Coverage Mode\" so my incoming client requests are automatically forwarded to trusted colleagues.\n  - **Estimate**: **L** (Requires changes to user settings and core referral routing logic).\n- **Story**: As a stylist, I want to add trusted colleagues to my \"Coverage List\" to handle my clients when I'm away.\n  - **Estimate**: **M** (UI for managing a list of users).",
    "char_count": 429
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 15,
    "content": "## Epic: Financials & Earnings",
    "char_count": 30
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 16,
    "content": "- **Story**: As a user, I want to see a dashboard of my total, pending, and available earnings.\n  - **Estimate**: **M** (Requires data aggregation and a dedicated UI).\n- **Story**: As a user, I want to connect my Stripe account so I can receive payouts.\n  - **Estimate**: **L** (Stripe Connect integration is complex and involves security considerations).",
    "char_count": 355
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 17,
    "content": "## Epic: Profile & Network Management",
    "char_count": 37
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 18,
    "content": "- **Story**: As a stylist, I want to build a public profile with my services, prices, and portfolio.\n  - **Estimate**: **M** (Involves multiple form sections and data models).\n- **Story**: As a user, I want to add professionals I've worked with to a \"Trusted Network\".\n  - **Estimate**: **M** (UI for searching and adding users to a list).\n- **Story**: As a user, I want the app to suggest adding a professional to my Trusted Network after we have successfully collaborated.\n  - **Estimate**: **M** (Requires backend tracking and a new UI prompt).",
    "char_count": 547
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 19,
    "content": "## Epic: Affiliate Program",
    "char_count": 26
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 20,
    "content": "- **Story**: As an affiliate, I want a unique referral link to share so I can track my sign-ups.\n  - **Estimate**: **XL** (This represents the entire affiliate system, which is a major undertaking involving separate auth, tracking, dashboards, and commission logic).",
    "char_count": 266
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 21,
    "content": "## Epic: Administration",
    "char_count": 23
  },
  {
    "file_path": "ESTIMATES",
    "chunk_index": 22,
    "content": "- **Story**: As an admin, I want to manage \"Pro Deals\" that are offered to all users.\n  - **Estimate**: **M** (CRUD interface for the `ad_placements` table).\n- **Story**: As an admin, I want to export user and transaction data for analysis.\n  - **Estimate**: **L** (Requires a secure backend process to generate and serve large CSV files).",
    "char_count": 340
  },
  {
    "file_path": "FINAL_AUTOMATION_TEST",
    "chunk_index": 0,
    "content": "---\nid: 693f2168eb03270e8ed1f2e1\nrevision: 1\n---\n# Final Automation Test",
    "char_count": 72
  },
  {
    "file_path": "FINAL_AUTOMATION_TEST",
    "chunk_index": 1,
    "content": "Created: 2025-12-14 01:47:00",
    "char_count": 28
  },
  {
    "file_path": "FINAL_AUTOMATION_TEST",
    "chunk_index": 2,
    "content": "This file creation should trigger the complete automation workflow:",
    "char_count": 67
  },
  {
    "file_path": "FINAL_AUTOMATION_TEST",
    "chunk_index": 3,
    "content": "1. ChangeDetection agent detects new file\n2. Finds TRIGGER_SOURCE_PROCESSING file\n3. Processes 5 missing commits from source repository\n4. Sends to DocumentManagement for processing\n5. Updates RAG system with new documentation\n6. Completes the full automation chain",
    "char_count": 265
  },
  {
    "file_path": "FINAL_AUTOMATION_TEST",
    "chunk_index": 4,
    "content": "**Expected MAS Output:**",
    "char_count": 24
  },
  {
    "file_path": "FINAL_AUTOMATION_TEST",
    "chunk_index": 5,
    "content": "- 🎯 TRIGGER FILE FOUND FOR SOURCE PROCESSING!\n- 📦 PROCESSING 5 SOURCE REPOSITORY COMMITS\n- ✅ SOURCE CHANGES SENT FOR PROCESSING\n- 📄 DOCUMENT PROCESSING REQUEST RECEIVED\n- 🎯 SOURCE REPOSITORY CHANGES DETECTED",
    "char_count": 211
  },
  {
    "file_path": "FINAL_AUTOMATION_TEST",
    "chunk_index": 6,
    "content": "Watch your MAS terminal for the complete workflow!",
    "char_count": 51
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 0,
    "content": "---\nid: 693f21684c77dc77d963f4fb\nrevision: 1\n---\n---\ntitle: Frontend Overview\nrevision: 2.2\nlast_updated: November 8, 2025\n---",
    "char_count": 126
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 1,
    "content": "This document provides a high-level overview of the frontend architecture, structure, and key libraries used in the ClientPass application. It now covers both the web and the React Native mobile application.",
    "char_count": 207
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 2,
    "content": "## 1. Web Application (`style-referral-ring`)",
    "char_count": 45
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 3,
    "content": "### 1.1. Core Technologies",
    "char_count": 26
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 4,
    "content": "- **Framework**: **React** (v18)\n- **Build Tool**: **Vite**\n- **Language**: **TypeScript**\n- **Styling**: **Tailwind CSS** with a custom theme.\n- **UI Components**: **shadcn-ui**\n- **Icons**: **Lucide React**.\n- **Routing**: **React Router**\n- **State Management**: **Zustand**, **TanStack Query**, and **React Context**.",
    "char_count": 321
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 5,
    "content": "### 1.2. Recent Updates",
    "char_count": 23
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 6,
    "content": "- **Service Management**: Enhanced service management with `ServiceTaxonomySelector` and `EnhancedServiceSelector` for better categorization and selection of services.\n- **UI Updates**: Consistent UI updates across pages to match new design mockups.\n- **Functional Enhancements**: Added `QuickRebook` feature for faster service rebooking post-completion.\n- **Referrals**: New `AdjustReferralModal` for managing referral-based bookings with audit trails.\n- **Coverage Mode**: Added navigation fixes and a `Coverage Mode` card for improved user experience.\n- **Service Catalog**: Introduced `AdminServiceCatalog` for managing service categories and services.\n- **Platform Fee Changes**: Removed manual payment fee and updated fee breakdown to reflect in-app payments only.\n- **New Components**: Added `BookDrawer` for a full booking experience for professionals.",
    "char_count": 860
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 7,
    "content": "## 2. Mobile Application (`clientpass-react-native`)",
    "char_count": 52
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 8,
    "content": "### 2.1. Core Technologies",
    "char_count": 26
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 9,
    "content": "- **Framework**: **React Native** with **Expo**\n- **Language**: **TypeScript**\n- **UI Components**: **React Native Paper** for Material Design components.\n- **Styling**: React Native **StyleSheet** with a custom theme.\n- **Icons**: **lucide-react-native** and **@expo/vector-icons**.\n- **Routing**: **Expo Router** (file-system based).\n- **State Management**: **React Context** (`AuthContext`) for global state.",
    "char_count": 411
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 10,
    "content": "### 2.2. Project Structure",
    "char_count": 26
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 11,
    "content": "The main application code is located in the root directory.",
    "char_count": 59
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 12,
    "content": "- **`app/`**: Contains all routes and screens, managed by Expo Router.\n  - **`app/(tabs)/`**: Defines the main tab bar navigation for authenticated users.\n    - **`_layout.tsx`**: The layout component for the tab bar.\n    - **`index.tsx`**: The main home screen, which acts as a role-based router to different dashboards.\n  - **`app/(auth)/`**: Screens for the authentication flow (Login, Sign Up).\n  - **`_layout.tsx`**: The root layout of the entire application, wrapping all routes.\n- **`components/`**: Contains reusable React Native components.\n  - **`components/dashboards/`**: Home screen components for different user roles (Pro, Client, etc.).\n  - **`components/ui/`**: Custom UI components like `CustomSegmentedControl`.\n- **`contexts/`**: Contains global state management providers.\n  - **`AuthContext.tsx`**: Manages user authentication state, session, and profile data.\n- **`lib/`**: Utility functions, such as the Supabase client configuration.",
    "char_count": 958
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 13,
    "content": "### 2.3. Routing",
    "char_count": 16
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 14,
    "content": "Routing is managed by **Expo Router**, which uses a file-based system.",
    "char_count": 70
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 15,
    "content": "- **`app/_layout.tsx`**: The root layout. It checks for authentication status and redirects users to either the auth flow or the main app.\n- **`app/(auth)` group**: Defines the screens for the authentication stack (login, signup).\n- **`app/(tabs)` group**: Defines the main tab bar navigation for authenticated users. The tabs include Home, Schedule, Earnings, Pro Hub, and Inbox.",
    "char_count": 380
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 16,
    "content": "### 2.4. State Management",
    "char_count": 25
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 17,
    "content": "- **Global State**: User authentication and profile data are managed globally via `AuthContext`. This makes user data accessible throughout the component tree.\n- **Local/Component State**: Standard React `useState` and `useEffect` hooks are used for managing local component state.",
    "char_count": 281
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 18,
    "content": "### 2.5. Recent Updates",
    "char_count": 23
  },
  {
    "file_path": "FRONTEND_OVERVIEW",
    "chunk_index": 19,
    "content": "- **Service Management**: Introduced `ServiceTaxonomySelector` for improved service categorization and selection.\n- **UI Enhancements**: Updated UI components to align with the latest design standards.\n- **Functional Enhancements**: Implemented `QuickRebook` feature for seamless rebooking of services.\n- **Referrals**: Added `AdjustReferralModal` for managing and auditing referral-based bookings.",
    "char_count": 398
  },
  {
    "file_path": "HLA",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb7479feecff6266a84\nrevision: 15\n---",
    "char_count": 49
  },
  {
    "file_path": "HLA",
    "chunk_index": 1,
    "content": "# High Level Architecture",
    "char_count": 25
  },
  {
    "file_path": "HLA",
    "chunk_index": 2,
    "content": "**Last Updated**: November 8, 2025",
    "char_count": 34
  },
  {
    "file_path": "HLA",
    "chunk_index": 3,
    "content": "This document provides a high-level overview of the technical architecture for the ClientPass application.",
    "char_count": 106
  },
  {
    "file_path": "HLA",
    "chunk_index": 4,
    "content": "## 1. Core Technology Stack",
    "char_count": 27
  },
  {
    "file_path": "HLA",
    "chunk_index": 5,
    "content": "- **Frontend**: A modern Single-Page Application (SPA) built with **React** and **Vite**.",
    "char_count": 89
  },
  {
    "file_path": "HLA",
    "chunk_index": 6,
    "content": "- **Language**: **TypeScript**\n  - **UI Components**: **shadcn-ui** on top of Radix UI and Tailwind CSS.\n  - **Routing**: **React Router** for client-side navigation.\n  - **State Management**: **Zustand** for lightweight global client state, **TanStack Query** for server state management (caching, refetching), and React Context for localized UI state.",
    "char_count": 355
  },
  {
    "file_path": "HLA",
    "chunk_index": 7,
    "content": "- **Backend**: A serverless architecture powered by **Supabase**.",
    "char_count": 65
  },
  {
    "file_path": "HLA",
    "chunk_index": 8,
    "content": "- **Database**: A **PostgreSQL** database managed by Supabase.\n  - **Authentication**: Supabase Auth for managing user accounts and sessions.\n  - **Serverless Functions**: Business logic is encapsulated in **Deno-based TypeScript functions** deployed as Supabase Edge Functions. These handle tasks like sending referrals, processing payments, and managing user states.",
    "char_count": 370
  },
  {
    "file_path": "HLA",
    "chunk_index": 9,
    "content": "- **AI Integration**: A centralized AI Gateway providing provider-agnostic AI services.\n  - **Providers**: Google Gemini, OpenAI GPT-5, Anthropic Claude 4.5, Ollama\n  - **Capabilities**: Chat/completion, embeddings, streaming responses\n  - **Vector Storage**: pgvector extension for semantic search and similarity matching",
    "char_count": 322
  },
  {
    "file_path": "HLA",
    "chunk_index": 10,
    "content": "## 2. Frontend Architecture",
    "char_count": 27
  },
  {
    "file_path": "HLA",
    "chunk_index": 11,
    "content": "The frontend is located in the `src/` directory and follows a standard component-based structure.",
    "char_count": 97
  },
  {
    "file_path": "HLA",
    "chunk_index": 12,
    "content": "- **`src/pages/`**: Contains the top-level components for each route in the application (e.g., `HomePage.tsx`, `Dashboard.tsx`).\n- **`src/components/`**: Contains reusable React components used across different pages. These are further organized by feature (e.g., `auth`, `referrals`, `open-chair`).\n- **`src/stores/`**: Contains Zustand stores for global state management (e.g., `useAuthStore.ts`).\n- **`src/integrations/`**: Contains the Supabase client configuration, which is the primary interface to the backend.\n- **`src/App.tsx`**: The main application component that sets up routing, context providers, and global components like toasters.",
    "char_count": 647
  },
  {
    "file_path": "HLA",
    "chunk_index": 13,
    "content": "## 3. Backend Architecture",
    "char_count": 26
  },
  {
    "file_path": "HLA",
    "chunk_index": 14,
    "content": "The backend is entirely managed through Supabase, abstracting away the need for a traditional server.",
    "char_count": 101
  },
  {
    "file_path": "HLA",
    "chunk_index": 15,
    "content": "- **Database Schema**: The schema is defined via SQL migration files in `supabase/migrations/`. It includes tables for `users`, `referrals`, `open_chairs`, `payments`, `affiliates`, and more, modeling the core business domains.\n- **Edge Functions**: Located in `supabase/functions/`, each folder represents a serverless function that can be invoked from the client. This is where most of the core business logic resides. For example:\n  - `send-referral`: Handles the logic for matching and notifying stylists.\n  - `accept-open-chair`: Manages the process of a stylist claiming an open chair.\n  - `settle-open-chair-commission`: Calculates and records commission splits after a session.\n  - `adjust-referral`: Processes post-creation referral modifications.\n  - `auto-confirm-adjustments`: Automated approval for minor adjustments.\n  - `quick-rebook`: Creates new bookings from previous appointments.\n  - `manage-service-catalog`: CRUD operations for the service catalog.\n- **Authentication**: User and session management is handled by Supabase Auth, which integrates directly with the database via the `auth.users` table and RLS (Row Level Security) policies.\n- **AI Gateway**: Centralized service layer (`src/lib/aiGateway.ts`) that abstracts AI provider implementations and provides React hooks for easy integration.",
    "char_count": 1318
  },
  {
    "file_path": "HLA",
    "chunk_index": 16,
    "content": "## 4. Data Flow",
    "char_count": 15
  },
  {
    "file_path": "HLA",
    "chunk_index": 17,
    "content": "1.  **User Interaction**: A user performs an action in the React frontend (e.g., fills out a referral form).\n2.  **Client-Side Logic**: The frontend component calls a function that uses the Supabase client (`@supabase/supabase-js`).\n3.  **Backend Invocation**:\n    - For simple data retrieval, the client queries the Supabase database directly (respecting RLS policies).\n    - For complex business logic, the client invokes a Supabase Edge Function.\n    - For AI operations, the client uses the AI Gateway which routes to the configured provider.\n4.  **Edge Function Execution**: The serverless function runs, often interacting with the Supabase database using the service role key to perform privileged operations.\n5.  **Response**: The Edge Function returns a response to the client.\n6.  **UI Update**: The frontend uses the response to update its state (often via TanStack Query) and re-render the UI.",
    "char_count": 904
  },
  {
    "file_path": "HLA",
    "chunk_index": 18,
    "content": "### 4.1 AI-Enhanced Data Flow",
    "char_count": 29
  },
  {
    "file_path": "HLA",
    "chunk_index": 19,
    "content": "For AI-powered features:",
    "char_count": 24
  },
  {
    "file_path": "HLA",
    "chunk_index": 20,
    "content": "1.  **User Interaction**: User initiates an AI-powered action (smart matching, content generation, etc.)\n2.  **AI Gateway Invocation**: Frontend calls AI hooks (`useAIChat`, `useAIEmbedding`, `useAIStream`)\n3.  **Provider Selection**: AI Gateway routes to configured provider (Google, OpenAI, Anthropic, Ollama)\n4.  **AI Processing**: Provider processes request and returns results\n5.  **Result Integration**: Response integrated into application logic\n6.  **Logging**: All AI operations logged to `ai_usage_tracking` for monitoring and cost analysis",
    "char_count": 550
  },
  {
    "file_path": "HLA",
    "chunk_index": 21,
    "content": "## 5. Key System Components",
    "char_count": 27
  },
  {
    "file_path": "HLA",
    "chunk_index": 22,
    "content": "### 5.1 Core Features",
    "char_count": 21
  },
  {
    "file_path": "HLA",
    "chunk_index": 23,
    "content": "- User Authentication & Onboarding\n- Referral Management\n- Open Chair Marketplace\n- Hot Seat Flash Sales\n- Coverage Mode\n- Profile & Network Management\n- Admin Console",
    "char_count": 167
  },
  {
    "file_path": "HLA",
    "chunk_index": 24,
    "content": "### 5.2 Enhanced Features (2025)",
    "char_count": 32
  },
  {
    "file_path": "HLA",
    "chunk_index": 25,
    "content": "- **AI Gateway**: Multi-provider AI integration with intelligent matching and recommendations\n- **Service Catalog**: Centralized, taxonomy-based service management\n- **Referral Adjustments**: Post-creation modifications with auto-approval\n- **Quick Rebook**: One-click rebooking with AI suggestions",
    "char_count": 298
  },
  {
    "file_path": "HLA",
    "chunk_index": 26,
    "content": "### 5.3 Infrastructure",
    "char_count": 22
  },
  {
    "file_path": "HLA",
    "chunk_index": 27,
    "content": "- **Supabase**: Backend platform (database, auth, edge functions)\n- **Vercel**: Frontend hosting and serverless API functions\n- **MongoDB Atlas**: RAG documentation system storage\n- **Stripe**: Payment processing and payouts\n- **AI Providers**: Google, OpenAI, Anthropic, Ollama",
    "char_count": 279
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 0,
    "content": "---\nid: 693f216815e20b31a2920445\nrevision: 1\n---\n# Home and Inbox Page Components Documentation",
    "char_count": 95
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 2,
    "content": "The Home and Inbox pages are core navigation components of the Style Referral Ring application, providing users with their primary dashboard and messaging interface.",
    "char_count": 165
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 3,
    "content": "## Recent Updates (December 2025)",
    "char_count": 33
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 4,
    "content": "### Commit 65e82da: Update Home and Inbox pages",
    "char_count": 47
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 5,
    "content": "**Date:** December 14, 2025  \n**Type:** Enhancement",
    "char_count": 51
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 6,
    "content": "**Changes Made:**",
    "char_count": 17
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 7,
    "content": "- Updated Home page functionality and user interface\n- Enhanced Inbox page with improved messaging features\n- Optimized navigation between core application areas\n- Improved user experience for primary application entry points",
    "char_count": 225
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 8,
    "content": "**Files Modified:**",
    "char_count": 19
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 9,
    "content": "- Home page components\n- Inbox page components\n- Navigation and routing logic",
    "char_count": 77
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 10,
    "content": "**Impact Analysis:**",
    "char_count": 20
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 11,
    "content": "- **User-Facing Changes:** Yes - Direct improvements to primary user interface\n- **Component Classification:** Page Components (Core Navigation)\n- **Feature Impact:** High - Affects primary user workflows and daily usage",
    "char_count": 220
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 12,
    "content": "## Component Architecture",
    "char_count": 25
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 13,
    "content": "### Home Page Component",
    "char_count": 23
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 14,
    "content": "#### File Location",
    "char_count": 18
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 15,
    "content": "```\nsrc/components/pages/HomePage.tsx\n```",
    "char_count": 41
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 16,
    "content": "#### Functionality",
    "char_count": 18
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 17,
    "content": "The Home page serves as the primary dashboard where users:",
    "char_count": 58
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 18,
    "content": "1. **Dashboard Overview**",
    "char_count": 25
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 19,
    "content": "- View recent activity and updates\n   - Access quick navigation to key features\n   - Monitor referral performance and statistics",
    "char_count": 131
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 20,
    "content": "2. **Content Feed**",
    "char_count": 19
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 21,
    "content": "- Browse style recommendations\n   - View community posts and updates\n   - Access personalized content based on preferences",
    "char_count": 125
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 22,
    "content": "3. **Quick Actions**\n   - Initiate new referrals\n   - Access messaging and notifications\n   - Navigate to profile management",
    "char_count": 124
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 23,
    "content": "### Inbox Page Component",
    "char_count": 24
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 24,
    "content": "#### File Location",
    "char_count": 18
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 25,
    "content": "```\nsrc/components/pages/InboxPage.tsx\n```",
    "char_count": 42
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 26,
    "content": "#### Functionality",
    "char_count": 18
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 27,
    "content": "The Inbox page manages communication features:",
    "char_count": 46
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 28,
    "content": "1. **Message Management**",
    "char_count": 25
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 29,
    "content": "- View and organize conversations\n   - Send and receive messages with referral partners\n   - Handle notifications and alerts",
    "char_count": 127
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 30,
    "content": "2. **Communication Features**",
    "char_count": 29
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 31,
    "content": "- Real-time messaging functionality\n   - Message threading and organization\n   - File and media sharing capabilities",
    "char_count": 119
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 32,
    "content": "3. **Notification Center**\n   - System notifications and updates\n   - Referral status updates\n   - Professional service communications",
    "char_count": 134
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 33,
    "content": "## Technical Implementation",
    "char_count": 27
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 34,
    "content": "### Component Classification",
    "char_count": 28
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 35,
    "content": "- **Type:** Page Components (Core Navigation)\n- **Category:** Primary User Interface\n- **User-Facing:** Yes\n- **Priority:** Critical",
    "char_count": 132
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 36,
    "content": "### Dependencies",
    "char_count": 16
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 37,
    "content": "- React component architecture\n- Routing and navigation system\n- User authentication and session management\n- Real-time communication infrastructure",
    "char_count": 148
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 38,
    "content": "### Integration Points",
    "char_count": 22
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 39,
    "content": "- User profile management\n- Referral tracking system\n- Professional network features\n- Boost functionality integration",
    "char_count": 118
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 40,
    "content": "## User Experience Improvements",
    "char_count": 31
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 41,
    "content": "### Home Page Enhancements",
    "char_count": 26
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 42,
    "content": "1. **Improved Dashboard Layout**",
    "char_count": 32
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 43,
    "content": "- Cleaner, more intuitive interface\n   - Better information hierarchy\n   - Enhanced visual design and accessibility",
    "char_count": 118
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 44,
    "content": "2. **Enhanced Navigation**\n   - Faster access to key features\n   - Improved user flow between sections\n   - Better mobile responsiveness",
    "char_count": 136
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 45,
    "content": "### Inbox Page Enhancements",
    "char_count": 27
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 46,
    "content": "1. **Message Interface Improvements**",
    "char_count": 37
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 47,
    "content": "- More intuitive message organization\n   - Better conversation threading\n   - Enhanced notification management",
    "char_count": 113
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 48,
    "content": "2. **Communication Features**\n   - Improved real-time messaging performance\n   - Better file sharing capabilities\n   - Enhanced search and filter options",
    "char_count": 153
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 49,
    "content": "## Usage Patterns",
    "char_count": 17
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 50,
    "content": "### Home Page Usage",
    "char_count": 19
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 51,
    "content": "```\nUser logs in → Views Dashboard → Checks recent activity → Navigates to features → Initiates referrals\n```",
    "char_count": 109
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 52,
    "content": "### Inbox Page Usage",
    "char_count": 20
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 53,
    "content": "```\nUser accesses Inbox → Views conversations → Manages notifications → Communicates with partners → Returns to Dashboard\n```",
    "char_count": 125
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 54,
    "content": "## Performance Considerations",
    "char_count": 29
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 55,
    "content": "### Optimization Improvements",
    "char_count": 29
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 56,
    "content": "- Enhanced loading times for dashboard content\n- Improved real-time message synchronization\n- Better caching for frequently accessed data\n- Optimized mobile performance",
    "char_count": 168
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 57,
    "content": "### Scalability Features",
    "char_count": 24
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 58,
    "content": "- Efficient data loading strategies\n- Improved state management\n- Better error handling and recovery\n- Enhanced offline capabilities",
    "char_count": 132
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 59,
    "content": "## Integration with Other Systems",
    "char_count": 33
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 60,
    "content": "### Related Components",
    "char_count": 22
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 61,
    "content": "- `ProHubPage.tsx` - Professional services integration\n- `BoostProfile.tsx` - Boost functionality access\n- User profile components\n- Referral management system",
    "char_count": 159
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 62,
    "content": "### System Dependencies",
    "char_count": 23
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 63,
    "content": "- Authentication system\n- Real-time messaging infrastructure\n- Notification system\n- Analytics and tracking",
    "char_count": 107
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 64,
    "content": "## Future Development",
    "char_count": 21
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 65,
    "content": "### Planned Enhancements",
    "char_count": 24
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 66,
    "content": "1. **Advanced Personalization**: AI-powered content recommendations\n2. **Enhanced Communication**: Video calling and advanced messaging features\n3. **Improved Analytics**: Better performance tracking and insights\n4. **Mobile Optimization**: Native mobile app integration",
    "char_count": 270
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 67,
    "content": "### Maintenance Notes",
    "char_count": 21
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 68,
    "content": "- Regular updates for user experience optimization\n- High priority for performance monitoring\n- Critical for user retention and engagement\n- Requires ongoing usability testing",
    "char_count": 175
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 69,
    "content": "## Related Documentation",
    "char_count": 24
  },
  {
    "file_path": "HOME_INBOX_COMPONENTS",
    "chunk_index": 70,
    "content": "- [Pro Hub Page Component](PROHUB_PAGE_COMPONENT.md)\n- [Boost Profile Component](BOOST_PROFILE_COMPONENT.md)\n- [User Interface Guidelines](UI_GUIDELINES.md)\n- [Navigation Architecture](NAVIGATION_ARCHITECTURE.md)",
    "char_count": 213
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 0,
    "content": "---\nid: 693f21683af7cf174bf17e8b\nrevision: 1\n---\n# Inbox Notifications System Documentation",
    "char_count": 91
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 2,
    "content": "The Inbox Notifications system provides real-time communication and notification management within the Style Referral Ring application. This system ensures users receive timely updates about referrals, messages, and platform activities.",
    "char_count": 236
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 3,
    "content": "## Recent Updates (December 2025)",
    "char_count": 33
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 4,
    "content": "### Commit fba68cf: Fix Inbox notifications",
    "char_count": 43
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 5,
    "content": "**Date:** December 14, 2025  \n**Type:** Bug Fix",
    "char_count": 47
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 6,
    "content": "**Changes Made:**",
    "char_count": 17
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 7,
    "content": "- Fixed critical Inbox notification functionality issues\n- Resolved notification delivery problems\n- Improved real-time notification synchronization\n- Enhanced notification reliability and performance",
    "char_count": 200
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 8,
    "content": "**Impact Analysis:**",
    "char_count": 20
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 9,
    "content": "- **User-Facing Changes:** Yes - Direct improvements to notification system\n- **Component Classification:** Page Components (Communication)\n- **Priority:** Critical - Essential for user communication and engagement",
    "char_count": 214
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 10,
    "content": "## System Architecture",
    "char_count": 22
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 11,
    "content": "### Component Classification",
    "char_count": 28
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 12,
    "content": "- **Type:** Page Component (Communication System)\n- **Category:** Real-time Messaging and Notifications\n- **User-Facing:** Yes\n- **Priority:** Critical",
    "char_count": 151
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 13,
    "content": "### Core Components",
    "char_count": 19
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 14,
    "content": "1. **Notification Engine**: Real-time notification processing and delivery\n2. **Message Synchronization**: Real-time message updates and threading\n3. **Alert Management**: System alerts and user notifications\n4. **Communication Infrastructure**: WebSocket connections and API integration",
    "char_count": 287
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 15,
    "content": "## Notification Types",
    "char_count": 21
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 16,
    "content": "### User Communication Notifications",
    "char_count": 36
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 17,
    "content": "1. **Direct Messages**",
    "char_count": 22
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 18,
    "content": "- New message notifications\n   - Message thread updates\n   - Unread message indicators",
    "char_count": 89
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 19,
    "content": "2. **Referral Notifications**",
    "char_count": 29
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 20,
    "content": "- New referral requests\n   - Referral status updates\n   - Referral completion alerts",
    "char_count": 87
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 21,
    "content": "3. **Professional Network Notifications**\n   - Professional connection requests\n   - Professional service inquiries\n   - Boost feature updates",
    "char_count": 142
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 22,
    "content": "### System Notifications",
    "char_count": 24
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 23,
    "content": "1. **Platform Updates**",
    "char_count": 23
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 24,
    "content": "- Feature announcements\n   - System maintenance alerts\n   - Security notifications",
    "char_count": 85
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 25,
    "content": "2. **Account Activity**\n   - Profile updates\n   - Security alerts\n   - Subscription changes",
    "char_count": 91
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 26,
    "content": "## Technical Implementation",
    "char_count": 27
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 27,
    "content": "### Real-time Communication",
    "char_count": 27
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 28,
    "content": "```typescript\ninterface NotificationSystem {\n  websocketConnection: WebSocketManager;\n  notificationQueue: NotificationQueue;\n  deliveryTracking: DeliveryTracker;\n  synchronization: MessageSynchronizer;\n}\n```",
    "char_count": 208
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 29,
    "content": "### Notification Processing Pipeline",
    "char_count": 36
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 30,
    "content": "```\nMessage/Event Generated → Notification Engine → Real-time Delivery → User Interface Update → Acknowledgment Tracking\n```",
    "char_count": 124
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 31,
    "content": "### Infrastructure Components",
    "char_count": 29
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 32,
    "content": "1. **WebSocket Management**",
    "char_count": 27
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 33,
    "content": "- Real-time connection handling\n   - Connection recovery and resilience\n   - Message queuing and delivery",
    "char_count": 108
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 34,
    "content": "2. **Notification Queue**\n   - Asynchronous message processing\n   - Priority-based notification delivery\n   - Failed delivery retry mechanisms",
    "char_count": 142
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 35,
    "content": "## Bug Fixes and Improvements",
    "char_count": 29
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 36,
    "content": "### Issues Resolved",
    "char_count": 19
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 37,
    "content": "1. **Notification Delivery Problems**",
    "char_count": 37
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 38,
    "content": "- Fixed delayed or missing notifications\n   - Resolved notification duplication issues\n   - Improved notification ordering and sequencing",
    "char_count": 140
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 39,
    "content": "2. **Real-time Synchronization Issues**",
    "char_count": 39
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 40,
    "content": "- Fixed message synchronization delays\n   - Resolved WebSocket connection problems\n   - Improved offline/online state handling",
    "char_count": 129
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 41,
    "content": "3. **User Interface Problems**\n   - Fixed notification display issues\n   - Resolved notification acknowledgment problems\n   - Improved notification interaction handling",
    "char_count": 168
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 42,
    "content": "### Performance Enhancements",
    "char_count": 28
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 43,
    "content": "1. **Improved Delivery Speed**",
    "char_count": 30
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 44,
    "content": "- Faster notification processing\n   - Reduced latency in message delivery\n   - Enhanced real-time performance",
    "char_count": 112
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 45,
    "content": "2. **Better Resource Management**\n   - Optimized memory usage\n   - Improved connection management\n   - Better error handling and recovery",
    "char_count": 137
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 46,
    "content": "## User Experience Improvements",
    "char_count": 31
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 47,
    "content": "### Notification Interface",
    "char_count": 26
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 48,
    "content": "1. **Visual Improvements**",
    "char_count": 26
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 49,
    "content": "- Clearer notification indicators\n   - Better notification grouping and organization\n   - Enhanced read/unread status management",
    "char_count": 131
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 50,
    "content": "2. **Interaction Enhancements**\n   - Faster notification acknowledgment\n   - Better notification actions and responses\n   - Improved notification history access",
    "char_count": 160
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 51,
    "content": "### Mobile Responsiveness",
    "char_count": 25
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 52,
    "content": "1. **Mobile Optimization**",
    "char_count": 26
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 53,
    "content": "- Better mobile notification handling\n   - Improved touch interactions\n   - Enhanced mobile-specific features",
    "char_count": 112
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 54,
    "content": "2. **Cross-platform Consistency**\n   - Consistent notification behavior across devices\n   - Synchronized notification states\n   - Unified notification management",
    "char_count": 161
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 55,
    "content": "## Integration Points",
    "char_count": 21
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 56,
    "content": "### System Dependencies",
    "char_count": 23
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 57,
    "content": "1. **Real-time Infrastructure**",
    "char_count": 31
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 58,
    "content": "- WebSocket server integration\n   - Message queue systems\n   - Push notification services",
    "char_count": 92
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 59,
    "content": "2. **User Management System**\n   - User authentication and session management\n   - User preference and settings\n   - Privacy and notification controls",
    "char_count": 150
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 60,
    "content": "### Related Components",
    "char_count": 22
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 61,
    "content": "- **Inbox Page Component**: Main messaging interface\n- **Home Page Component**: Notification dashboard integration\n- **Professional Network System**: Professional communication notifications\n- **Referral System**: Referral-related notifications",
    "char_count": 244
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 62,
    "content": "## Notification Management",
    "char_count": 26
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 63,
    "content": "### User Controls",
    "char_count": 17
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 64,
    "content": "1. **Notification Preferences**",
    "char_count": 31
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 65,
    "content": "- Customizable notification settings\n   - Channel-specific preferences (email, push, in-app)\n   - Priority and frequency controls",
    "char_count": 132
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 66,
    "content": "2. **Privacy Controls**\n   - Notification visibility settings\n   - Message privacy options\n   - Contact and communication preferences",
    "char_count": 133
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 67,
    "content": "### Administrative Features",
    "char_count": 27
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 68,
    "content": "1. **System Notifications**",
    "char_count": 27
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 69,
    "content": "- Platform-wide announcements\n   - Maintenance notifications\n   - Emergency alerts",
    "char_count": 85
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 70,
    "content": "2. **Analytics and Monitoring**\n   - Notification delivery tracking\n   - User engagement metrics\n   - System performance monitoring",
    "char_count": 131
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 71,
    "content": "## Performance Metrics",
    "char_count": 22
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 72,
    "content": "### Key Performance Indicators",
    "char_count": 30
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 73,
    "content": "1. **Delivery Metrics**",
    "char_count": 23
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 74,
    "content": "- Notification delivery success rate\n   - Average delivery time\n   - Failed delivery rates",
    "char_count": 93
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 75,
    "content": "2. **User Engagement**\n   - Notification open rates\n   - User interaction rates\n   - Notification preference usage",
    "char_count": 114
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 76,
    "content": "### Reliability Metrics",
    "char_count": 23
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 77,
    "content": "1. **System Uptime**",
    "char_count": 20
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 78,
    "content": "- WebSocket connection stability\n   - Service availability\n   - Error rate monitoring",
    "char_count": 88
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 79,
    "content": "2. **User Satisfaction**\n   - Notification relevance ratings\n   - User feedback scores\n   - Support ticket reduction",
    "char_count": 116
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 80,
    "content": "## Troubleshooting Guide",
    "char_count": 24
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 81,
    "content": "### Common Issues",
    "char_count": 17
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 82,
    "content": "1. **Missing Notifications**",
    "char_count": 28
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 83,
    "content": "- Check WebSocket connection status\n   - Verify user notification preferences\n   - Review delivery queue status",
    "char_count": 114
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 84,
    "content": "2. **Delayed Notifications**",
    "char_count": 28
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 85,
    "content": "- Monitor system performance metrics\n   - Check network connectivity\n   - Review message processing pipeline",
    "char_count": 111
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 86,
    "content": "3. **Duplicate Notifications**\n   - Check message deduplication logic\n   - Verify notification acknowledgment system\n   - Review client-side state management",
    "char_count": 157
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 87,
    "content": "### Diagnostic Tools",
    "char_count": 20
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 88,
    "content": "1. **Connection Monitoring**",
    "char_count": 28
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 89,
    "content": "- Real-time connection status\n   - WebSocket health checks\n   - Network connectivity tests",
    "char_count": 93
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 90,
    "content": "2. **Message Tracking**\n   - Notification delivery logs\n   - Message processing traces\n   - User interaction analytics",
    "char_count": 118
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 91,
    "content": "## Security Considerations",
    "char_count": 26
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 92,
    "content": "### Privacy Protection",
    "char_count": 22
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 93,
    "content": "1. **Message Encryption**",
    "char_count": 25
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 94,
    "content": "- End-to-end encryption for sensitive messages\n   - Secure notification content handling\n   - Privacy-compliant notification delivery",
    "char_count": 136
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 95,
    "content": "2. **Access Controls**\n   - User-based notification permissions\n   - Role-based notification access\n   - Secure notification API endpoints",
    "char_count": 138
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 96,
    "content": "### Compliance",
    "char_count": 14
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 97,
    "content": "1. **Data Protection**",
    "char_count": 22
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 98,
    "content": "- GDPR-compliant notification handling\n   - User data privacy protection\n   - Notification data retention policies",
    "char_count": 117
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 99,
    "content": "2. **Security Protocols**\n   - Secure WebSocket connections\n   - Authentication and authorization\n   - Anti-spam and abuse prevention",
    "char_count": 133
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 100,
    "content": "## Future Enhancements",
    "char_count": 22
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 101,
    "content": "### Planned Improvements",
    "char_count": 24
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 102,
    "content": "1. **Advanced Personalization**",
    "char_count": 31
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 103,
    "content": "- AI-powered notification relevance\n   - Smart notification timing\n   - Predictive notification preferences",
    "char_count": 110
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 104,
    "content": "2. **Enhanced Features**\n   - Rich media notifications\n   - Interactive notification actions\n   - Advanced notification scheduling",
    "char_count": 130
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 105,
    "content": "### Technology Upgrades",
    "char_count": 23
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 106,
    "content": "1. **Infrastructure Improvements**",
    "char_count": 34
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 107,
    "content": "- Enhanced scalability\n   - Better performance optimization\n   - Advanced monitoring and analytics",
    "char_count": 101
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 108,
    "content": "2. **Integration Enhancements**\n   - Third-party service integration\n   - API improvements\n   - Mobile app integration",
    "char_count": 118
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 109,
    "content": "## Related Documentation",
    "char_count": 24
  },
  {
    "file_path": "INBOX_NOTIFICATIONS_SYSTEM",
    "chunk_index": 110,
    "content": "- [Home and Inbox Components](HOME_INBOX_COMPONENTS.md)\n- [Real-time Communication Architecture](REALTIME_COMMUNICATION.md)\n- [User Management System](USER_MANAGEMENT.md)\n- [WebSocket Infrastructure](WEBSOCKET_SYSTEM.md)",
    "char_count": 221
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 0,
    "content": "---\nid: 693f216894ef338f3987ea16\nrevision: 1\n---\n---\ntitle: Integration Guide\nrevision: 2.2\nlast_updated: November 8, 2025\n---",
    "char_count": 126
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 1,
    "content": "# Integration Guide",
    "char_count": 19
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 2,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 3,
    "content": "This document provides a guide for potential future integrations with the ClientPass platform. While ClientPass does not currently offer a public API, this document outlines the possible integration points and data exchange patterns that could be developed.",
    "char_count": 257
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 4,
    "content": "## 2. Authentication",
    "char_count": 20
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 5,
    "content": "Any external system integrating with ClientPass would require a secure method of authentication. The proposed method would be API Key-based authentication.",
    "char_count": 155
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 6,
    "content": "- **API Keys**: A unique, secret key would be generated for each integration partner. This key must be included in the `Authorization` header of all API requests.",
    "char_count": 162
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 7,
    "content": "## 3. Integration Patterns",
    "char_count": 26
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 8,
    "content": "Two primary patterns would be supported for integration: Webhooks for outbound data flow and a RESTful API for inbound data flow.",
    "char_count": 129
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 9,
    "content": "### 3.1 Webhooks (Outbound Data)",
    "char_count": 32
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 10,
    "content": "ClientPass could send real-time notifications to an external system when key events occur. The external system would need to provide a secure endpoint to receive these webhook payloads.",
    "char_count": 185
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 11,
    "content": "**Potential Webhook Events:**",
    "char_count": 29
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 12,
    "content": "- `referral.created`: Triggered when a new referral is initiated.\n  - **Payload**: `{ referralId, senderId, clientInfo, serviceType, status }`\n- `referral.accepted`: Triggered when a professional accepts a referral.\n  - **Payload**: `{ referralId, receiverId, acceptedAt }`\n- `referral.completed`: Triggered when a service is marked as complete.\n  - **Payload**: `{ referralId, finalAmount, commission, fees }`\n- `open_chair.posted`: Triggered when a new Open Chair is listed.\n  - **Payload**: `{ openChairId, hostId, location, timeWindow, commissionPct }`\n- `user.created`: Triggered when a new user successfully signs up.\n  - **Payload**: `{ userId, fullName, role }`",
    "char_count": 669
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 13,
    "content": "### 3.2 REST API (Inbound Data)",
    "char_count": 31
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 14,
    "content": "A future RESTful API could allow external systems to create and manage resources within ClientPass.",
    "char_count": 99
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 15,
    "content": "**Hypothetical API Endpoints:**",
    "char_count": 31
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 16,
    "content": "- `POST /api/v1/referrals`\n  - **Description**: Create a new referral for a walk-in client. This could be used by a salon's front-desk software to automatically refer overflow clients.\n  - **Body**: `{ clientName, clientPhone, serviceType, commissionPct, notes }`",
    "char_count": 263
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 17,
    "content": "- `GET /api/v1/users/{userId}/earnings`\n  - **Description**: Retrieve earnings data for a specific user.\n  - **Response**: `{ total, pending, available, transactions: [...] }`",
    "char_count": 175
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 18,
    "content": "- `GET /api/v1/open_chairs`\n  - **Description**: Get a list of currently available Open Chairs, filterable by location.\n  - **Query Params**: `?zip_code=90210&radius=10`\n  - **Response**: `[{ openChairId, hostName, location, ... }]`",
    "char_count": 232
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 19,
    "content": "## 4. Example Integration Use Case",
    "char_count": 34
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 20,
    "content": "**Scenario**: A third-party salon management software wants to integrate with ClientPass to handle overflow clients.",
    "char_count": 116
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 21,
    "content": "1.  **Setup**: The salon software company is issued an API key by ClientPass.\n2.  **Workflow**:\n    - A walk-in client arrives at the salon, but no stylists are available.\n    - The front-desk staff uses their salon software to mark the client as an \"overflow\".\n    - The salon software makes a `POST` request to `/api/v1/referrals` with the client's information.\n    - ClientPass receives the request and initiates its internal referral workflow, finding an available stylist nearby.\n3.  **Feedback Loop**: The salon software provides a webhook endpoint. When the referral is `completed`, ClientPass sends a `referral.completed` event to the webhook. The salon software can then use this data to update its own records, perhaps crediting the salon for the referral commission.",
    "char_count": 777
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 22,
    "content": "## 5. New Features and Updates",
    "char_count": 30
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 23,
    "content": "### 5.1 Capacitor Integration",
    "char_count": 29
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 24,
    "content": "ClientPass has integrated Capacitor to enhance mobile application capabilities. This includes support for Android and iOS platforms, allowing for more robust mobile app development.",
    "char_count": 181
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 25,
    "content": "- **Dependencies Added**:\n  - `@capacitor/android`: `^7.4.3`\n  - `@capacitor/cli`: `^7.4.3`\n  - `@capacitor/core`: `^7.4.3`\n  - `@capacitor/ios`: `^7.4.3`",
    "char_count": 154
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 26,
    "content": "This integration allows developers to leverage Capacitor's features for building cross-platform mobile applications that can interact with ClientPass services.",
    "char_count": 159
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 27,
    "content": "### 5.2 Database Schema Updates",
    "char_count": 31
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 28,
    "content": "Recent updates to the database schema have removed nullable constraints from the `ip_address` field in various tables. This change ensures more consistent data handling and integrity.",
    "char_count": 183
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 29,
    "content": "- **Affected Tables**:\n  - `sessions`\n  - `activity_logs`",
    "char_count": 57
  },
  {
    "file_path": "INTEGRATION_GUIDE",
    "chunk_index": 30,
    "content": "These changes improve the robustness of data tracking and session management within the ClientPass platform.",
    "char_count": 108
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 0,
    "content": "---\nid: 68e30a9777e8ead370b13e61\nrevision: 9\n---",
    "char_count": 48
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 1,
    "content": "# Comprehensive Marketing Strategy for ClientPass",
    "char_count": 49
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 2,
    "content": "This document provides a detailed marketing strategy designed to maximize the adoption and growth of the ClientPass application.",
    "char_count": 128
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 3,
    "content": "## 1. Deep Dive into Target Audiences",
    "char_count": 37
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 4,
    "content": "A successful marketing strategy starts with a deep understanding of our target audiences. We have identified four key segments:",
    "char_count": 127
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 5,
    "content": "- **The Independent Stylist (Pro):**\n    - **Demographics:** Aged 25-45, tech-savvy, active on social media (especially Instagram and TikTok). They are either renting a booth, working on commission, or have their own small studio.\n    - **Pain Points:** Irregular income, difficulty finding new clients, administrative overhead (booking, payments, marketing), and the high cost of professional tools.\n    - **Goals:** To build a loyal clientele, increase their income, and focus on their craft rather than on administrative tasks.",
    "char_count": 530
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 6,
    "content": "- **The Salon/Suite Owner (Suite):**\n    - **Demographics:** Aged 35-60, business-minded, may own one or multiple locations. They are looking for ways to optimize their business and increase profitability.\n    - **Pain Points:** Under-utilized chairs/suites, high turnover of stylists, time-consuming management tasks, and the need to create additional revenue streams.\n    - **Goals:** To maximize occupancy, streamline operations, create a thriving community of stylists, and increase the overall profitability of their business.",
    "char_count": 531
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 7,
    "content": "- **The Modern Client:**\n    - **Demographics:** Aged 18-50, digitally native, values convenience and social proof. They use apps for everything from ordering food to booking travel.\n    - **Pain Points:** Difficulty finding and booking appointments with trusted stylists, lack of a centralized platform for managing their beauty regimen, and the desire to be rewarded for their loyalty.\n    - **Goals:** To easily discover and book talented stylists, manage their appointments seamlessly, and feel valued as a customer.",
    "char_count": 520
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 8,
    "content": "- **The Beauty Influencer (Affiliate):**\n    - **Demographics:** Varies widely, but they have a dedicated following on social media and are seen as experts in the beauty industry.\n    - **Pain Points:** The need to monetize their content in an authentic way, and the desire to offer real value to their audience.\n    - **Goals:** To partner with brands that align with their values, earn a sustainable income from their content, and provide their followers with valuable recommendations.",
    "char_count": 487
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 9,
    "content": "## 2. Crafting a Compelling Value Proposition",
    "char_count": 45
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 10,
    "content": "Our messaging needs to resonate with the specific goals and pain points of each audience segment.",
    "char_count": 97
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 11,
    "content": "- **For Stylists:** \"Stop worrying about the business side of things. ClientPass is your all-in-one solution to fill your chair, manage your bookings, and grow your income, so you can focus on what you do best: creating beautiful hair.\"\n- **For Salon/Suite Owners:** \"Transform your salon into a thriving, fully-occupied business. ClientPass helps you find and retain top talent, streamline your management tasks, and unlock new revenue streams. It's the business partner you've been looking for.\"\n- **For Clients:** \"Your next great hair day is just a tap away. Discover and book the best stylists in your city, manage your appointments with ease, and get rewarded for sharing the love with your friends.\"\n- **For Affiliates:** \"Turn your passion for beauty into a paycheck. Partner with ClientPass to promote top-quality products to your audience and earn a commission on every sale. It's the easiest way to monetize your influence.\"",
    "char_count": 935
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 12,
    "content": "## 3. A Multi-Channel Marketing Approach",
    "char_count": 40
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 13,
    "content": "We will use a combination of online and offline channels to reach our target audiences.",
    "char_count": 87
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 14,
    "content": "```mermaid\nmindmap\n  root((Marketing Channels))\n    (Online)\n      (Social Media)\n      (Content Marketing)\n      (Email Marketing)\n      (Paid Advertising)\n    (Offline)\n      (Industry Events)\n      (Partnerships)\n      (Local Meetups)\n```",
    "char_count": 241
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 15,
    "content": "- **Social Media:** This is our most important channel. We will create a content calendar and post a mix of educational, inspirational, and promotional content. We will also run targeted ad campaigns to reach specific audience segments.\n- **Content Marketing:** We will create a blog and a YouTube channel with high-quality content that addresses the pain points of our target audiences. This will help us to build trust and authority in the industry.\n- **Email Marketing:** We will build an email list through our website and social media channels. We will use email to nurture leads, announce new features, and promote special offers.\n- **Industry Events:** We will have a presence at major hair shows and beauty expos. This will give us the opportunity to connect with stylists and salon owners in person and demo the application.\n- **Partnerships:** We will build relationships with beauty schools, salon suite franchises, and beauty product companies. These partnerships will help us to reach a wider audience and build credibility.",
    "char_count": 1037
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 16,
    "content": "## 4. Actionable Marketing Campaigns",
    "char_count": 36
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 17,
    "content": "Here are some specific campaigns we can launch to drive adoption:",
    "char_count": 65
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 18,
    "content": "- **The \"Founding 500\" Campaign (Pre-Launch/Launch):**\n    - **Goal:** To create a community of early adopters and generate buzz before the official launch.\n    - **Tactic:** Offer an exclusive \"Founding 500\" membership to the first 500 stylists who sign up. This membership could include a lifetime discount, a special badge on their profile, and access to exclusive features.\n    - **Promotion:** Promote the campaign through social media ads, partnerships with influencers, and a landing page on our website.",
    "char_count": 511
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 19,
    "content": "- **The \"Refer-a-Stylist, Get $100\" Campaign (Post-Launch):**\n    - **Goal:** To accelerate user growth by incentivizing stylist-to-stylist referrals.\n    - **Tactic:** Offer a $100 cash bonus to any stylist who refers another stylist who signs up and completes their first booking.\n    - **Promotion:** Promote the campaign through email marketing, in-app notifications, and social media.",
    "char_count": 389
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 20,
    "content": "- **The \"ClientPass University\" Content Campaign (Ongoing):**\n    - **Goal:** To establish ClientPass as a thought leader in the industry and attract new users through valuable content.\n    - **Tactic:** Create a series of high-quality video tutorials and blog posts on topics like \"How to Build a Six-Figure Clientele\", \"The Ultimate Guide to Instagram for Stylists\", and \"How to Run a Profitable Salon Suite\".\n    - **Promotion:** Promote the content through social media, email marketing, and SEO.",
    "char_count": 500
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 21,
    "content": "## 5. The Marketing Funnel",
    "char_count": 26
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 22,
    "content": "We can visualize our marketing efforts as a funnel that guides potential users from awareness to advocacy.",
    "char_count": 106
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 23,
    "content": "```mermaid\ngraph TD\n    subgraph \"Marketing Funnel\"\n        D1[Awareness] --> D2[Interest];\n        D2 --> D3[Consideration];\n        D3 --> D4[Conversion];\n        D4 --> D5[Loyalty];\n        D5 --> D6[Advocacy];\n    end\n```",
    "char_count": 225
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 24,
    "content": "- **Awareness:** Potential users hear about ClientPass for the first time through social media, a blog post, or an ad.\n- **Interest:** They visit our website or social media profiles to learn more.\n- **Consideration:** They compare ClientPass to other solutions and read reviews.\n- **Conversion:** They sign up for a free trial or a paid plan.\n- **Loyalty:** They continue to use the application and have a positive experience.\n- **Advocacy:** They become a brand advocate and refer other users to the platform.",
    "char_count": 511
  },
  {
    "file_path": "MARKETING_RECOMMENDATIONS",
    "chunk_index": 25,
    "content": "By creating a comprehensive marketing strategy that targets the right audience with the right message through the right channels, we can maximize the adoption and success of the ClientPass application.",
    "char_count": 202
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266a88\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 1,
    "content": "# MVP Scope & Effort Estimate",
    "char_count": 29
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 2,
    "content": "This document defines the scope and provides a high-level effort estimate for the Minimum Viable Product (MVP) of the ClientPass application.",
    "char_count": 141
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 3,
    "content": "**Sizing Legend:**\n- **S**: Small\n- **M**: Medium\n- **L**: Large",
    "char_count": 64
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 4,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 5,
    "content": "## 1. MVP Scope",
    "char_count": 15
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 6,
    "content": "The MVP is focused on delivering the core referral workflow, which allows stylists to successfully refer clients to one another and track their earnings. This provides the fundamental value of the platform.",
    "char_count": 206
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 7,
    "content": "### 1.1 In-Scope User Stories",
    "char_count": 29
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 8,
    "content": "The following user stories are included in the MVP:",
    "char_count": 51
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 9,
    "content": "#### Epic: User Authentication & Onboarding\n- **Story**: As a stylist, I want to sign up with my email and password so I can create an account and access the platform.\n  - **Estimate**: **M**\n- **Story**: As a user, I want to be able to log in securely and log out of my account.\n  - **Estimate**: **S**",
    "char_count": 303
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 10,
    "content": "#### Epic: Profile & Network Management\n- **Story**: As a stylist, I want a basic profile with my name and photo so other users can identify me.\n  - **Estimate**: **S** *(Note: Scoped down from the full profile feature for MVP)*",
    "char_count": 228
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 11,
    "content": "#### Epic: Referral Management\n- **Story**: As a busy stylist, I want to quickly send a walk-in client I can't serve to another stylist so I can earn a commission.\n  - **Estimate**: **M**\n- **Story**: As a stylist, I want to receive real-time notifications for new referrals so I don't miss opportunities.\n  - **Estimate**: **M**\n- **Story**: As a stylist, I want a 10-minute window to accept or decline a referral.\n  - **Estimate**: **L**\n- **Story**: As a sender, I want the system to automatically reassign an expired or declined referral to the next best stylist.\n  - **Estimate**: **L**",
    "char_count": 591
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 12,
    "content": "#### Epic: Financials & Earnings\n- **Story**: As a user, I want to see a dashboard of my total, pending, and available earnings.\n  - **Estimate**: **M**",
    "char_count": 152
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 13,
    "content": "### 1.2 Out-of-Scope Features",
    "char_count": 29
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 14,
    "content": "The following major features are **excluded** from the MVP and will be prioritized in a later phase:",
    "char_count": 100
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 15,
    "content": "- Open Chair Marketplace\n- Hot Seat (Flash Sales)\n- Coverage Mode\n- Full Affiliate Program\n- Pro Deals & Admin Panels\n- Advanced Profile Features (Portfolio, etc.)\n- Advanced Network Management (Trusted Network, Auto-Suggest)\n- Stripe Payout Integration (earnings will be tracked but not paid out automatically in MVP).",
    "char_count": 319
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 16,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 17,
    "content": "## 2. MVP Effort Summary",
    "char_count": 24
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 18,
    "content": "Based on the in-scope stories, the total estimated effort for the MVP is:",
    "char_count": 73
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 19,
    "content": "- **Small Stories**: 2\n- **Medium Stories**: 4\n- **Large Stories**: 2",
    "char_count": 69
  },
  {
    "file_path": "MVP_ESTIMATE",
    "chunk_index": 20,
    "content": "This represents a substantial but focused body of work, centered entirely on validating the core referral loop and commission-tracking functionality of the application.",
    "char_count": 169
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 0,
    "content": "---\nid: 693f216859e2530fb4bca580\nrevision: 1\n---\n---\ntitle: Navigation Flowchart\nrevision: 2.2\nlast_updated: November 8, 2025\n---",
    "char_count": 129
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 1,
    "content": "This document describes the navigation flow of the application.",
    "char_count": 63
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 2,
    "content": "```mermaid\ngraph TD\n    A[Index] --> B{User Logged In?};\n    B -- Yes --> C[Dashboard];\n    B -- No --> D[AuthPage];",
    "char_count": 116
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 3,
    "content": "C --> E[Pro Dashboard];\n    C --> F[Suite Dashboard];\n    C --> G[Client Dashboard];\n    C --> H[Affiliate Dashboard];",
    "char_count": 122
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 4,
    "content": "H --> I[Affiliate Marketplace];",
    "char_count": 35
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 5,
    "content": "F --> J[Suite Tools];\n    J --> K[Post Open Chair];\n    J --> L[Open Chair List];\n    J --> M[Open Chair Alerts];",
    "char_count": 117
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 6,
    "content": "G --> N[Share and Earn];\n    G --> O[Client Referral];",
    "char_count": 58
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 7,
    "content": "E --> P[Stylist Profile Setup];\n    E --> Q[Stylist Profile];\n    Q --> R[Boost Profile];\n    E --> U[Coverage Mode];\n    E --> V[Book Drawer];",
    "char_count": 147
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 8,
    "content": "subgraph \"Documentation\"\n        S[DevDocsPage] --> T[DocViewerPage];\n    end",
    "char_count": 81
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 9,
    "content": "A --> S;\n```\n```markdown\n### Recent Updates",
    "char_count": 47
  },
  {
    "file_path": "NAVIGATION_FLOW",
    "chunk_index": 10,
    "content": "- **Coverage Mode**: A new feature has been added to the Pro Dashboard, allowing users to access the Coverage Mode page.\n- **Book Drawer**: A new component, the Book Drawer, has been integrated into the Pro Dashboard for streamlined booking management.\n- **Tab Navigation**: The Dashboard now supports URL-based tab navigation, allowing users to directly access specific tabs via URL parameters.\n- **UI Consistency**: UI has been updated to ensure consistency across all pages.\n- **Referral Auto-Pass**: Implemented Phase 13 of the Referral Auto-Pass feature.\n```",
    "char_count": 563
  },
  {
    "file_path": "OPEN_CHAIR_ALERTS",
    "chunk_index": 0,
    "content": "---\nid: 68e2f5d877e8ead370b13cc7\nrevision: 11\n---",
    "char_count": 49
  },
  {
    "file_path": "OPEN_CHAIR_ALERTS",
    "chunk_index": 1,
    "content": "# Open Chair Alerts",
    "char_count": 19
  },
  {
    "file_path": "OPEN_CHAIR_ALERTS",
    "chunk_index": 2,
    "content": "This document describes the Open Chair Alerts feature.",
    "char_count": 54
  },
  {
    "file_path": "OPEN_CHAIR_ALERTS",
    "chunk_index": 3,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "OPEN_CHAIR_ALERTS",
    "chunk_index": 4,
    "content": "The Open Chair Alerts page displays alerts for open chairs. It is implemented in the `OpenChairAlertsPage.tsx` component, which uses the `OpenChairAlerts` component.",
    "char_count": 165
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266a8a\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 1,
    "content": "# Post Open Chair Form",
    "char_count": 22
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 2,
    "content": "The `PostOpenChairForm` component allows salon suite owners and managers to post available chairs for other professionals to utilize. This form is a core part of the Suite Tools, enabling efficient management of temporary workspace and fostering collaboration within the professional community.",
    "char_count": 294
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 3,
    "content": "## Key Features",
    "char_count": 15
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 4,
    "content": "- **Location and Time Window**: Owners can specify the exact location and a time window (start and end times) for the open chair. The form includes validation to ensure the time window is in the future and does not exceed 12 hours.\n- **Discipline Selection**: Owners must select the type of professional needed for the chair (Barber or Stylist), which helps in targeting the right audience.\n- **Service Selection**: A comprehensive list of services is available, allowing owners to specify which services the visiting professional is allowed to perform. This list is dynamically filtered based on the selected discipline.\n- **Chair Provider Earnings**: Owners can set the commission percentage they will earn from services performed in their open chair, with a slider for easy adjustment.\n- **Capacity Control**: The form allows setting the number of available seats (capacity) for the open chair.\n- **Audience Targeting**: Owners can choose to broadcast the open chair to their \"Trusted Network\" or to \"All Nearby\" professionals, providing flexibility in how they find a match.\n- **Walk-In Client Option**: A unique feature that allows owners to indicate if they have a walk-in client waiting. If selected, additional fields appear to specify the walk-in service type and price, streamlining the process for immediate client service.\n- **Notes**: An optional field for additional information such as parking, tools provided, or house rules.",
    "char_count": 1441
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 5,
    "content": "## Component Usage",
    "char_count": 18
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 6,
    "content": "The `PostOpenChairForm` is typically integrated into a suite management dashboard or a dedicated page for owners to list their available chairs.",
    "char_count": 144
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 7,
    "content": "```tsx\nimport { PostOpenChairForm } from '@/components/open-chair/PostOpenChairForm';",
    "char_count": 85
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 8,
    "content": "const SuiteDashboard = () => {\n  return (\n    <PostOpenChairForm onSuccess={() => console.log('Open Chair posted successfully!')} />\n  );\n};\n```",
    "char_count": 144
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 9,
    "content": "## Data Flow",
    "char_count": 12
  },
  {
    "file_path": "OPEN_CHAIR_FORM",
    "chunk_index": 10,
    "content": "1.  The form initializes by fetching available services from the backend.\n2.  The owner fills in the details for the open chair, including location, time, discipline, services, commission, capacity, and audience.\n3.  If the \"Walk-In Client\" option is selected, additional service and pricing details are captured.\n4.  Upon submission, the `handleSubmit` function invokes a Supabase Edge Function (`post-open-chair`) with all the collected data.\n5.  The Edge Function processes the request, creates the open chair listing, and potentially sends notifications to matching professionals.\n6.  Success or error messages are displayed using `useToast`.",
    "char_count": 647
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 0,
    "content": "---\nid: 693f2168b1f36ce029eb1ac8\nrevision: 1\n---\n# Open Chair List",
    "char_count": 66
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Open Chair List feature.",
    "char_count": 77
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 3,
    "content": "The Open Chair List page allows users (typically stylists or suite owners) to view and manage the \"open chair\" slots they have posted. It provides a real-time overview of their current and past postings.",
    "char_count": 203
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 4,
    "content": "The page is implemented in the `OpenChairList.tsx` component.",
    "char_count": 61
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 5,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 6,
    "content": "### 2.1. View Open Chair Postings",
    "char_count": 33
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 7,
    "content": "- The page fetches and displays a list of all open chair postings created by the logged-in user.\n- The list is ordered chronologically, with the most recent postings appearing first.\n- A loading animation is displayed while the data is being fetched from the database.\n- If the user has not posted any open chairs, a \"No open chair posts yet.\" message is displayed.",
    "char_count": 365
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 8,
    "content": "### 2.2. Information Displayed",
    "char_count": 30
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 9,
    "content": "For each open chair posting, the following information is displayed in a card format:",
    "char_count": 85
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 10,
    "content": "- **Zip Code & Time Window:** The location and the time slot for the open chair.\n- **Status:** The current status of the posting (e.g., `open`, `filled`, `expired`).\n- **Expiration Date:** The date and time when the posting will expire.",
    "char_count": 236
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 11,
    "content": "### 2.3. Mark as Filled",
    "char_count": 23
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 12,
    "content": "- If a posting has a status of `open`, the user has the option to mark it as \"filled\".\n- Clicking the \"Mark Filled\" button updates the status of the posting in the database to `filled`.\n- This action is useful for manually managing the availability of a chair if it gets filled through a channel outside of the ClientPass system.",
    "char_count": 329
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 13,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 14,
    "content": "The Open Chair List feature interacts with the `open_chairs` table in the Supabase database. The following fields are relevant to this feature:",
    "char_count": 143
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 15,
    "content": "- `id`: A unique identifier for the open chair posting.\n- `user_id`: The ID of the user who created the posting.\n- `zip_code`: The zip code of the location.\n- `time_window`: The time slot for the open chair.\n- `status`: The current status of the posting.\n- `created_at`: The timestamp when the posting was created.\n- `expires_at`: The timestamp when the posting will expire.\n- `service_id`: The ID of the service associated with the open chair.",
    "char_count": 444
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 16,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 17,
    "content": "The user interface consists of:",
    "char_count": 31
  },
  {
    "file_path": "OPEN_CHAIR_LIST",
    "chunk_index": 18,
    "content": "- A header with the application logo.\n- A main content area that displays the list of open chair cards.\n- A bottom navigation bar for navigating to other parts of the application.",
    "char_count": 179
  },
  {
    "file_path": "POST_OPEN_CHAIR",
    "chunk_index": 0,
    "content": "---\nid: 68e2f5c777e8ead370b13cbb\nrevision: 11\n---",
    "char_count": 49
  },
  {
    "file_path": "POST_OPEN_CHAIR",
    "chunk_index": 1,
    "content": "# Post Open Chair",
    "char_count": 17
  },
  {
    "file_path": "POST_OPEN_CHAIR",
    "chunk_index": 2,
    "content": "This document describes the Post Open Chair feature.",
    "char_count": 52
  },
  {
    "file_path": "POST_OPEN_CHAIR",
    "chunk_index": 3,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "POST_OPEN_CHAIR",
    "chunk_index": 4,
    "content": "The Post Open Chair page allows users to post a new open chair. It is implemented in the `PostOpenChairPage.tsx` component, which uses the `PostOpenChairForm` component.",
    "char_count": 169
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266a8c\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 1,
    "content": "# Process Models",
    "char_count": 16
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 2,
    "content": "This document contains diagrams that model the key business processes and entity lifecycles within the ClientPass application.",
    "char_count": 126
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 3,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 4,
    "content": "## 1. Referral Lifecycle State Machine",
    "char_count": 38
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 5,
    "content": "This diagram illustrates the various states a `Referral` can be in, from creation to completion. It models the transitions based on user actions and system events.",
    "char_count": 163
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 6,
    "content": "```mermaid\nstateDiagram-v2\n    direction LR",
    "char_count": 43
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 7,
    "content": "[*] --> pending: Referral Sent",
    "char_count": 34
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 8,
    "content": "pending --> accepted: Pro Accepts\n    pending --> expired: Timer Expires\n    pending --> declined: Pro Declines\n    pending --> cancelled: Sender Cancels",
    "char_count": 157
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 9,
    "content": "expired --> pending: System Reassigns to New Pro\n    declined --> pending: System Reassigns to New Pro",
    "char_count": 106
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 10,
    "content": "accepted --> completed: Service Confirmed by Client\n    accepted --> cancelled: Client or Pro Cancels",
    "char_count": 105
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 11,
    "content": "completed --> [*]: End (Payout Triggered)\n    cancelled --> [*]: End\n```",
    "char_count": 76
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 12,
    "content": "### State Descriptions",
    "char_count": 22
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 13,
    "content": "- **pending**: A referral has been sent to a professional and is awaiting their response within a 10-minute window.\n- **accepted**: A professional has accepted the referral and is expected to contact the client to schedule.\n- **expired**: The 10-minute response timer ran out. The system will attempt to reassign the referral.\n- **declined**: The professional actively declined the referral. The system will attempt to reassign.\n- **cancelled**: The referral was cancelled by the sender, client, or an administrator before the service was completed.\n- **completed**: The client has confirmed the service was rendered, and the payment process is initiated.",
    "char_count": 655
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 14,
    "content": "## 2. Open Chair Lifecycle State Machine",
    "char_count": 40
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 15,
    "content": "This diagram shows the states of an `open_chairs` listing.",
    "char_count": 58
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 16,
    "content": "```mermaid\nstateDiagram-v2\n    direction LR",
    "char_count": 43
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 17,
    "content": "[*] --> open: Host Posts Chair",
    "char_count": 34
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 18,
    "content": "open --> accepted: Pro Accepts\n    open --> cancelled: Host Cancels",
    "char_count": 71
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 19,
    "content": "accepted --> live: Pro Checks In\n    accepted --> cancelled: Pro or Host Cancels",
    "char_count": 84
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 20,
    "content": "live --> completed: Session Ends\n    live --> cancelled: Session Cancelled",
    "char_count": 78
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 21,
    "content": "completed --> [*]: End\n    cancelled --> [*]: End\n```",
    "char_count": 57
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 22,
    "content": "### State Descriptions",
    "char_count": 22
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 23,
    "content": "-   **open**: The chair is listed and available for booking.\n-   **accepted**: A Pro has accepted the open chair offer but has not yet started the session.\n-   **live**: The Pro has checked in, and the session is in progress.\n-   **completed**: The session has ended, and commissions are settled.\n-   **cancelled**: The listing was cancelled by the host or the pro.",
    "char_count": 365
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 24,
    "content": "## 3. Hot Seat Lifecycle State Machine",
    "char_count": 38
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 25,
    "content": "This diagram shows the states of a `hot_seats` offer.",
    "char_count": 53
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 26,
    "content": "```mermaid\nstateDiagram-v2\n    direction LR",
    "char_count": 43
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 27,
    "content": "[*] --> posted: Pro Posts Hot Seat",
    "char_count": 38
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 28,
    "content": "posted --> claimed: Client Claims\n    posted --> expired: Timer Expires\n    posted --> cancelled: Pro Cancels",
    "char_count": 113
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 29,
    "content": "claimed --> completed: Service Completed\n    claimed --> cancelled: Client or Pro Cancels",
    "char_count": 93
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 30,
    "content": "completed --> [*]: End\n    expired --> [*]: End\n    cancelled --> [*]: End\n```",
    "char_count": 82
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 31,
    "content": "### State Descriptions",
    "char_count": 22
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 32,
    "content": "-   **posted**: The hot seat is available for clients to claim.\n-   **claimed**: A client has claimed the hot seat.\n-   **expired**: The offer has expired without being claimed.\n-   **completed**: The service has been completed and paid for.\n-   **cancelled**: The hot seat was cancelled by the pro or the client.",
    "char_count": 313
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 33,
    "content": "## 4. User Onboarding Flow",
    "char_count": 26
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 34,
    "content": "This sequence diagram shows the steps for a new user to get fully set up on the platform.",
    "char_count": 89
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 35,
    "content": "```mermaid\nsequenceDiagram\n    participant User\n    participant Frontend\n    participant Supabase",
    "char_count": 97
  },
  {
    "file_path": "PROCESS_MODELS",
    "chunk_index": 36,
    "content": "User->>Frontend: Submits Sign Up Form\n    Frontend->>Supabase: supabase.auth.signUp()\n    Supabase->>User: Sends verification email\n    User->>User: Clicks verification link in email\n    Supabase->>Frontend: Verifies token and authenticates user\n    Frontend->>User: Redirects to Profile Setup page\n    User->>Frontend: Fills out profile information (name, role, etc.)\n    Frontend->>Supabase: Invokes `upsert-profile` Edge Function\n    Supabase->>Supabase: Creates a new record in `users` table\n    Supabase-->>Frontend: Returns success\n    Frontend->>User: Redirects to the main dashboard\n```",
    "char_count": 598
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 0,
    "content": "---\nid: 693f216845f07f215cae9bc7\nrevision: 1\n---\n# Pro Hub Page Component Documentation",
    "char_count": 87
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 2,
    "content": "The Pro Hub Page (`ProHubPage.tsx`) is a critical component that handles professional advertising functionality within the Style Referral Ring application. This component has undergone significant improvements in December 2025.",
    "char_count": 227
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 3,
    "content": "## Recent Updates (December 2025)",
    "char_count": 33
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 4,
    "content": "### Commit 852825d: Fix Pro Hub ad click flow",
    "char_count": 45
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 5,
    "content": "**Date:** December 14, 2025  \n**Type:** Bug Fix / Enhancement",
    "char_count": 61
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 6,
    "content": "**Changes Made:**",
    "char_count": 17
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 7,
    "content": "- Fixed Pro Hub ad click flow functionality\n- Improved user interaction with advertising elements\n- Enhanced click handling and navigation",
    "char_count": 138
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 8,
    "content": "**Impact:**",
    "char_count": 11
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 9,
    "content": "- Users can now properly interact with Pro Hub advertisements\n- Improved conversion rates for professional advertising\n- Better user experience when browsing professional services",
    "char_count": 179
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 10,
    "content": "### Commit 3640738: Improve Pro Hub ads page",
    "char_count": 44
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 11,
    "content": "**Date:** December 14, 2025  \n**Type:** Enhancement",
    "char_count": 51
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 12,
    "content": "**Changes Made:**",
    "char_count": 17
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 13,
    "content": "- Enhanced Pro Hub advertising functionality\n- Improved advertisement display and interaction\n- Optimized advertising workflow",
    "char_count": 126
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 14,
    "content": "**Impact:**",
    "char_count": 11
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 15,
    "content": "- More effective professional advertising platform\n- Enhanced visibility for professional service providers\n- Improved monetization opportunities",
    "char_count": 145
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 16,
    "content": "## Component Architecture",
    "char_count": 25
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 17,
    "content": "### File Location",
    "char_count": 17
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 18,
    "content": "```\nsrc/components/pages/ProHubPage.tsx\n```",
    "char_count": 43
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 19,
    "content": "### Component Classification",
    "char_count": 28
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 20,
    "content": "- **Type:** Page Component\n- **Category:** Professional Services\n- **User-Facing:** Yes\n- **Feature Impact:** High",
    "char_count": 114
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 21,
    "content": "### Functionality",
    "char_count": 17
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 22,
    "content": "The ProHubPage component manages:",
    "char_count": 33
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 23,
    "content": "1. **Advertisement Display**",
    "char_count": 28
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 24,
    "content": "- Professional service advertisements\n   - Sponsored content placement\n   - Featured professional listings",
    "char_count": 109
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 25,
    "content": "2. **User Interactions**",
    "char_count": 24
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 26,
    "content": "- Click handling for advertisements\n   - Navigation to professional profiles\n   - Engagement tracking",
    "char_count": 104
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 27,
    "content": "3. **Professional Features**\n   - Premium placement options\n   - Professional profile integration\n   - Boost system integration",
    "char_count": 127
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 28,
    "content": "## Technical Details",
    "char_count": 20
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 29,
    "content": "### Dependencies",
    "char_count": 16
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 30,
    "content": "- React component architecture\n- Professional service data models\n- Advertisement management system\n- User interaction tracking",
    "char_count": 127
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 31,
    "content": "### Integration Points",
    "char_count": 22
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 32,
    "content": "- Professional network system\n- Boost functionality system\n- User profile management\n- Analytics and tracking",
    "char_count": 109
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 33,
    "content": "## Usage Patterns",
    "char_count": 17
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 34,
    "content": "### Primary Use Cases",
    "char_count": 21
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 35,
    "content": "1. **Professional Discovery**: Users browse available professional services\n2. **Advertisement Interaction**: Users click on and engage with professional ads\n3. **Service Booking**: Users initiate contact with professionals through advertisements",
    "char_count": 246
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 36,
    "content": "### User Experience Flow",
    "char_count": 24
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 37,
    "content": "```\nUser visits Pro Hub → Views advertisements → Clicks on ad → Navigates to professional profile → Initiates service booking\n```",
    "char_count": 129
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 38,
    "content": "## Future Enhancements",
    "char_count": 22
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 39,
    "content": "Based on the recent improvements, potential future enhancements include:",
    "char_count": 72
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 40,
    "content": "1. **Enhanced Analytics**: Deeper tracking of advertisement performance\n2. **Personalization**: AI-powered advertisement recommendations\n3. **Advanced Filtering**: Better search and filter options for professional services\n4. **Real-time Updates**: Live advertisement placement and updates",
    "char_count": 289
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 41,
    "content": "## Related Components",
    "char_count": 21
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 42,
    "content": "- `BoostProfile.tsx` - Professional boost functionality\n- Professional network components\n- Advertisement management system\n- User profile components",
    "char_count": 149
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 43,
    "content": "## Maintenance Notes",
    "char_count": 20
  },
  {
    "file_path": "PROHUB_PAGE_COMPONENT",
    "chunk_index": 44,
    "content": "- Component receives regular updates for advertising improvements\n- High priority for user experience optimization\n- Critical for platform monetization\n- Requires ongoing A/B testing for optimal performance",
    "char_count": 207
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 0,
    "content": "---\nid: 693f2168c579c53fdf337edc\nrevision: 1\n---\n# Pro Dashboard",
    "char_count": 64
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Pro Dashboard, the central hub for professional users (stylists, barbers) to manage their business on ClientPass.",
    "char_count": 166
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 3,
    "content": "The Pro Dashboard is designed to provide a comprehensive set of tools and information for professional users. It acts as a central navigation point, allowing stylists to access various functionalities related to client management, referrals, scheduling, earnings, and profile settings.",
    "char_count": 285
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 4,
    "content": "The dashboard is implemented in the `Dashboard.tsx` component, which dynamically renders different sub-pages based on the active tab selected by the user.",
    "char_count": 154
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 5,
    "content": "## 2. Key Features and Navigation",
    "char_count": 33
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 6,
    "content": "The Pro Dashboard is organized into several key sections, accessible via a bottom navigation bar and a settings icon in the header.",
    "char_count": 131
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 7,
    "content": "### 2.1. Home (HomePage.tsx)",
    "char_count": 28
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 8,
    "content": "-   **Summary of Activity:** Provides a quick overview of the day's key metrics, such as recent earnings, pending referrals, and upcoming appointments.\n-   **Quick Actions:** Offers direct access to frequently used actions like sending a referral or posting an open chair.\n-   **Dynamic Content:** This page likely integrates various cards or widgets that summarize information from other sections (e.g., a mini-view of referral timers, open chair status).",
    "char_count": 456
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 9,
    "content": "### 2.2. Schedule (SchedulePage.tsx)",
    "char_count": 36
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 10,
    "content": "-   **Calendar View:** Displays a calendar view of all upcoming and past appointments.\n-   **Appointment Management:** Allows stylists to view appointment details, confirm, reschedule, or cancel appointments.\n-   **Availability Management:** Provides tools for stylists to set and manage their availability.",
    "char_count": 307
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 11,
    "content": "### 2.3. Earnings (EarningsPage.tsx)",
    "char_count": 36
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 12,
    "content": "-   **Detailed Breakdown:** Offers a comprehensive breakdown of earnings from various sources, including services, referrals, and product sales.\n-   **Payment Tracking:** Allows stylists to track their pending, available, and paid out earnings.\n-   **Reporting:** Provides basic reporting features to analyze income over time.",
    "char_count": 326
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 13,
    "content": "### 2.4. Pro Hub (ProHubPage.tsx)",
    "char_count": 33
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 14,
    "content": "-   **Exclusive Resources:** A dedicated section for professional users to discover exclusive deals, educational resources, and industry news.\n-   **Community Access:** May include links to professional forums or communities.",
    "char_count": 225
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 15,
    "content": "### 2.5. Inbox (InboxPage.tsx)",
    "char_count": 30
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 16,
    "content": "-   **Notification Center:** A centralized inbox for all notifications, including new referral requests, appointment confirmations, payment updates, and system alerts.\n-   **Message Management:** Allows users to view, manage, and respond to messages.",
    "char_count": 250
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 17,
    "content": "### 2.6. Settings (SettingsPage.tsx)",
    "char_count": 36
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 18,
    "content": "-   **Profile Management:** Comprehensive settings for managing the stylist's profile, including personal information, contact details, and photo.\n-   **Service Configuration:** Tools to add, edit, and delete services offered, along with pricing and duration.\n-   **Commission Settings:** Configuration for referral and open chair commission rates.\n-   **Account Settings:** General account management options, such as password changes and notification preferences.",
    "char_count": 465
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 19,
    "content": "## 3. User Interface",
    "char_count": 20
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 20,
    "content": "The Pro Dashboard features a clean and intuitive user interface:",
    "char_count": 64
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 21,
    "content": "-   **Header:** Contains the ClientPass logo and a quick-access settings icon.\n-   **Main Content Area:** Dynamically displays the content of the selected sub-page.\n-   **Bottom Navigation:** Provides easy access to the main sections of the dashboard (Home, Schedule, Earnings, Pro Hub, Inbox).",
    "char_count": 294
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 22,
    "content": "## 4. Benefits",
    "char_count": 14
  },
  {
    "file_path": "PRO_DASHBOARD",
    "chunk_index": 23,
    "content": "-   **Centralized Management:** All essential tools and information are accessible from a single, intuitive interface.\n-   **Increased Efficiency:** Streamlines daily operations, saving stylists time and effort.\n-   **Enhanced Earnings:** Provides tools and insights to help stylists maximize their income.\n-   **Improved Client Experience:** Facilitates better client management and communication.",
    "char_count": 398
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266a8e\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 1,
    "content": "# Quality Assurance (QA) Plan",
    "char_count": 29
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 2,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 3,
    "content": "### 1.1 Purpose",
    "char_count": 15
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 4,
    "content": "This document outlines the Quality Assurance (QA) strategy for the ClientPass application. Its purpose is to define the scope of testing, methodologies, resources, and schedule to ensure the final product is reliable, functional, and meets the requirements specified in the Software Requirements Specification (SRS).",
    "char_count": 316
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 5,
    "content": "### 1.2 Scope",
    "char_count": 13
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 6,
    "content": "This QA plan covers all aspects of the ClientPass web application, including:\n- **Functional Testing**: Verifying all features work as designed.\n- **UI/UX & Usability Testing**: Ensuring the application is intuitive and easy to use.\n- **Performance Testing**: Checking for responsiveness and speed, especially in real-time features.\n- **Security Testing**: Validating data protection and access control.",
    "char_count": 403
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 7,
    "content": "## 2. Testing Strategy",
    "char_count": 22
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 8,
    "content": "### 2.1 Levels of Testing",
    "char_count": 25
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 9,
    "content": "1.  **Unit Testing**: Developers are responsible for writing unit tests for individual components, utility functions, and Supabase Edge Functions. The goal is to ensure each isolated part works correctly.\n    - *Tools*: Jest, React Testing Library.",
    "char_count": 248
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 10,
    "content": "2.  **Integration Testing**: This phase focuses on testing the interactions between different parts of the application, such as:\n    - Frontend components interacting with React Contexts.\n    - Client-side forms submitting data to Supabase Edge Functions.\n    - Interactions between different Edge Functions.",
    "char_count": 308
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 11,
    "content": "3.  **System (End-to-End) Testing**: E2E tests will simulate full user journeys to validate complete workflows from the user's perspective.\n    - *Tools*: Cypress or Playwright.",
    "char_count": 177
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 12,
    "content": "4.  **User Acceptance Testing (UAT)**: A final phase where stakeholders or a sample group of target users (stylists, suite owners) test the application to confirm it meets their business needs.",
    "char_count": 193
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 13,
    "content": "### 2.2 Types of Testing",
    "char_count": 24
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 14,
    "content": "- **Functional Testing**: Validating the specific requirements outlined in the SRS.\n- **Usability Testing**: Ensuring the application is user-friendly, especially on mobile devices.\n- **Compatibility Testing**: Verifying the application works correctly on major web browsers (Chrome, Firefox, Safari).\n- **Security Testing**: Includes checks for proper data access control via Supabase RLS and secure handling of authentication tokens.",
    "char_count": 435
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 15,
    "content": "## 3. Test Environment",
    "char_count": 22
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 16,
    "content": "- **Local Development**: Developers will run tests locally using `npm run dev` and `npm run test`.\n- **Staging Environment**: A dedicated Supabase project and Vercel/Netlify deployment will be used for pre-production testing to mirror the production environment as closely as possible.",
    "char_count": 285
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 17,
    "content": "## 4. Test Scenarios",
    "char_count": 20
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 18,
    "content": "This section outlines high-level test cases for the core features of ClientPass.",
    "char_count": 80
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 19,
    "content": "### 4.1 User Authentication & Roles\n- **TC-AUTH-01**: Verify a new user can sign up as a \"Stylist\" and log in.\n- **TC-AUTH-02**: Verify a new user can sign up as a \"Suite Owner\" and sees the Suite Tools on their dashboard.\n- **TC-AUTH-03**: Verify a user signing up via the `/affiliate-auth` route is created as an affiliate and sees the affiliate dashboard.\n- **TC-AUTH-04**: Verify that a non-admin user cannot access admin-only pages or data.",
    "char_count": 445
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 20,
    "content": "### 4.2 Referral Workflow\n- **TC-REF-01**: A Pro sends a referral. Verify the receiving Pro gets a notification with a 10-minute countdown timer.\n- **TC-REF-02**: A receiver accepts a referral within 10 minutes. Verify the referral status updates to `accepted` and the sender is notified.\n- **TC-REF-03**: A receiver declines a referral. Verify the system reassigns it to the next available Pro.\n- **TC-REF-04**: A referral timer expires. Verify the system automatically reassigns it.\n- **TC-REF-05**: After a service is marked `completed`, verify the commission is calculated correctly based on the service price and commission percentage.",
    "char_count": 640
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 21,
    "content": "### 4.3 Open Chair & Live Sessions\n- **TC-OC-01**: A Host posts an Open Chair. Verify the listing is visible to other Pros in the correct audience group ('trusted' or 'all').\n- **TC-OC-02**: A Pro accepts an Open Chair. Verify the host is notified and the chair's status becomes `accepted`.\n- **TC-OC-03**: The accepting Pro checks in. Verify the session status changes to `live` and the Live Session Card appears on their dashboard.\n- **TC-OC-04**: During a live session, log a service with a manual payment. Verify the host's commission is calculated correctly, accounting for the manual payment surcharge.\n- **TC-OC-05**: End a session. Verify all earnings are settled and the session is marked `completed`.",
    "char_count": 710
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 22,
    "content": "### 4.4 Commissions & Fees\n- **TC-FEE-01**: Test with a service price < $100. Verify the platform fee is $3 for Free members and $2 for Pro members.\n- **TC-FEE-02**: Test with a service price >= $100. Verify the platform fee is $5 for Free members and $3 for Pro members.\n- **TC-FEE-03**: Test an Open Chair booking with an outside referrer. Verify the referrer earns 10% of the service price, and this amount is deducted from the host's share, not the stylist's earnings.",
    "char_count": 472
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 23,
    "content": "### 4.5 Profile & Network\n- **TC-NET-01**: Add a user to the Trusted Network. Verify they appear in the list.\n- **TC-NET-02**: Send a referral with the \"Trusted Network first\" option. Verify the referral is only sent to trusted partners initially.\n- **TC-NET-03**: Simulate two completed co-ops between users. Verify the system prompts to add the other user to the Trusted Network.",
    "char_count": 381
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 24,
    "content": "### 4.6 Admin Console\n- **TC-ADMIN-01**: Log in as an admin. Verify the Master Admin Console is visible and all modules are accessible.\n- **TC-ADMIN-02**: Log in as a non-admin user. Verify that navigating to `/admin` redirects to the main dashboard and shows an \"Access Denied\" error.\n- **TC-ADMIN-03**: In the User Management module, change a user's role from 'member' to 'admin'. Verify the user can now access the admin console.\n- **TC-ADMIN-04**: In the Feature Flags module, disable a feature (e.g., \"Hot Seat\"). Verify the Hot Seat button/form is no longer visible to regular users.\n- **TC-ADMIN-05**: In the Platform Settings module, change the platform fee percentage. Verify that new referrals use the updated fee in their commission calculations.\n- **TC-ADMIN-06**: In the Data Export module, export the 'users' dataset. Verify a CSV file is downloaded with the correct user data.\n- **TC-ADMIN-07**: Perform an administrative action (e.g., approve a business application). Verify the action is recorded correctly in the Audit Log module.\n- **TC-ADMIN-08**: Use the impersonation feature to view the app as a regular user. Verify the admin banner is present and that admin-level access is disabled during impersonation.",
    "char_count": 1229
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 25,
    "content": "## 5. Bug Reporting",
    "char_count": 19
  },
  {
    "file_path": "QA_PLAN",
    "chunk_index": 26,
    "content": "- All bugs will be tracked in a designated issue tracker (e.g., GitHub Issues).\n- Each bug report must include:\n  - A clear, descriptive title.\n  - Steps to reproduce the bug.\n  - Expected result vs. Actual result.\n  - Screenshots or video recordings.\n  - Severity level (e.g., Blocker, Critical, Major, Minor).",
    "char_count": 312
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 0,
    "content": "---\nid: 693f216841a4777eb6625ce1\nrevision: 1\n---\n# Quick Rebook System",
    "char_count": 70
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 2,
    "content": "The Quick Rebook system provides a streamlined interface for clients to rebook appointments with their favorite professionals. It simplifies the rebooking process by pre-filling information from previous appointments and offering intelligent suggestions.",
    "char_count": 254
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 3,
    "content": "## Key Components",
    "char_count": 17
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 4,
    "content": "### QuickRebook Component",
    "char_count": 25
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 5,
    "content": "**Location**: `src/components/booking/QuickRebook.tsx`",
    "char_count": 54
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 6,
    "content": "The QuickRebook component is a user-friendly interface that enables rapid rebooking of services.",
    "char_count": 96
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 7,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 8,
    "content": "- **One-Click Rebooking**: Quickly rebook with the same professional\n- **Service History**: View past appointments and services\n- **Smart Suggestions**: AI-powered recommendations based on booking patterns\n- **Flexible Scheduling**: Easy date/time selection\n- **Service Modifications**: Ability to adjust services if needed",
    "char_count": 323
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 9,
    "content": "### BookDrawer Component",
    "char_count": 24
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 10,
    "content": "**Location**: `src/components/pro/booking/BookDrawer.tsx`",
    "char_count": 57
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 11,
    "content": "A comprehensive booking drawer interface for professionals to manage incoming bookings and scheduling.",
    "char_count": 102
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 12,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 13,
    "content": "- **Booking Management**: Accept, decline, or reschedule booking requests\n- **Calendar Integration**: View availability and existing appointments\n- **Client Information**: Access client history and preferences\n- **Service Details**: Review requested services and estimated duration\n- **Quick Actions**: Rapid response to booking requests",
    "char_count": 337
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 14,
    "content": "### Enhanced RebookForm Component",
    "char_count": 33
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 15,
    "content": "**Location**: `src/components/booking/RebookForm.tsx`",
    "char_count": 53
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 16,
    "content": "An improved version of the rebooking form with better UX and functionality.",
    "char_count": 75
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 17,
    "content": "**Improvements**:",
    "char_count": 17
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 18,
    "content": "- Cleaner interface design\n- Better error handling and validation\n- Integration with service catalog\n- Real-time availability checking\n- Automatic price calculations",
    "char_count": 165
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 19,
    "content": "## User Workflows",
    "char_count": 17
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 20,
    "content": "### Client: Rebooking a Previous Appointment",
    "char_count": 44
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 21,
    "content": "1. Navigate to booking history or dashboard\n2. Find the appointment to rebook\n3. Click \"Rebook\" button\n4. QuickRebook interface opens with pre-filled information:\n   - Same professional\n   - Same services\n   - Previous location/venue\n5. Select new date and time\n6. Confirm booking",
    "char_count": 280
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 22,
    "content": "### Pro: Managing Rebook Requests",
    "char_count": 33
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 23,
    "content": "1. Receive notification of rebook request\n2. BookDrawer opens with request details\n3. Review:\n   - Client information\n   - Requested services\n   - Proposed date/time\n4. Check availability on calendar\n5. Accept, decline, or propose alternative time\n6. Booking is confirmed or client is notified",
    "char_count": 293
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 24,
    "content": "### Client: Quick Rebook with Modifications",
    "char_count": 43
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 25,
    "content": "1. Start with Quick Rebook\n2. Pre-filled information displayed\n3. Modify services:\n   - Add additional services\n   - Remove services\n   - Adjust service details\n4. Select new date/time\n5. Review updated pricing\n6. Confirm booking",
    "char_count": 229
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 26,
    "content": "## Technical Implementation",
    "char_count": 27
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 27,
    "content": "### State Management",
    "char_count": 20
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 28,
    "content": "The Quick Rebook system uses React hooks for state management:",
    "char_count": 62
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 29,
    "content": "```typescript\n- useQuery: Fetch past appointments\n- useMutation: Submit rebook requests\n- useState: Local form state\n- useEffect: Handle side effects and data synchronization\n```",
    "char_count": 178
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 30,
    "content": "### Data Flow",
    "char_count": 13
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 31,
    "content": "1. **Fetch History**: Retrieve client's past appointments\n2. **Select Appointment**: User selects appointment to rebook\n3. **Pre-fill Form**: Populate form with historical data\n4. **Validate**: Check service availability and professional schedule\n5. **Submit Request**: Create new booking based on rebook data\n6. **Notify**: Alert professional of new booking request",
    "char_count": 366
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 32,
    "content": "### Integration with Service Catalog",
    "char_count": 36
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 33,
    "content": "The Quick Rebook system integrates with the service catalog to:",
    "char_count": 63
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 34,
    "content": "- Validate that services are still offered\n- Get current pricing information\n- Check service duration estimates\n- Suggest related services",
    "char_count": 138
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 35,
    "content": "## Benefits",
    "char_count": 11
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 36,
    "content": "1. **Convenience**: Faster rebooking process for returning clients\n2. **Retention**: Encourages repeat business\n3. **Efficiency**: Reduces data entry for both clients and pros\n4. **Accuracy**: Pre-filled data reduces booking errors\n5. **Revenue**: Increases booking conversion rates",
    "char_count": 282
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 37,
    "content": "## BookDrawer Features",
    "char_count": 22
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 38,
    "content": "### Calendar View",
    "char_count": 17
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 39,
    "content": "- Visual representation of available time slots\n- Blocked times for unavailability\n- Existing appointments displayed\n- Drag-and-drop rescheduling",
    "char_count": 145
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 40,
    "content": "### Client Profile Quick View",
    "char_count": 29
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 41,
    "content": "- Client name and contact information\n- Booking history with this pro\n- Service preferences\n- Notes from previous appointments\n- Average rating/feedback",
    "char_count": 152
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 42,
    "content": "### Action Buttons",
    "char_count": 18
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 43,
    "content": "- **Accept**: Confirm the booking immediately\n- **Decline**: Reject with optional reason\n- **Reschedule**: Propose alternative times\n- **Message**: Communicate directly with client\n- **Block Time**: Mark time as unavailable",
    "char_count": 223
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 44,
    "content": "### Notifications",
    "char_count": 17
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 45,
    "content": "- Real-time updates when booking status changes\n- Push notifications for new rebook requests\n- Email confirmations for accepted bookings\n- SMS reminders for upcoming appointments",
    "char_count": 178
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 46,
    "content": "## Performance Considerations",
    "char_count": 29
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 47,
    "content": "### Optimization Strategies",
    "char_count": 27
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 48,
    "content": "1. **Lazy Loading**: Load booking history on demand\n2. **Caching**: Cache frequently accessed appointment data\n3. **Debouncing**: Delay availability checks during time selection\n4. **Prefetching**: Load related data in background\n5. **Error Boundaries**: Graceful error handling",
    "char_count": 278
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 49,
    "content": "### Mobile Responsiveness",
    "char_count": 25
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 50,
    "content": "- Touch-optimized interface\n- Swipe gestures for actions\n- Simplified mobile layout\n- Offline capability for viewing history",
    "char_count": 124
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 51,
    "content": "## Analytics and Tracking",
    "char_count": 25
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 52,
    "content": "### Metrics Tracked",
    "char_count": 19
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 53,
    "content": "- Rebook conversion rate\n- Time from original appointment to rebook\n- Most frequently rebooked services\n- Average modifications per rebook\n- Professional response time to rebook requests",
    "char_count": 186
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 54,
    "content": "### Insights Generated",
    "char_count": 22
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 55,
    "content": "- Client retention patterns\n- Popular rebook timeframes\n- Service bundling opportunities\n- Professional availability optimization",
    "char_count": 129
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 56,
    "content": "## Future Enhancements",
    "char_count": 22
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 57,
    "content": "1. **Subscription Rebooking**: Automatic recurring appointments\n2. **Group Rebooking**: Rebook for multiple people simultaneously\n3. **Smart Scheduling**: AI-suggested optimal booking times\n4. **Loyalty Integration**: Rewards for frequent rebooking\n5. **Package Deals**: Special pricing for rebooked service packages",
    "char_count": 316
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 58,
    "content": "## Related Documentation",
    "char_count": 24
  },
  {
    "file_path": "QUICK_REBOOK",
    "chunk_index": 59,
    "content": "- [Client Booking Flow](CLIENT_BOOKING_FLOW.md)\n- [Pro Dashboard](PRO_DASHBOARD.md)\n- [Service Selection](SERVICE_SELECTION.md)\n- [Referral System](CLIENT_REFERRAL.md)",
    "char_count": 168
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 0,
    "content": "---\nid: 693f216875b882f05f1f7d76\nrevision: 1\n---\n# REAL SOURCE CHANGES TEST - Nov 8th Updates",
    "char_count": 93
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 1,
    "content": "Created: 2025-12-14 01:53:30",
    "char_count": 28
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 2,
    "content": "**PROCESSING REAL CHANGES FROM SOURCE REPOSITORY**",
    "char_count": 50
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 3,
    "content": "This trigger processes the actual 5 commits that occurred since November 8th, 2025:",
    "char_count": 83
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 4,
    "content": "## Commits Being Processed:",
    "char_count": 27
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 5,
    "content": "1. **852825d** - Fix Pro Hub ad click flow (ProHubPage.tsx)\n2. **65e82da** - Changes (HomePage.tsx, InboxPage.tsx)\n3. **3640738** - Improve Pro Hub ads page (ProHubPage.tsx)\n4. **e377dae** - Changes (BoostProfile.tsx)\n5. **fba68cf** - Fix inbox notifications display (InboxPage.tsx)",
    "char_count": 282
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 6,
    "content": "## Expected Automation Flow:",
    "char_count": 28
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 7,
    "content": "- ✅ ChangeDetection processes this file\n- ✅ Finds TRIGGER_SOURCE_PROCESSING with real commit data\n- ✅ Extracts 5 real commits with metadata\n- ✅ Sends to DocumentManagement for processing\n- ✅ Updates documentation to reflect recent changes\n- ✅ Synchronizes RAG system with new content",
    "char_count": 283
  },
  {
    "file_path": "REAL_SOURCE_CHANGES_NOV8",
    "chunk_index": 8,
    "content": "**This completes the missing documentation gap since Nov 8th!**",
    "char_count": 64
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 0,
    "content": "---\nid: 693f216853693b21a30d6a22\nrevision: 1\n---\n# Recent Updates - December 2025",
    "char_count": 81
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 1,
    "content": "## Source Repository Changes (Post Nov 8, 2025)",
    "char_count": 47
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 2,
    "content": "**Processing Date:** December 14, 2025  \n**Commits Processed:** 5  \n**Processing Method:** LangGraph Intelligence with AI Analysis  \n**Source Repository:** style-referral-ring",
    "char_count": 175
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 3,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 4,
    "content": "## Commit 852825d: Fix Pro Hub ad click flow",
    "char_count": 44
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 5,
    "content": "**Date:** 2025-12-14 07:12:00 UTC  \n**Impact:** Fixed Pro Hub ad click functionality  \n**Components:** Page Components",
    "char_count": 118
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 6,
    "content": "### Files Modified",
    "char_count": 18
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 7,
    "content": "- `src/components/pages/ProHubPage.tsx`",
    "char_count": 39
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 8,
    "content": "### Impact Analysis",
    "char_count": 19
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 9,
    "content": "This commit affects the following areas:",
    "char_count": 40
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 10,
    "content": "- **Page Components**: Enhanced functionality and user experience",
    "char_count": 65
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 11,
    "content": "### Technical Details",
    "char_count": 21
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 12,
    "content": "- Repository: /Users/rhfluker/Projects/style-referral-ring\n- Processing Date: 2025-12-14T07:12:00.422507\n- File Count: 1\n- **User Facing**: ✅ Yes\n- **Feature Changes**: ✅ Yes",
    "char_count": 174
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 13,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 14,
    "content": "## Commit 65e82da: Changes",
    "char_count": 26
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 15,
    "content": "**Date:** 2025-12-14 07:12:00 UTC  \n**Impact:** Updates to Home and Inbox pages  \n**Components:** Page Components",
    "char_count": 113
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 16,
    "content": "### Files Modified",
    "char_count": 18
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 17,
    "content": "- `src/components/pages/HomePage.tsx`\n- `src/components/pages/InboxPage.tsx`",
    "char_count": 76
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 18,
    "content": "### Impact Analysis",
    "char_count": 19
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 19,
    "content": "This commit affects the following areas:",
    "char_count": 40
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 20,
    "content": "- **Page Components**: Enhanced functionality and user experience",
    "char_count": 65
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 21,
    "content": "### Technical Details",
    "char_count": 21
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 22,
    "content": "- Repository: /Users/rhfluker/Projects/style-referral-ring\n- Processing Date: 2025-12-14T07:12:00.422528\n- File Count: 2\n- **User Facing**: ✅ Yes\n- **Feature Changes**: ✅ Yes",
    "char_count": 174
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 23,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 24,
    "content": "## Commit 3640738: Improve Pro Hub ads page",
    "char_count": 43
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 25,
    "content": "**Date:** 2025-12-14 07:12:00 UTC  \n**Impact:** Enhanced Pro Hub advertising functionality  \n**Components:** Page Components",
    "char_count": 124
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 26,
    "content": "### Files Modified",
    "char_count": 18
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 27,
    "content": "- `src/components/pages/ProHubPage.tsx`",
    "char_count": 39
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 28,
    "content": "### Impact Analysis",
    "char_count": 19
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 29,
    "content": "This commit affects the following areas:",
    "char_count": 40
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 30,
    "content": "- **Page Components**: Enhanced functionality and user experience",
    "char_count": 65
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 31,
    "content": "### Technical Details",
    "char_count": 21
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 32,
    "content": "- Repository: /Users/rhfluker/Projects/style-referral-ring\n- Processing Date: 2025-12-14T07:12:00.422541\n- File Count: 1\n- **User Facing**: ✅ Yes\n- **Feature Changes**: ✅ Yes",
    "char_count": 174
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 33,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 34,
    "content": "## Commit e377dae: Changes",
    "char_count": 26
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 35,
    "content": "**Date:** 2025-12-14 07:12:00 UTC  \n**Impact:** BoostProfile component improvements  \n**Components:** Boost Features",
    "char_count": 116
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 36,
    "content": "### Files Modified",
    "char_count": 18
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 37,
    "content": "- `src/components/boost/BoostProfile.tsx`",
    "char_count": 41
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 38,
    "content": "### Impact Analysis",
    "char_count": 19
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 39,
    "content": "This commit affects the following areas:",
    "char_count": 40
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 40,
    "content": "- **Boost Features**: Enhanced functionality and user experience",
    "char_count": 64
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 41,
    "content": "### Technical Details",
    "char_count": 21
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 42,
    "content": "- Repository: /Users/rhfluker/Projects/style-referral-ring\n- Processing Date: 2025-12-14T07:12:00.422551\n- File Count: 1\n- **User Facing**: ✅ Yes\n- **Feature Changes**: ✅ Yes",
    "char_count": 174
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 43,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 44,
    "content": "## Commit fba68cf: Fix inbox notifications display",
    "char_count": 50
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 45,
    "content": "**Date:** 2025-12-14 07:12:00 UTC  \n**Impact:** Resolved inbox notification display issues  \n**Components:** Page Components",
    "char_count": 124
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 46,
    "content": "### Files Modified",
    "char_count": 18
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 47,
    "content": "- `src/components/pages/InboxPage.tsx`",
    "char_count": 38
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 48,
    "content": "### Impact Analysis",
    "char_count": 19
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 49,
    "content": "This commit affects the following areas:",
    "char_count": 40
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 50,
    "content": "- **Page Components**: Enhanced functionality and user experience",
    "char_count": 65
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 51,
    "content": "### Technical Details",
    "char_count": 21
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 52,
    "content": "- Repository: /Users/rhfluker/Projects/style-referral-ring\n- Processing Date: 2025-12-14T07:12:00.422561\n- File Count: 1\n- **User Facing**: ✅ Yes\n- **Feature Changes**: ✅ Yes",
    "char_count": 174
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 53,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 54,
    "content": "## Summary",
    "char_count": 10
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 55,
    "content": "**Total Commits:** 5  \n**Components Affected:**",
    "char_count": 47
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 56,
    "content": "- **Page Components** (4 commits): ProHubPage, HomePage, InboxPage\n- **Boost Features** (1 commit): BoostProfile",
    "char_count": 112
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 57,
    "content": "**Impact Analysis:**",
    "char_count": 20
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 58,
    "content": "- All 5 commits are user-facing changes\n- All 5 commits include feature improvements\n- No backend-only or infrastructure changes\n- Focus on UI/UX enhancements",
    "char_count": 158
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 59,
    "content": "**Files Modified:**",
    "char_count": 19
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 60,
    "content": "- `src/components/pages/ProHubPage.tsx` (2 commits)\n- `src/components/pages/HomePage.tsx` (1 commit)\n- `src/components/pages/InboxPage.tsx` (2 commits)\n- `src/components/boost/BoostProfile.tsx` (1 commit)",
    "char_count": 204
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 61,
    "content": "**Processing Metadata:**",
    "char_count": 24
  },
  {
    "file_path": "RECENT_UPDATES_DEC_2025",
    "chunk_index": 62,
    "content": "- Automated processing via LangGraph intelligence\n- AI-powered component classification\n- Comprehensive impact analysis\n- RAG system integration ready",
    "char_count": 151
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 0,
    "content": "---\nid: 693f21688d02cc87926da419\nrevision: 1\n---\n# Referral Adjustment System",
    "char_count": 77
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 2,
    "content": "The Referral Adjustment System provides a comprehensive framework for modifying referral details after they've been created, including service changes, pricing adjustments, and duration modifications. It includes automated validation and confirmation workflows to ensure accuracy and fairness.",
    "char_count": 293
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 3,
    "content": "## Key Components",
    "char_count": 17
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 4,
    "content": "### AdjustReferralModal Component",
    "char_count": 33
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 5,
    "content": "**Location**: `src/components/referrals/AdjustReferralModal.tsx`",
    "char_count": 64
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 6,
    "content": "A modal interface for adjusting referral details with comprehensive validation and calculation features.",
    "char_count": 104
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 7,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 8,
    "content": "- **Service Modification**: Change or add services to existing referrals\n- **Price Adjustment**: Modify service pricing with justification\n- **Duration Updates**: Adjust estimated service duration\n- **Validation Logic**: Ensure adjustments are within acceptable ranges\n- **Approval Workflow**: Route significant changes for approval\n- **Audit Trail**: Track all modifications for transparency",
    "char_count": 392
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 9,
    "content": "### EnhancedAdjustServiceModal Component",
    "char_count": 40
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 10,
    "content": "**Location**: `src/components/schedule/EnhancedAdjustServiceModal.tsx`",
    "char_count": 70
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 11,
    "content": "An improved version of the service adjustment modal with better UX and additional features.",
    "char_count": 91
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 12,
    "content": "**Enhancements**:",
    "char_count": 17
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 13,
    "content": "- Cleaner, more intuitive interface\n- Real-time price recalculation\n- Integration with service catalog\n- Better error messaging\n- Mobile-responsive design\n- Undo/redo capability",
    "char_count": 177
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 14,
    "content": "### Service Adjustment Calculator",
    "char_count": 33
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 15,
    "content": "**Location**: `src/lib/serviceAdjustmentCalculator.ts`",
    "char_count": 54
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 16,
    "content": "A utility library for calculating adjustments, fees, and commissions related to service modifications.",
    "char_count": 102
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 17,
    "content": "**Functions**:",
    "char_count": 14
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 18,
    "content": "- `calculateAdjustment()`: Compute price and duration changes\n- `validateAdjustment()`: Ensure changes are within limits\n- `calculateFeeImpact()`: Determine how changes affect fees\n- `calculateCommissionImpact()`: Compute commission adjustments\n- `generateAdjustmentSummary()`: Create human-readable summary",
    "char_count": 307
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 19,
    "content": "### Auto-Confirm Adjustments Edge Function",
    "char_count": 42
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 20,
    "content": "**Location**: `supabase/functions/auto-confirm-adjustments/index.ts`",
    "char_count": 68
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 21,
    "content": "A serverless function that automatically confirms minor adjustments that meet predefined criteria.",
    "char_count": 98
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 22,
    "content": "**Purpose**:",
    "char_count": 12
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 23,
    "content": "- Reduce manual approval overhead for small changes\n- Speed up the adjustment process\n- Maintain consistency in approval logic\n- Provide audit logging of auto-confirmations",
    "char_count": 172
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 24,
    "content": "## Adjustment Types",
    "char_count": 19
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 25,
    "content": "### 1. Service Modifications",
    "char_count": 28
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 26,
    "content": "**Add Service**:",
    "char_count": 16
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 27,
    "content": "- Client or Pro can add additional services to a referral\n- Pricing automatically recalculated\n- Duration updated based on service catalog\n- Client notified of price change",
    "char_count": 172
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 28,
    "content": "**Remove Service**:",
    "char_count": 19
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 29,
    "content": "- Remove services from multi-service referrals\n- Refund or credit issued if already paid\n- Duration adjusted accordingly\n- Requires client approval",
    "char_count": 147
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 30,
    "content": "**Replace Service**:",
    "char_count": 20
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 31,
    "content": "- Swap one service for another\n- Price difference calculated\n- Client approves or declines\n- Original service marked as replaced",
    "char_count": 128
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 32,
    "content": "### 2. Price Adjustments",
    "char_count": 24
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 33,
    "content": "**Reasons for Price Adjustments**:",
    "char_count": 34
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 34,
    "content": "- Service complexity increased/decreased\n- Additional materials or products required\n- Time extension needed\n- Client requested modifications\n- Promotional discount application\n- Error correction",
    "char_count": 195
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 35,
    "content": "**Adjustment Limits**:",
    "char_count": 22
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 36,
    "content": "- Minor adjustments (<10%): Auto-approved\n- Moderate adjustments (10-25%): Requires reason\n- Major adjustments (>25%): Requires approval from both parties",
    "char_count": 154
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 37,
    "content": "### 3. Duration Adjustments",
    "char_count": 27
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 38,
    "content": "**Scenarios**:",
    "char_count": 14
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 39,
    "content": "- Service took longer than estimated\n- Multiple services combined efficiently\n- Client late arrival requiring shortened service\n- Technical difficulties",
    "char_count": 152
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 40,
    "content": "## User Workflows",
    "char_count": 17
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 41,
    "content": "### Pro: Adjusting a Referral",
    "char_count": 29
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 42,
    "content": "1. Navigate to active referral\n2. Click \"Adjust Services\" button\n3. AdjustReferralModal opens\n4. Make desired changes:\n   - Modify service list\n   - Adjust pricing\n   - Update duration\n5. Provide reason for adjustment\n6. Preview impact on fees and commissions\n7. Submit adjustment\n8. System determines if auto-approval applies\n9. Client receives notification",
    "char_count": 358
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 43,
    "content": "### Client: Reviewing and Approving Adjustment",
    "char_count": 46
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 44,
    "content": "1. Receive notification of proposed adjustment\n2. View adjustment details:\n   - Original services vs. new services\n   - Price comparison\n   - Reason provided by Pro\n3. Options:\n   - **Approve**: Accept the adjustment\n   - **Decline**: Reject and keep original terms\n   - **Counter**: Propose alternative adjustment\n4. Confirmation or negotiation continues",
    "char_count": 355
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 45,
    "content": "### System: Auto-Confirming Minor Adjustments",
    "char_count": 45
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 46,
    "content": "1. Pro submits adjustment\n2. Edge function evaluates adjustment:\n   - Check if within auto-approval thresholds\n   - Verify no policy violations\n   - Validate calculation accuracy\n3. If criteria met:\n   - Automatically approve\n   - Update referral record\n   - Notify both parties\n4. If criteria not met:\n   - Route for manual approval\n   - Notify appropriate approver",
    "char_count": 366
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 47,
    "content": "## Technical Implementation",
    "char_count": 27
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 48,
    "content": "### Database Schema",
    "char_count": 19
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 49,
    "content": "**referral_adjustments Table**:",
    "char_count": 31
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 50,
    "content": "```sql\n- id: UUID\n- referral_id: UUID (foreign key)\n- adjustment_type: TEXT (service_add, service_remove, price_change, duration_change)\n- original_value: JSONB\n- new_value: JSONB\n- reason: TEXT\n- requested_by: UUID (user_id)\n- status: TEXT (pending, approved, declined, auto_approved)\n- approved_by: UUID (nullable)\n- created_at: TIMESTAMP\n- updated_at: TIMESTAMP\n```",
    "char_count": 368
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 51,
    "content": "### Validation Rules",
    "char_count": 20
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 52,
    "content": "**Price Adjustment Validation**:",
    "char_count": 32
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 53,
    "content": "```typescript\nfunction validatePriceAdjustment(original, newPrice, reason) {\n  const percentChange = ((newPrice - original) / original) * 100;",
    "char_count": 142
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 54,
    "content": "if (Math.abs(percentChange) < 10) {\n    return { autoApprove: true, requiresReason: false };\n  } else if (Math.abs(percentChange) < 25) {\n    return { autoApprove: false, requiresReason: true };\n  } else {\n    return { autoApprove: false, requiresReason: true, requiresApproval: true };\n  }\n}\n```",
    "char_count": 298
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 55,
    "content": "### Fee Recalculation",
    "char_count": 21
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 56,
    "content": "When adjustments are made, the system recalculates:",
    "char_count": 51
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 57,
    "content": "1. **Platform Fee**: Based on new service price\n2. **Pro Commission**: Adjusted for new total\n3. **Payment Processor Fees**: Updated for new amount\n4. **Net Payout**: Pro's adjusted earnings",
    "char_count": 190
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 58,
    "content": "## Auto-Confirmation Logic",
    "char_count": 26
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 59,
    "content": "### Criteria for Auto-Approval",
    "char_count": 30
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 60,
    "content": "An adjustment is automatically approved if ALL of the following are true:",
    "char_count": 73
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 61,
    "content": "1. **Price Change**: ≤10% of original price\n2. **Duration Change**: ≤15 minutes from original\n3. **Service Changes**: Only additions (no removals or replacements)\n4. **Frequency**: Fewer than 3 adjustments on this referral\n5. **Pro Status**: Good standing (no recent disputes)\n6. **Client History**: No previous disputes with this pro",
    "char_count": 334
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 62,
    "content": "### Auto-Confirmation Process",
    "char_count": 29
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 63,
    "content": "```typescript\nasync function autoConfirmAdjustment(adjustmentId) {\n  const adjustment = await getAdjustment(adjustmentId);\n  const criteria = await evaluateCriteria(adjustment);",
    "char_count": 177
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 64,
    "content": "if (criteria.eligible) {\n    await updateAdjustmentStatus(adjustmentId, \"auto_approved\");\n    await notifyParties(adjustment, \"auto_approved\");\n    await recalculateFees(adjustment.referral_id);\n    await logAuditEvent(adjustmentId, \"auto_confirmed\");\n    return { success: true, method: \"auto\" };\n  } else {\n    await routeForManualApproval(adjustmentId);\n    return { success: false, method: \"manual\", reasons: criteria.reasons };\n  }\n}\n```",
    "char_count": 444
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 65,
    "content": "## Commission Rules Integration",
    "char_count": 31
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 66,
    "content": "**Location**: `src/lib/commissionRules.ts`",
    "char_count": 42
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 67,
    "content": "The adjustment system integrates with commission rules to ensure proper calculations:",
    "char_count": 85
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 68,
    "content": "**Updated Logic**:",
    "char_count": 18
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 69,
    "content": "- Recalculate pro commission on adjusted amounts\n- Apply tiering rules to new totals\n- Adjust platform fees proportionally\n- Handle partial refunds correctly",
    "char_count": 157
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 70,
    "content": "## Benefits",
    "char_count": 11
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 71,
    "content": "1. **Flexibility**: Adapt to real-world service delivery situations\n2. **Transparency**: Clear documentation of all changes\n3. **Efficiency**: Auto-approval reduces wait times\n4. **Fairness**: Both parties review significant changes\n5. **Accuracy**: Automated calculations prevent errors",
    "char_count": 287
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 72,
    "content": "## Safety and Compliance",
    "char_count": 24
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 73,
    "content": "### Fraud Prevention",
    "char_count": 20
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 74,
    "content": "- Limit frequency of adjustments per referral\n- Flag suspicious patterns (e.g., always adjusting up)\n- Require photo evidence for certain adjustment types\n- Review auto-approved adjustments periodically",
    "char_count": 202
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 75,
    "content": "### Dispute Resolution",
    "char_count": 22
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 76,
    "content": "- All adjustments are logged and auditable\n- Original terms always preserved in database\n- Clients can dispute adjustments within 48 hours\n- Platform can review and reverse fraudulent adjustments",
    "char_count": 195
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 77,
    "content": "## Analytics and Reporting",
    "char_count": 26
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 78,
    "content": "### Metrics Tracked",
    "char_count": 19
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 79,
    "content": "- Average adjustment amount and percentage\n- Most common adjustment reasons\n- Auto-approval rate\n- Time to approval for manual reviews\n- Adjustment dispute rate",
    "char_count": 160
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 80,
    "content": "### Insights Generated",
    "char_count": 22
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 81,
    "content": "- Services frequently requiring adjustments\n- Pros with high adjustment rates\n- Pricing accuracy by service type\n- Time estimation accuracy",
    "char_count": 139
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 82,
    "content": "## Future Enhancements",
    "char_count": 22
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 83,
    "content": "1. **Machine Learning**: Predict likely adjustments based on service type\n2. **Dynamic Thresholds**: Adjust auto-approval limits based on pro history\n3. **Bulk Adjustments**: Apply same adjustment to multiple referrals\n4. **Templates**: Save common adjustment patterns\n5. **Client Preferences**: Allow clients to pre-approve certain adjustment types",
    "char_count": 349
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 84,
    "content": "## Related Documentation",
    "char_count": 24
  },
  {
    "file_path": "REFERRAL_ADJUSTMENTS",
    "chunk_index": 85,
    "content": "- [Referral System](CLIENT_REFERRAL.md)\n- [Service Completion](SERVICE_COMPLETION.md)\n- [Commission Rules](COMMISSION_RULES.md)\n- [Fee Structure](FEE_BREAKDOWN.md)\n- [Edge Functions](EDGE_FUNCTIONS.md)",
    "char_count": 202
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 0,
    "content": "---\nid: 693f216853f9e5c13ec6682f\nrevision: 1\n---\n# Referral Complete Component",
    "char_count": 78
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the `ReferralComplete` component.",
    "char_count": 82
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 3,
    "content": "The `ReferralComplete` component is a reusable UI element designed to provide a positive and informative confirmation screen after a referral process has been successfully completed (e.g., a referral has been accepted and a booking confirmed). It aims to reinforce the positive outcome and guide the user on next steps.",
    "char_count": 319
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 4,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 5,
    "content": "### 2.1. Dynamic Confirmation Message",
    "char_count": 37
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 6,
    "content": "-   Displays a clear and congratulatory message indicating the successful completion of the referral.\n-   The message is personalized with the client's name and the stylist's name.",
    "char_count": 180
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 7,
    "content": "### 2.2. Earnings Summary",
    "char_count": 25
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 8,
    "content": "-   Provides a summary of the potential earnings or commission generated from the completed referral.\n-   This reinforces the value of the referral system for the user.",
    "char_count": 168
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 9,
    "content": "### 2.3. Next Steps Guidance",
    "char_count": 28
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 10,
    "content": "-   Offers clear guidance on what the user can expect next (e.g., \"Stylist will contact client soon\").\n-   Provides a button to navigate back to the dashboard, allowing the user to continue with other tasks.",
    "char_count": 207
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 11,
    "content": "## 3. Usage",
    "char_count": 11
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 12,
    "content": "The `ReferralComplete` component is used in pages like `WaitingForResponse.tsx` to display a success screen after a referral has been accepted.",
    "char_count": 143
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 13,
    "content": "```tsx\nimport { ReferralComplete } from '@/components/success/ReferralComplete';",
    "char_count": 80
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 14,
    "content": "const MyPage = () => {\n  const handleBack = () => {\n    console.log('Navigating back to dashboard');\n    // Navigate to dashboard\n  };",
    "char_count": 134
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 15,
    "content": "return (\n    <ReferralComplete\n      clientName=\"Jane Doe\"\n      stylistName=\"John Smith\"\n      earningsAmount={75.00}\n      onBack={handleBack}\n    />\n  );\n};\n```",
    "char_count": 165
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 16,
    "content": "## 4. Props",
    "char_count": 11
  },
  {
    "file_path": "REFERRAL_COMPLETE",
    "chunk_index": 17,
    "content": "-   `clientName`: (string) The name of the client involved in the referral.\n-   `stylistName`: (string) The name of the stylist who accepted the referral.\n-   `earningsAmount`: (number) The amount of earnings or commission generated by the referral.\n-   `onBack`: (function) A callback function to be executed when the \"Back to Dashboard\" button is clicked.",
    "char_count": 357
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 0,
    "content": "---\nid: 693f21686069a5c0e3fa3e47\nrevision: 1\n---\n# Referral Timers",
    "char_count": 66
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Referral Timers feature.",
    "char_count": 77
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 3,
    "content": "The Referral Timers page provides a real-time dashboard for stylists to manage their incoming and outgoing referrals. It is a crucial feature for ensuring that referrals are handled in a timely manner.",
    "char_count": 201
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 4,
    "content": "The page is implemented in the `ReferralTimersPage.tsx` page, which wraps the `ReferralTimerDashboard.tsx` component.",
    "char_count": 117
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 5,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 6,
    "content": "### 2.1. Real-time Updates",
    "char_count": 26
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 7,
    "content": "- The page uses Supabase real-time subscriptions to listen for changes to the `referrals` table.\n- This means that the dashboard is always up to date with the latest referral information, without the need for manual refreshing.\n- The page also auto-refreshes every 30 seconds as a fallback to keep the timers accurate.",
    "char_count": 318
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 8,
    "content": "### 2.2. Sent and Received Referrals",
    "char_count": 36
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 9,
    "content": "- The dashboard is divided into two tabs: \"Sent\" and \"Received\".\n- The \"Sent\" tab shows a list of referrals that the logged-in stylist has sent to other stylists.\n- The \"Received\" tab shows a list of referrals that have been sent to the logged-in stylist.\n- Each tab shows a count of the number of referrals.",
    "char_count": 308
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 10,
    "content": "### 2.3. Referral Card",
    "char_count": 22
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 11,
    "content": "Each referral is displayed on a card with the following information:",
    "char_count": 68
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 12,
    "content": "- Client's name.\n- Status of the referral (e.g., `pending`, `waiting_response`, `accepted`).\n- The name of the sender or receiver.\n- Potential earnings from the referral, including the estimated service price and the commission.\n- A countdown timer for pending referrals, showing how much time is left to respond.\n- Details about the service, location, and client's phone number.\n- Any notes included with the referral.",
    "char_count": 419
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 13,
    "content": "### 2.4. Accept/Decline Referrals",
    "char_count": 33
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 14,
    "content": "- For received referrals that are in a `pending` state, the stylist has the option to \"Accept\" or \"Decline\".\n- **Accepting** a referral updates its status to `accepted` and moves it to the stylist's pending list.\n- **Declining** a referral triggers a Supabase Edge Function (`reassign-referral`) to find the next available professional.",
    "char_count": 336
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 15,
    "content": "### 2.5. Demo Mode",
    "char_count": 18
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 16,
    "content": "- The page includes a button to \"+ Add Demo Referral\".\n- This allows users to create a new referral with a fresh 10-minute timer, which is useful for demonstrating the feature.",
    "char_count": 176
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 17,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 18,
    "content": "The Referral Timers feature interacts with the `referrals` and `users` tables in the Supabase database.",
    "char_count": 103
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 19,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 20,
    "content": "The user interface consists of:",
    "char_count": 31
  },
  {
    "file_path": "REFERRAL_TIMERS",
    "chunk_index": 21,
    "content": "- A header with a back button and a title.\n- A tabbed interface to switch between \"Sent\" and \"Received\" referrals.\n- A list of referral cards, each with detailed information and action buttons.",
    "char_count": 194
  },
  {
    "file_path": "SAD",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266a90\nrevision: 17\n---",
    "char_count": 49
  },
  {
    "file_path": "SAD",
    "chunk_index": 1,
    "content": "# Software Architecture Document (SAD)",
    "char_count": 38
  },
  {
    "file_path": "SAD",
    "chunk_index": 2,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "SAD",
    "chunk_index": 3,
    "content": "### 1.1 Purpose\nThis document provides a comprehensive architectural overview of the ClientPass application. It is intended for developers, architects, and technical stakeholders to understand the system's structure, components, interactions, and design principles.",
    "char_count": 265
  },
  {
    "file_path": "SAD",
    "chunk_index": 4,
    "content": "### 1.2 Scope\nThe scope of this document covers the **ClientPass platform**, which includes a frontend web application, a native mobile application, a serverless backend, the database schema, and the deployment strategy.",
    "char_count": 220
  },
  {
    "file_path": "SAD",
    "chunk_index": 5,
    "content": "### 1.3 Architectural Representation\nThis document uses a simplified version of the **4+1 architectural view model** to describe the system from different perspectives:\n- **Logical View**: The system's functional components and their responsibilities.\n- **Process View**: The system's dynamic behavior and component interactions.\n- **Development View**: The organization of the source code and build system.\n- **Physical (Deployment) View**: The mapping of software components to the physical infrastructure.\n- **Data View**: The structure and organization of the data.",
    "char_count": 569
  },
  {
    "file_path": "SAD",
    "chunk_index": 6,
    "content": "## 2. System Architecture Diagram",
    "char_count": 33
  },
  {
    "file_path": "SAD",
    "chunk_index": 7,
    "content": "This diagram provides a detailed, high-level view of the entire system architecture, including network boundaries, services, and dependencies for both web and mobile clients.",
    "char_count": 174
  },
  {
    "file_path": "SAD",
    "chunk_index": 8,
    "content": "```mermaid\ngraph TB\n    subgraph \"User's Devices\"\n        direction LR\n        UserWeb[\"🧍<br/>User (Web)\"]\n        UserMobile[\"📱<br/>User (Mobile)\"]\n    end",
    "char_count": 158
  },
  {
    "file_path": "SAD",
    "chunk_index": 9,
    "content": "subgraph \"Client Frontends\"\n        direction TB\n        subgraph \"Vercel CDN\"\n            FrontendWeb[React SPA]\n        end\n        subgraph \"App Stores\"\n            FrontendMobile[React Native App]\n        end\n    end",
    "char_count": 224
  },
  {
    "file_path": "SAD",
    "chunk_index": 10,
    "content": "UserWeb -- \"HTTPS\" --> FrontendWeb\n    UserMobile -- \"App Install\" --> FrontendMobile",
    "char_count": 89
  },
  {
    "file_path": "SAD",
    "chunk_index": 11,
    "content": "subgraph \"Supabase Platform (Cloud Provider)\"\n        direction TB\n        Gateway[API Gateway / Firewall]",
    "char_count": 110
  },
  {
    "file_path": "SAD",
    "chunk_index": 12,
    "content": "subgraph \"Backend Services\"\n            direction LR\n            Auth[Auth Service]\n            PostgREST[PostgREST API]\n            Realtime[Realtime Service]\n            EdgeFunctions[Edge Functions]\n        end",
    "char_count": 221
  },
  {
    "file_path": "SAD",
    "chunk_index": 13,
    "content": "Database[(PostgreSQL DB)]",
    "char_count": 33
  },
  {
    "file_path": "SAD",
    "chunk_index": 14,
    "content": "Gateway --> Auth\n        Gateway --> PostgREST\n        Gateway -- \"WSS\" --> Realtime\n        Gateway --> EdgeFunctions",
    "char_count": 126
  },
  {
    "file_path": "SAD",
    "chunk_index": 15,
    "content": "Auth --> Database\n        PostgREST --> Database\n        Realtime --> Database\n        EdgeFunctions --> Database\n    end",
    "char_count": 129
  },
  {
    "file_path": "SAD",
    "chunk_index": 16,
    "content": "FrontendWeb -- \"HTTPS/WSS\" --> Gateway\n    FrontendMobile -- \"HTTPS/WSS\" --> Gateway",
    "char_count": 88
  },
  {
    "file_path": "SAD",
    "chunk_index": 17,
    "content": "subgraph \"Third-Party APIs\"\n        direction TB\n        Stripe[Stripe API]\n        Resend[Resend API]\n    end",
    "char_count": 114
  },
  {
    "file_path": "SAD",
    "chunk_index": 18,
    "content": "EdgeFunctions -- \"HTTPS\" --> Stripe\n    EdgeFunctions -- \"HTTPS\" --> Resend",
    "char_count": 79
  },
  {
    "file_path": "SAD",
    "chunk_index": 19,
    "content": "style FrontendWeb fill:#61DAFB,color:#000\n    style FrontendMobile fill:#61DAFB,color:#000\n    style Gateway fill:#F48024,color:#fff\n    style Database fill:#336791,color:#fff\n    style Stripe fill:#6772e5,color:#fff\n```",
    "char_count": 224
  },
  {
    "file_path": "SAD",
    "chunk_index": 20,
    "content": "## 3. Logical View",
    "char_count": 18
  },
  {
    "file_path": "SAD",
    "chunk_index": 21,
    "content": "This diagram illustrates the high-level logical components of the system and their primary relationships.",
    "char_count": 105
  },
  {
    "file_path": "SAD",
    "chunk_index": 22,
    "content": "```mermaid\ngraph TD\n    subgraph \"Client Devices\"\n        A[Web Frontend (React)]\n        B[Mobile Frontend (React Native)]\n    end",
    "char_count": 131
  },
  {
    "file_path": "SAD",
    "chunk_index": 23,
    "content": "subgraph \"Supabase Cloud\"\n        C[Authentication]\n        D[Database - PostgreSQL]\n        E[Edge Functions - Deno]\n        F[Real-time Service]\n    end",
    "char_count": 158
  },
  {
    "file_path": "SAD",
    "chunk_index": 24,
    "content": "subgraph \"Third-Party Services\"\n        G[Stripe API]\n        H[Resend API]\n    end",
    "char_count": 87
  },
  {
    "file_path": "SAD",
    "chunk_index": 25,
    "content": "A -- API_Calls --> C\n    A -- API_Calls --> D\n    A -- API_Calls --> E\n    A -- API_Calls --> F\n    B -- API_Calls --> C\n    B -- API_Calls --> D\n    B -- API_Calls --> E\n    B -- API_Calls --> F",
    "char_count": 199
  },
  {
    "file_path": "SAD",
    "chunk_index": 26,
    "content": "E -- DB_Connection --> D\n    E -- HTTPS_API_Call --> G\n    E -- HTTPS_API_Call --> H\n```",
    "char_count": 92
  },
  {
    "file_path": "SAD",
    "chunk_index": 27,
    "content": "The system is decomposed into three main containers: the Web Frontend, the Mobile Frontend, and the shared Backend Services.",
    "char_count": 124
  },
  {
    "file_path": "SAD",
    "chunk_index": 28,
    "content": "### 3.1 Frontend Applications (Client-Side)",
    "char_count": 43
  },
  {
    "file_path": "SAD",
    "chunk_index": 29,
    "content": "#### 3.1.1 Web Application\n- **UI Components (React)**: Built with React, TypeScript, and **shadcn-ui**.\n- **Routing Service (React Router)**: Manages client-side navigation.\n- **State Management Service**: Uses **Zustand** and **TanStack Query**.",
    "char_count": 247
  },
  {
    "file_path": "SAD",
    "chunk_index": 30,
    "content": "#### 3.1.2 Mobile Application\n- **UI Components (React Native)**: Built with React Native and **React Native Paper**.\n- **Routing Service (Expo Router)**: Manages native navigation.\n- **State Management Service**: Uses **React Context** for global state.",
    "char_count": 254
  },
  {
    "file_path": "SAD",
    "chunk_index": 31,
    "content": "### 3.2 Backend Services (Supabase)\n- **Authentication Service (Supabase Auth)**: Manages user sign-up, login, and sessions for both clients.\n- **Database Service (PostgreSQL)**: The primary data store, with access controlled by Row Level Security (RLS) policies.\n- **Business Logic Layer (Edge Functions)**: A suite of serverless functions that encapsulate core business logic, callable from both clients.\n- **Real-time Service (Supabase Realtime)**: Pushes live updates to connected clients.",
    "char_count": 493
  },
  {
    "file_path": "SAD",
    "chunk_index": 32,
    "content": "## 4. Process View",
    "char_count": 18
  },
  {
    "file_path": "SAD",
    "chunk_index": 33,
    "content": "This view describes the sequence of interactions for key workflows. The processes are client-agnostic, as both the web and mobile apps interact with the same backend services.",
    "char_count": 175
  },
  {
    "file_path": "SAD",
    "chunk_index": 34,
    "content": "(The existing sequence diagrams for Send Referral, Accept Referral, etc., remain valid as they describe the interaction with the backend, which is shared.)",
    "char_count": 155
  },
  {
    "file_path": "SAD",
    "chunk_index": 35,
    "content": "### 4.1 Send Referral Workflow",
    "char_count": 30
  },
  {
    "file_path": "SAD",
    "chunk_index": 36,
    "content": "```mermaid\nsequenceDiagram\n    participant User\n    participant Frontend (React App)\n    participant Backend (Supabase)",
    "char_count": 119
  },
  {
    "file_path": "SAD",
    "chunk_index": 37,
    "content": "User->>Frontend (React App): Fills and submits the Referral Form\n    Frontend (React App)->>Backend (Supabase): Invokes `send-referral` Edge Function with referral data\n    activate Backend (Supabase)\n    Backend (Supabase)->>Backend (Supabase): Finds best available receiver based on logic (trusted network, availability)\n    Backend (Supabase)->>Backend (Supabase): Creates a new record in the `referrals` table with a 10-minute timer\n    Backend (Supabase)->>Backend (Supabase): Creates a notification in the `messages` table for the receiver\n    deactivate Backend (Supabase)\n    Backend (Supabase)-->>Frontend (React App): Returns success and the new referral ID\n    Frontend (React App)->>User: Navigates to \"Waiting for Response\" page and shows confirmation\n```",
    "char_count": 772
  },
  {
    "file_path": "SAD",
    "chunk_index": 38,
    "content": "### 4.2 Accepting a Referral (Happy Path)",
    "char_count": 41
  },
  {
    "file_path": "SAD",
    "chunk_index": 39,
    "content": "```mermaid\nsequenceDiagram\n    actor Pro\n    participant Frontend\n    participant Supabase as Backend\n    participant SenderFrontend as Sender's App",
    "char_count": 148
  },
  {
    "file_path": "SAD",
    "chunk_index": 40,
    "content": "Pro->>Frontend: Clicks \"Accept\" on a referral notification\n    Frontend->>Supabase: Invokes `inbox-action` Edge Function with { referralId, action: 'accept' }\n    activate Supabase",
    "char_count": 184
  },
  {
    "file_path": "SAD",
    "chunk_index": 41,
    "content": "Supabase->>Supabase: Verifies referral is still 'pending' and not expired\n    Supabase->>Supabase: Updates `referrals` table status to 'accepted'\n    Supabase->>Supabase: Creates notification for sender in `messages` table\n    Supabase-->>Frontend: Returns success response\n    deactivate Supabase",
    "char_count": 301
  },
  {
    "file_path": "SAD",
    "chunk_index": 42,
    "content": "Frontend->>Pro: Shows \"Accepted!\" confirmation UI",
    "char_count": 53
  },
  {
    "file_path": "SAD",
    "chunk_index": 43,
    "content": "Note over Supabase, SenderFrontend: Supabase sends real-time event\n    Supabase->>SenderFrontend: Real-time message for 'referral.accepted'\n    SenderFrontend->>SenderFrontend: Updates UI to show referral was accepted\n```",
    "char_count": 225
  },
  {
    "file_path": "SAD",
    "chunk_index": 44,
    "content": "## 5. Development View",
    "char_count": 22
  },
  {
    "file_path": "SAD",
    "chunk_index": 45,
    "content": "This view describes the organization of the source code across the two main projects.",
    "char_count": 85
  },
  {
    "file_path": "SAD",
    "chunk_index": 46,
    "content": "- **`style-referral-ring/` (Web App)**\n  - **`src/`**: Contains all web frontend source code (React, shadcn-ui).\n- **`clientpass-react-native/` (Mobile App)**\n  - **`app/`**: Contains all mobile app screens and routing logic (Expo Router).\n  - **`components/`**: Contains reusable React Native components.\n- **`supabase/` (Shared Backend)**\n  - **`functions/`**: Self-contained Edge Functions callable by both clients.\n  - **`migrations/`**: SQL files defining the shared database schema.",
    "char_count": 488
  },
  {
    "file_path": "SAD",
    "chunk_index": 47,
    "content": "## 6. Physical (Deployment) View",
    "char_count": 32
  },
  {
    "file_path": "SAD",
    "chunk_index": 48,
    "content": "The application is deployed on a modern serverless infrastructure.",
    "char_count": 66
  },
  {
    "file_path": "SAD",
    "chunk_index": 49,
    "content": "- **Web Frontend**: The static assets are hosted on **Vercel's** global CDN.\n- **Mobile Frontend**: The application is built and deployed to the **Apple App Store** and **Google Play Store** via Expo Application Services (EAS).\n- **Backend**: All backend services are hosted on **Supabase**, serving both web and mobile clients.",
    "char_count": 328
  },
  {
    "file_path": "SAD",
    "chunk_index": 50,
    "content": "## 7. Data View",
    "char_count": 15
  },
  {
    "file_path": "SAD",
    "chunk_index": 51,
    "content": "The data architecture is defined by the shared PostgreSQL schema. The ERD remains the same as it represents the single source of truth for both applications.",
    "char_count": 157
  },
  {
    "file_path": "SAD",
    "chunk_index": 52,
    "content": "```mermaid\nerDiagram\n    users {\n        UUID id PK\n        string full_name\n        string role\n        string membership_tier\n        string pro_id\n        boolean active_mode\n        boolean coverage_mode\n    }",
    "char_count": 213
  },
  {
    "file_path": "SAD",
    "chunk_index": 53,
    "content": "referrals {\n        UUID id PK\n        UUID sender_id FK\n        UUID receiver_id FK\n        string client_name\n        string status\n        UUID open_chair_id FK\n        UUID hot_seat_id FK\n    }",
    "char_count": 201
  },
  {
    "file_path": "SAD",
    "chunk_index": 54,
    "content": "open_chairs {\n        UUID id PK\n        UUID user_id FK\n        string location\n        timestamp start_at\n        timestamp end_at\n        string status\n    }",
    "char_count": 164
  },
  {
    "file_path": "SAD",
    "chunk_index": 55,
    "content": "hot_seats {\n        UUID id PK\n        UUID user_id FK\n        string service\n        timestamp expires_at\n    }",
    "char_count": 116
  },
  {
    "file_path": "SAD",
    "chunk_index": 56,
    "content": "services {\n        UUID id PK\n        UUID pro_id FK\n        string name\n        int price_cents\n    }",
    "char_count": 106
  },
  {
    "file_path": "SAD",
    "chunk_index": 57,
    "content": "trusted_network {\n        UUID owner_id PK, FK\n        UUID partner_id PK, FK\n        string status\n    }",
    "char_count": 109
  },
  {
    "file_path": "SAD",
    "chunk_index": 58,
    "content": "auto_suggest_tracking {\n        UUID user_id PK, FK\n        UUID partner_id PK, FK\n        int completed_count\n    }",
    "char_count": 120
  },
  {
    "file_path": "SAD",
    "chunk_index": 59,
    "content": "payments {\n        UUID id PK\n        UUID referral_id FK\n        decimal amount\n    }",
    "char_count": 90
  },
  {
    "file_path": "SAD",
    "chunk_index": 60,
    "content": "commissions {\n        UUID id PK\n        UUID referral_id FK\n        UUID payee_id FK\n        decimal amount\n    }",
    "char_count": 118
  },
  {
    "file_path": "SAD",
    "chunk_index": 61,
    "content": "affiliate_commissions {\n        UUID id PK\n        UUID referral_id FK\n        UUID earner_id FK\n        decimal amount\n    }",
    "char_count": 129
  },
  {
    "file_path": "SAD",
    "chunk_index": 62,
    "content": "boosts {\n        UUID id PK\n        UUID user_id FK\n        string boost_type\n        timestamp end_at\n    }",
    "char_count": 112
  },
  {
    "file_path": "SAD",
    "chunk_index": 63,
    "content": "ad_placements {\n        UUID id PK\n        string title\n        string category\n        boolean active\n    }",
    "char_count": 112
  },
  {
    "file_path": "SAD",
    "chunk_index": 64,
    "content": "messages {\n        UUID id PK\n        UUID user_id FK\n        string title\n        string kind\n    }",
    "char_count": 104
  },
  {
    "file_path": "SAD",
    "chunk_index": 65,
    "content": "admin_audit_log {\n        UUID id PK\n        UUID admin_user_id FK\n        string action\n    }",
    "char_count": 98
  },
  {
    "file_path": "SAD",
    "chunk_index": 66,
    "content": "feature_flags {\n        string flag_name PK\n        boolean enabled\n    }",
    "char_count": 77
  },
  {
    "file_path": "SAD",
    "chunk_index": 67,
    "content": "platform_settings {\n        string key PK\n        string value\n    }",
    "char_count": 72
  },
  {
    "file_path": "SAD",
    "chunk_index": 68,
    "content": "users ||--o{ referrals : \"sends\"\n    users ||--o{ referrals : \"receives\"\n    users ||--o{ services : \"offers\"\n    users ||--o{ open_chairs : \"hosts\"\n    users ||--o{ hot_seats : \"posts\"\n    users ||--o{ boosts : \"activates\"\n    users ||--o{ messages : \"receives\"\n    users ||--o{ admin_audit_log : \"performs\"\n    users }o--o{ trusted_network : \"owns\"\n    users }o--o{ trusted_network : \"is_partner_in\"\n    users }o--o{ auto_suggest_tracking : \"tracks\"\n    users }o--o{ auto_suggest_tracking : \"is_tracked_with\"\n    users ||--o{ affiliate_commissions : \"earns\"",
    "char_count": 563
  },
  {
    "file_path": "SAD",
    "chunk_index": 69,
    "content": "referrals }o--|| open_chairs : \"books_into\"\n    referrals }o--|| hot_seats : \"is_for\"\n    referrals ||--o{ payments : \"generates\"\n    referrals ||--o{ commissions : \"results_in\"\n    referrals ||--o{ affiliate_commissions : \"generates\"\n```",
    "char_count": 242
  },
  {
    "file_path": "SAD",
    "chunk_index": 70,
    "content": "For a complete and detailed breakdown of every table and column, please refer to the **`docs/DATABASE_SCHEMA.md`** document.",
    "char_count": 125
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266a92\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 1,
    "content": "# Sequence Diagrams",
    "char_count": 19
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 2,
    "content": "This document provides detailed sequence diagrams for key workflows within the ClientPass application. These diagrams illustrate the dynamic interactions between different parts of the system.",
    "char_count": 192
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 3,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 4,
    "content": "## 1. Accepting a Referral (Happy Path)",
    "char_count": 39
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 5,
    "content": "This diagram shows the process when a stylist successfully accepts a referral notification within the time limit.",
    "char_count": 113
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 6,
    "content": "```mermaid\nsequenceDiagram\n    actor Pro\n    participant Frontend\n    participant Supabase as Backend\n    participant SenderFrontend as Sender's App",
    "char_count": 148
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 7,
    "content": "Pro->>Frontend: Clicks \"Accept\" on a referral notification\n    Frontend->>Supabase: Invokes `inbox-action` Edge Function with { referralId, action: 'accept' }\n    activate Supabase",
    "char_count": 184
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 8,
    "content": "Supabase->>Supabase: Verifies referral is still 'pending' and not expired\n    Supabase->>Supabase: Updates `referrals` table status to 'accepted'\n    Supabase->>Supabase: Creates notification for sender in `messages` table\n    Supabase-->>Frontend: Returns success response\n    deactivate Supabase",
    "char_count": 301
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 9,
    "content": "Frontend->>Pro: Shows \"Accepted!\" confirmation UI",
    "char_count": 53
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 10,
    "content": "Note over Supabase, SenderFrontend: Supabase sends real-time event\n    Supabase->>SenderFrontend: Real-time message for 'referral.accepted'\n    SenderFrontend->>SenderFrontend: Updates UI to show referral was accepted\n```",
    "char_count": 225
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 11,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 12,
    "content": "## 2. Handling an Expired Referral",
    "char_count": 34
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 13,
    "content": "This diagram illustrates the automated backend process when a referral is not accepted in time.",
    "char_count": 95
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 14,
    "content": "```mermaid\nsequenceDiagram\n    actor Scheduler\n    participant CronJob as Cron Job (referral-timer)\n    participant Supabase as Backend\n    participant NextProFrontend as Next Pro's App",
    "char_count": 185
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 15,
    "content": "Scheduler->>CronJob: Triggers every minute\n    activate CronJob\n    CronJob->>Supabase: Queries for `referrals` where `status` is 'pending' AND `expires_at` < now()\n    activate Supabase\n    Supabase-->>CronJob: Returns list of expired referrals\n    deactivate Supabase",
    "char_count": 273
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 16,
    "content": "loop For each expired referral\n        CronJob->>Supabase: Invokes `reassign-referral` Edge Function\n        activate Supabase\n        Supabase->>Supabase: Finds next best available Pro, excluding previous receivers\n        alt Next Pro Found\n            Supabase->>Supabase: Updates `referrals` record with new `receiver_id` and new `expires_at`\n            Supabase->>Supabase: Creates notification for the new Pro in `messages` table\n            Supabase->>NextProFrontend: (Later) Sends real-time notification\n        else No Pro Found\n            Supabase->>Supabase: Updates `referrals` status to 'expired'\n            Supabase->>Supabase: Notifies original sender that no one was found\n        end\n        deactivate Supabase\n    end\n    deactivate CronJob\n```",
    "char_count": 771
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 17,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 18,
    "content": "## 3. Open Chair Session Workflow",
    "char_count": 33
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 19,
    "content": "This diagram shows the end-to-end flow of a stylist using an Open Chair, from check-in to settlement.",
    "char_count": 101
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 20,
    "content": "```mermaid\nsequenceDiagram\n    actor Pro\n    participant Frontend\n    participant Supabase as Backend",
    "char_count": 101
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 21,
    "content": "Pro->>Frontend: Clicks \"Check In\" for an accepted Open Chair\n    Frontend->>Supabase: Invokes `check-in-open-chair` Edge Function\n    activate Supabase\n    Supabase->>Supabase: Updates `open_chairs` status to 'live'\n    Supabase-->>Frontend: Returns success\n    deactivate Supabase\n    Frontend->>Pro: Displays \"Live Session\" dashboard",
    "char_count": 339
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 22,
    "content": "Note over Pro, Backend: During the session, the Pro performs services...",
    "char_count": 76
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 23,
    "content": "Pro->>Frontend: Logs a completed service (e.g., via a button in the Live Session UI)\n    Frontend->>Supabase: Updates a `referrals` record status to 'completed' and sets `open_chair_id`",
    "char_count": 189
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 24,
    "content": "Note over Pro, Backend: At the end of the day...",
    "char_count": 52
  },
  {
    "file_path": "SEQUENCE_DIAGRAMS",
    "chunk_index": 25,
    "content": "Pro->>Frontend: Clicks \"End Session\"\n    Frontend->>Supabase: Invokes `end-open-chair-session` Edge Function\n    activate Supabase\n    Supabase->>Supabase: Updates `open_chairs` status to 'completed'\n    Supabase->>Supabase: Fetches all associated `referrals` marked as completed during the session\n    loop For each completed service\n        Supabase->>Supabase: Invokes `settle-open-chair-commission` function\n        activate Supabase\n        Supabase->>Supabase: Calculates platform fee, host share, and stylist net\n        Supabase->>Supabase: Inserts records into `commissions` table for host and stylist\n        deactivate Supabase\n    end\n    Supabase-->>Frontend: Returns success\n    deactivate Supabase\n    Frontend->>Pro: Shows session summary and total earnings\n```",
    "char_count": 782
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 0,
    "content": "---\nid: 693f21681ae44aef92b3ec4e\nrevision: 1\n---\n# Service Catalog System",
    "char_count": 73
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 1,
    "content": "## Overview",
    "char_count": 11
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 2,
    "content": "The Service Catalog system is a comprehensive platform feature that enables centralized management of services offered across the platform. It provides administrators with tools to define, categorize, and maintain a standardized catalog of beauty and wellness services.",
    "char_count": 269
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 3,
    "content": "## Key Components",
    "char_count": 17
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 4,
    "content": "### AdminServiceCatalog Component",
    "char_count": 33
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 5,
    "content": "**Location**: `src/components/admin/modules/AdminServiceCatalog.tsx`",
    "char_count": 68
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 6,
    "content": "The AdminServiceCatalog component provides administrators with a comprehensive interface for managing the platform's service catalog.",
    "char_count": 133
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 7,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 8,
    "content": "- **Service Creation**: Add new services to the catalog with detailed information\n- **Service Editing**: Modify existing service definitions\n- **Service Categorization**: Organize services using the taxonomy system\n- **Bulk Operations**: Manage multiple services efficiently\n- **Search and Filter**: Quickly find specific services in the catalog",
    "char_count": 345
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 9,
    "content": "### Service Taxonomy System",
    "char_count": 27
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 10,
    "content": "**Location**: `src/lib/serviceTaxonomy.ts`",
    "char_count": 42
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 11,
    "content": "The service taxonomy provides a hierarchical categorization system for organizing services logically.",
    "char_count": 101
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 12,
    "content": "**Purpose**:",
    "char_count": 12
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 13,
    "content": "- Standardizes service naming and categorization\n- Enables better search and discovery\n- Supports consistent service selection across the platform\n- Facilitates reporting and analytics",
    "char_count": 184
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 14,
    "content": "**Taxonomy Structure**:",
    "char_count": 23
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 15,
    "content": "- **Categories**: Top-level groupings (e.g., Hair, Nails, Skincare)\n- **Subcategories**: More specific service types within categories\n- **Service Types**: Individual service offerings",
    "char_count": 184
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 16,
    "content": "### ServiceTaxonomySelector Component",
    "char_count": 37
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 17,
    "content": "**Location**: `src/components/services/ServiceTaxonomySelector.tsx`",
    "char_count": 67
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 18,
    "content": "A reusable component for selecting services using the taxonomy structure.",
    "char_count": 73
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 19,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 20,
    "content": "- Hierarchical service selection\n- Category-based filtering\n- Type-ahead search\n- Multi-select capability\n- Integration with service catalog",
    "char_count": 140
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 21,
    "content": "### EnhancedServiceSelector Component",
    "char_count": 37
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 22,
    "content": "**Location**: `src/components/services/EnhancedServiceSelector.tsx`",
    "char_count": 67
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 23,
    "content": "An improved service selection interface that leverages the catalog system.",
    "char_count": 74
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 24,
    "content": "**Improvements Over Previous Version**:",
    "char_count": 39
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 25,
    "content": "- Better UX with taxonomy-based navigation\n- Real-time service availability\n- Pricing information display\n- Service duration estimates\n- Provider-specific service filtering",
    "char_count": 172
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 26,
    "content": "## Data Model",
    "char_count": 13
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 27,
    "content": "### Service Catalog Table",
    "char_count": 25
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 28,
    "content": "The `service_catalog` table stores the centralized service definitions:",
    "char_count": 71
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 29,
    "content": "**Key Fields**:",
    "char_count": 15
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 30,
    "content": "- `id`: Unique identifier\n- `name`: Service name\n- `category`: Top-level category\n- `subcategory`: Specific service type\n- `description`: Detailed service description\n- `typical_duration`: Average service duration\n- `typical_price_range`: Suggested pricing range\n- `active`: Whether the service is currently offered\n- `created_at`: Creation timestamp\n- `updated_at`: Last modification timestamp",
    "char_count": 394
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 31,
    "content": "## User Workflows",
    "char_count": 17
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 32,
    "content": "### Admin: Adding a New Service",
    "char_count": 31
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 33,
    "content": "1. Navigate to Admin Console\n2. Select \"Service Catalog\" module\n3. Click \"Add New Service\"\n4. Fill in service details:\n   - Select category from taxonomy\n   - Choose subcategory\n   - Enter service name and description\n   - Set typical duration\n   - Define price range\n5. Save the service",
    "char_count": 287
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 34,
    "content": "### Pro: Selecting Services During Profile Setup",
    "char_count": 48
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 35,
    "content": "1. During profile setup or service management\n2. Use ServiceTaxonomySelector to browse services\n3. Filter by category or search by name\n4. Select applicable services\n5. Customize pricing and duration for their business",
    "char_count": 218
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 36,
    "content": "### Client: Browsing Available Services",
    "char_count": 39
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 37,
    "content": "1. View services during referral or booking process\n2. Services displayed using taxonomy categories\n3. See provider-specific pricing and availability\n4. Select desired service for appointment",
    "char_count": 191
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 38,
    "content": "## Integration Points",
    "char_count": 21
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 39,
    "content": "### Service Manager",
    "char_count": 19
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 40,
    "content": "The ServiceManager component (`src/components/services/ServiceManager.tsx`) was significantly refactored to integrate with the service catalog system.",
    "char_count": 150
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 41,
    "content": "**Changes**:",
    "char_count": 12
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 42,
    "content": "- Now pulls from centralized catalog instead of free-form input\n- Validates services against catalog\n- Maintains backward compatibility with existing data\n- Supports custom services when needed",
    "char_count": 193
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 43,
    "content": "### Demo Data Seeder",
    "char_count": 20
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 44,
    "content": "**Location**: `src/services/demo/ServiceCatalogSeeder.ts`",
    "char_count": 57
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 45,
    "content": "Provides sample data for the service catalog in demo mode.",
    "char_count": 58
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 46,
    "content": "**Features**:",
    "char_count": 13
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 47,
    "content": "- Populates catalog with realistic beauty/wellness services\n- Creates taxonomy structure\n- Seeds pricing and duration data\n- Supports testing and demonstrations",
    "char_count": 160
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 48,
    "content": "## Benefits",
    "char_count": 11
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 49,
    "content": "1. **Consistency**: Standardized service names and descriptions across the platform\n2. **Efficiency**: Reduces data entry and prevents duplicate/similar services\n3. **Analytics**: Better reporting on popular services and trends\n4. **Scalability**: Easier to add new services and categories\n5. **User Experience**: Improved service discovery and selection",
    "char_count": 354
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 50,
    "content": "## Future Enhancements",
    "char_count": 22
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 51,
    "content": "- Service recommendations based on client preferences\n- Dynamic pricing suggestions based on market data\n- Service bundling and packages\n- Integration with booking duration and availability systems\n- Multi-language support for service names and descriptions",
    "char_count": 257
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 52,
    "content": "## Related Documentation",
    "char_count": 24
  },
  {
    "file_path": "SERVICE_CATALOG",
    "chunk_index": 53,
    "content": "- [Component Guide](COMPONENT_GUIDE.md)\n- [Database Schema](DATABASE_SCHEMA.md)\n- [Admin Dashboard](ADMIN_DASHBOARD.md)\n- [Service Selection](SERVICE_SELECTION.md)",
    "char_count": 164
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 0,
    "content": "---\nid: 693f2168b6caf2554c719569\nrevision: 1\n---\n# Service Selection",
    "char_count": 68
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Service Selection feature, which allows stylists to manage the services they offer.",
    "char_count": 136
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 3,
    "content": "The Service Selection feature provides stylists with a comprehensive tool to define, categorize, and price their professional services. This ensures that clients can accurately view and book the specific services offered by each stylist.",
    "char_count": 237
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 4,
    "content": "The feature is primarily implemented within the `ServiceManager.tsx` component, which is integrated into pages like `StylistProfileSetup.tsx`.",
    "char_count": 142
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 5,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 6,
    "content": "### 2.1. Service Management",
    "char_count": 27
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 7,
    "content": "-   **Add New Service:** Stylists can add new services to their profile by providing:\n    -   **Name:** A descriptive name for the service (e.g., \"Women's Haircut\", \"Full Balayage\").\n    -   **Description:** An optional detailed description of the service.\n    -   **Price:** The price of the service.\n    -   **Duration:** The estimated duration of the service in minutes.\n    -   **Category:** The service can be assigned to a predefined category (e.g., \"Haircuts\", \"Coloring\").\n-   **Edit Existing Service:** Stylists can modify the details of any existing service.\n-   **Delete Service:** Stylists can remove services they no longer offer.",
    "char_count": 643
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 8,
    "content": "### 2.2. Service Categorization",
    "char_count": 31
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 9,
    "content": "-   Services can be organized into categories, making it easier for clients to browse and find what they need.\n-   The categories are fetched from the `service_categories` table in the Supabase database.",
    "char_count": 203
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 10,
    "content": "### 2.3. Price and Duration Configuration",
    "char_count": 41
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 11,
    "content": "-   Stylists have full control over the pricing and estimated duration for each service, allowing for flexible business models.",
    "char_count": 127
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 12,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 13,
    "content": "The Service Selection feature interacts with the following tables in the Supabase database:",
    "char_count": 91
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 14,
    "content": "-   `services`: This table stores the details of each service offered by a stylist, including `name`, `description`, `price`, `duration_minutes`, and `category_id`.\n-   `service_categories`: This table stores the predefined categories for services.",
    "char_count": 248
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 15,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 16,
    "content": "The user interface for service selection typically includes:",
    "char_count": 60
  },
  {
    "file_path": "SERVICE_SELECTION",
    "chunk_index": 17,
    "content": "-   A form for adding or editing service details.\n-   A list or grid displaying all currently offered services, with options to edit or delete each one.\n-   Dropdowns or selectors for choosing service categories.",
    "char_count": 212
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 0,
    "content": "---\nid: 693f2168e6be2cc9dda12c2b\nrevision: 1\n---\n# Share and Earn",
    "char_count": 65
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Share and Earn feature.",
    "char_count": 76
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 3,
    "content": "The Share and Earn feature allows clients to earn rewards by sharing the ClientPass application with their friends. It is a key feature for driving user growth through word-of-mouth marketing.",
    "char_count": 192
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 4,
    "content": "The page is implemented in the `ShareAndEarnPage.tsx` page, which wraps the `ShareAndEarn.tsx` component.",
    "char_count": 105
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 5,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 6,
    "content": "### 2.1. Unique Referral Link",
    "char_count": 29
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 7,
    "content": "- Each client is provided with a unique referral link.\n- The link is generated and displayed on the page.\n- The client can easily copy the link to their clipboard or share it directly through the web share API.",
    "char_count": 210
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 8,
    "content": "### 2.2. Earnings and Stats",
    "char_count": 27
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 9,
    "content": "- The page displays key statistics about the client's referral activity:\n    - **Total Earned:** The total amount of commission the client has earned from their referrals.\n    - **Total Referrals:** The total number of friends who have signed up using the client's link.",
    "char_count": 270
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 10,
    "content": "### 2.3. Earnings History",
    "char_count": 25
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 11,
    "content": "- The page displays a list of recent earnings from referrals.\n- Each entry in the list shows:\n    - The name of the referred client.\n    - The status of the commission (e.g., `pending`, `completed`).\n    - The service that was booked.\n    - The date of the referral.\n    - The amount of the commission earned.",
    "char_count": 309
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 12,
    "content": "### 2.4. How it Works",
    "char_count": 21
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 13,
    "content": "- The page includes a simple, three-step guide that explains how the Share and Earn feature works:\n    1.  Share your link.\n    2.  Your friend books and completes a service.\n    3.  You earn a commission.",
    "char_count": 205
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 14,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 15,
    "content": "The Share and Earn feature interacts with the following tables in the Supabase database:",
    "char_count": 88
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 16,
    "content": "- `client_profiles`: This table stores the unique `referral_link_token` for each client.\n- `affiliate_commissions`: This table (or a similar one) would be used to track the commissions earned by clients from their referrals. The current implementation uses mock data.",
    "char_count": 267
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 17,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 18,
    "content": "The user interface consists of:",
    "char_count": 31
  },
  {
    "file_path": "SHARE_AND_EARN",
    "chunk_index": 19,
    "content": "- A header with a title and a description of the feature.\n- A section with the client's earnings and referral stats.\n- A section with the unique referral link and sharing buttons.\n- A section with the client's recent earnings history.\n- A section that explains how the feature works.",
    "char_count": 284
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266a96\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 1,
    "content": "# Sign Up Form",
    "char_count": 14
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 2,
    "content": "The `SignUpForm` component facilitates user registration within the application, allowing new users to create an account with various roles and configurations. The form has been updated to support new user types and referral mechanisms.",
    "char_count": 236
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 3,
    "content": "## Key Features",
    "char_count": 15
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 4,
    "content": "- **Referral Code Integration**: The form now checks for a `ref` query parameter in the URL to automatically associate new sign-ups with a referrer. It fetches and displays referrer information, personalizing the sign-up experience.\n- **Expanded Role Selection**: Users can select from an expanded list of roles:\n    - `Stylist`\n    - `Barber`\n    - `SuiteOwner`\n    - `Affiliate Partner`\n    - `Client Referrer`\n- **Business Type Selection for Owners**: If a user selects `SuiteOwner`, they are prompted to specify their business type (Salon, Barbershop, or Suite).\n- **Suite Professional Options**: Stylists and Barbers can indicate if they work in or own/manage a salon suite, which can influence their `role_tag` upon registration.\n- **User Authentication**: Integrates with `useAuth` for user registration and `useToast` for feedback.",
    "char_count": 839
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 5,
    "content": "## Component Usage",
    "char_count": 18
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 6,
    "content": "The `SignUpForm` is typically used on an authentication page, allowing new users to create an account.",
    "char_count": 102
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 7,
    "content": "```tsx\nimport { SignUpForm } from '@/components/auth/SignUpForm';",
    "char_count": 65
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 8,
    "content": "const AuthPage = () => {\n  const handleToggleMode = () => {\n    // Logic to switch between sign-up and sign-in forms\n    console.log('Toggle to sign-in');\n  };",
    "char_count": 159
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 9,
    "content": "return (\n    <SignUpForm onToggleMode={handleToggleMode} />\n  );\n};\n```",
    "char_count": 73
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 10,
    "content": "## Data Flow",
    "char_count": 12
  },
  {
    "file_path": "SIGN_UP_FORM",
    "chunk_index": 11,
    "content": "1.  The form initializes by checking the URL for a referral code. If found, it fetches referrer details from Supabase.\n2.  User inputs their full name, email, password, and selects their role.\n3.  Based on the selected role, additional fields like business type or suite options may appear.\n4.  Upon submission, the `handleSubmit` function calls the `signUp` method from `useAuth` with the collected user data, including the determined `role_tag` and `referralCode`.\n5.  Success or error messages are displayed using `useToast`.",
    "char_count": 529
  },
  {
    "file_path": "SRS",
    "chunk_index": 0,
    "content": "---\nid: 693f2168780636c23972247b\nrevision: 1\n---\n# Software Requirements Specification (SRS)",
    "char_count": 92
  },
  {
    "file_path": "SRS",
    "chunk_index": 1,
    "content": "**Last Updated**: November 8, 2025",
    "char_count": 34
  },
  {
    "file_path": "SRS",
    "chunk_index": 2,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "SRS",
    "chunk_index": 3,
    "content": "### 1.1 Purpose",
    "char_count": 15
  },
  {
    "file_path": "SRS",
    "chunk_index": 4,
    "content": "This document specifies the software requirements for **ClientPass**, a web-based platform designed to facilitate referrals, bookings, and collaboration among beauty professionals, including stylists, barbers, and salon suite owners. It serves as a comprehensive guide for development, testing, and project management.",
    "char_count": 318
  },
  {
    "file_path": "SRS",
    "chunk_index": 5,
    "content": "### 1.2 Scope",
    "char_count": 13
  },
  {
    "file_path": "SRS",
    "chunk_index": 6,
    "content": "The product is a responsive web application that provides the following core capabilities:",
    "char_count": 90
  },
  {
    "file_path": "SRS",
    "chunk_index": 7,
    "content": "- A referral system for stylists to earn commission by sending clients to other professionals.\n- A marketplace for temporary chair/suite rentals (\"Open Chair\").\n- Tools for managing client bookings, availability, and earnings.\n- A separate portal for affiliates to recruit users and earn commissions.\n- Administrative dashboards for managing platform content and users.",
    "char_count": 369
  },
  {
    "file_path": "SRS",
    "chunk_index": 8,
    "content": "### 1.3 Definitions",
    "char_count": 19
  },
  {
    "file_path": "SRS",
    "chunk_index": 9,
    "content": "- **Pro/Professional**: A licensed stylist or barber using the platform.\n- **Host**: A user (Pro or Suite Owner) offering their chair/space for temporary use.\n- **Referral**: The act of sending a client to another professional for a service.\n- **Open Chair**: A feature allowing a Host to list their available chair for a specific time window and commission rate.\n- **Hot Seat**: A feature for posting a last-minute, often discounted, appointment slot to a targeted audience.\n- **Coverage Mode**: A status that allows a Pro's clients to be automatically referred to other stylists when the Pro is unavailable.\n- **Trusted Network**: A user-curated list of preferred professionals for sending/receiving referrals.",
    "char_count": 712
  },
  {
    "file_path": "SRS",
    "chunk_index": 10,
    "content": "## 2. Overall Description",
    "char_count": 25
  },
  {
    "file_path": "SRS",
    "chunk_index": 11,
    "content": "### 2.1 Product Perspective",
    "char_count": 27
  },
  {
    "file_path": "SRS",
    "chunk_index": 12,
    "content": "ClientPass is a standalone, self-contained web application. It is built on a serverless architecture using Supabase for its backend, database, and authentication services. It does not depend on any other existing software systems.",
    "char_count": 230
  },
  {
    "file_path": "SRS",
    "chunk_index": 13,
    "content": "### 2.2 Product Functions",
    "char_count": 25
  },
  {
    "file_path": "SRS",
    "chunk_index": 14,
    "content": "The major functions of the system include:",
    "char_count": 42
  },
  {
    "file_path": "SRS",
    "chunk_index": 15,
    "content": "1.  **User Management**: Separate sign-up, login, and profile management for standard users (Pros, Owners) and Affiliates.\n2.  **Referral Workflow**: Creating, sending, accepting/declining, and tracking referrals with real-time countdown timers.\n3.  **Open Chair Marketplace**: Posting, viewing, and accepting Open Chair sessions.\n4.  **Live Session Management**: Real-time tracking of services and earnings during a live Open Chair session.\n5.  **Hot Seat Alerts**: Creating and broadcasting last-minute appointment availability.\n6.  **Coverage Mode Management**: Enabling/disabling coverage and managing a list of backup professionals.\n7.  **Financial Tracking**: Dashboards for viewing pending, available, and total earnings from commissions.\n8.  **Affiliate Portal**: Tools for affiliates to track their recruits and override commissions.\n9.  **Admin Panels**: Interfaces for administrators to manage Pro Deals, export user data, and monitor system health.\n10. **Quick Rebook System**: Allows clients to rebook previous appointments with one click, using AI-powered time slot suggestions.",
    "char_count": 1092
  },
  {
    "file_path": "SRS",
    "chunk_index": 16,
    "content": "### 2.3 User Characteristics",
    "char_count": 28
  },
  {
    "file_path": "SRS",
    "chunk_index": 17,
    "content": "- **Stylist/Pro**: Tech-savvy but busy professionals who need a fast, mobile-friendly interface to manage referrals and fill their schedule.\n- **Salon/Suite Owner**: Business owners who need tools to maximize the utilization of their space and track activity within their suite.\n- **Affiliate**: Marketers or influencers who need tools to track their recruitment efforts and earnings.\n- **Administrator**: Technical users responsible for platform maintenance, content management, and data analysis.",
    "char_count": 498
  },
  {
    "file_path": "SRS",
    "chunk_index": 18,
    "content": "### 2.4 Constraints",
    "char_count": 19
  },
  {
    "file_path": "SRS",
    "chunk_index": 19,
    "content": "- The application must be a responsive web app accessible on modern desktop and mobile browsers.\n- The backend infrastructure is built exclusively on Supabase.\n- All business logic must be contained within the React frontend or Supabase Edge Functions.\n- Payment processing is handled via Stripe (simulated in the current build).",
    "char_count": 329
  },
  {
    "file_path": "SRS",
    "chunk_index": 20,
    "content": "## 3. Specific Requirements",
    "char_count": 27
  },
  {
    "file_path": "SRS",
    "chunk_index": 21,
    "content": "### 3.1 Functional Requirements",
    "char_count": 31
  },
  {
    "file_path": "SRS",
    "chunk_index": 22,
    "content": "#### 3.1.1 User Authentication",
    "char_count": 30
  },
  {
    "file_path": "SRS",
    "chunk_index": 23,
    "content": "- **REQ-101**: Users shall be able to sign up with an email and password.\n- **REQ-102**: Users shall be able to select a role during sign-up (e.g., Stylist, Suite Owner, Affiliate).\n- **REQ-103**: Affiliates shall use a separate authentication portal from standard users.\n- **REQ-104**: Users shall be able to log in and log out.",
    "char_count": 329
  },
  {
    "file_path": "SRS",
    "chunk_index": 24,
    "content": "#### 3.1.2 Referral Management",
    "char_count": 30
  },
  {
    "file_path": "SRS",
    "chunk_index": 25,
    "content": "- **REQ-201**: A Pro shall be able to create a referral for a client, specifying the service, estimated price, and commission percentage (15-25%).\n- **REQ-202**: The system shall find a suitable, available Pro to receive the referral, prioritizing the sender's Trusted Network.\n- **REQ-203**: The receiving Pro shall be notified and have a 10-minute window to accept or decline.\n- **REQ-204**: If a referral is declined or expires, the system shall automatically reassign it to the next available Pro.\n- **REQ-205**: Upon completion of a referred service, the system shall calculate and record the commission for the sender.\n- **REQ-206**: The system shall support an auto-pass feature for referrals, allowing Pros to automatically pass referrals under certain conditions.",
    "char_count": 772
  },
  {
    "file_path": "SRS",
    "chunk_index": 26,
    "content": "#### 3.1.3 Open Chair",
    "char_count": 21
  },
  {
    "file_path": "SRS",
    "chunk_index": 27,
    "content": "- **REQ-301**: A Host shall be able to post an Open Chair listing, specifying a location, time window, allowed services, and a host commission rate (15-25%).\n- **REQ-302**: A Pro shall be able to view and accept an available Open Chair.\n- **REQ-303**: Once a Pro accepts, they must check in to begin a \"Live Session\".\n- **REQ-304**: During a Live Session, all services performed by the visiting Pro shall be tracked.\n- **REQ-305**: Upon ending the session, the system shall calculate the host's commission from the total revenue and settle the earnings.",
    "char_count": 553
  },
  {
    "file_path": "SRS",
    "chunk_index": 28,
    "content": "#### 3.1.4 Hot Seat",
    "char_count": 19
  },
  {
    "file_path": "SRS",
    "chunk_index": 29,
    "content": "- **REQ-401**: A Pro shall be able to post a Hot Seat alert for a last-minute opening.\n- **REQ-402**: The Hot Seat form shall allow specifying the service, price (original and discounted), time, and target audience (e.g., favorites, all local clients).\n- **REQ-403**: The system shall send instant alerts to the selected audience.",
    "char_count": 330
  },
  {
    "file_path": "SRS",
    "chunk_index": 30,
    "content": "#### 3.1.5 Profile & Network Management",
    "char_count": 39
  },
  {
    "file_path": "SRS",
    "chunk_index": 31,
    "content": "- **REQ-501**: A Pro shall be able to set up their public profile, including a photo, bio, location, and list of services with prices.\n- **REQ-502**: A Pro shall be able to add other professionals to their Trusted Network.\n- **REQ-503**: After two completed collaborations, the system shall auto-suggest adding the other professional to the user's Trusted Network.",
    "char_count": 364
  },
  {
    "file_path": "SRS",
    "chunk_index": 32,
    "content": "#### 3.1.6 Admin Panels",
    "char_count": 23
  },
  {
    "file_path": "SRS",
    "chunk_index": 33,
    "content": "- **REQ-601**: The system shall provide a Master Admin Console accessible only to users with 'admin' or 'super_admin' roles.\n- **REQ-602**: The Admin Console shall include a global dashboard displaying key metrics for users, revenue, and platform activity.\n- **REQ-603**: Admins shall be able to manage feature flags, enabling or disabling features across the platform.\n- **REQ-604**: Admins shall have a user management interface to view, search, and edit user profiles, including changing roles and membership tiers.\n- **REQ-605**: Admins shall be able to manage business onboarding applications, with functionality to approve or deny them.\n- **REQ-606**: Admins shall have access to a settings panel to configure platform-wide parameters like fees, commission rates, and feature limits.\n- **REQ-607**: The console shall provide a monitoring tool for all referral, Open Chair, and Hot Seat activities.\n- **REQ-608**: Admins shall be able to manage notification templates for all system-generated communications.\n- **REQ-609**: The system shall provide a data export feature for admins to download datasets (e.g., users, payments) as CSV files.\n- **REQ-610**: A comprehensive, searchable audit log shall record all actions performed by administrators.\n- **REQ-611**: Admins shall have the ability to impersonate a user's account for support and troubleshooting purposes.",
    "char_count": 1371
  },
  {
    "file_path": "SRS",
    "chunk_index": 34,
    "content": "#### 3.1.7 AI-Powered Features",
    "char_count": 30
  },
  {
    "file_path": "SRS",
    "chunk_index": 35,
    "content": "- **REQ-701**: The system shall provide an AI Gateway that abstracts multiple AI providers (Google Gemini, OpenAI GPT-5, Anthropic Claude 4.5, Ollama).\n- **REQ-702**: Admins shall be able to configure AI providers, models, and system prompts through an AI Configuration interface.\n- **REQ-703**: The system shall support dynamic switching between AI providers without requiring application restart.\n- **REQ-704**: The intelligent matching system shall use LLM analysis to consider stylist specialty, experience level, client history, and preferences.\n- **REQ-705**: The system shall provide personalized service and product recommendations based on user history and preferences.\n- **REQ-706**: The system shall automatically analyze and summarize reviews using sentiment analysis.\n- **REQ-707**: The system shall offer AI-assisted profile bio generation for professionals who need help with content creation.\n- **REQ-708**: The system shall provide a natural language booking assistant for scheduling and inquiries.\n- **REQ-709**: All AI operations shall be logged in an audit trail including provider, model, tokens used, cost, and latency.\n- **REQ-710**: The system shall support vector embeddings for semantic search and similarity matching across profiles and services.",
    "char_count": 1273
  },
  {
    "file_path": "SRS",
    "chunk_index": 36,
    "content": "#### 3.1.8 Service Catalog Management",
    "char_count": 37
  },
  {
    "file_path": "SRS",
    "chunk_index": 37,
    "content": "- **REQ-801**: The system shall maintain a centralized service catalog with standardized service definitions.\n- **REQ-802**: Admins shall be able to create, edit, and deactivate services in the global catalog.\n- **REQ-803**: Services shall be organized using a hierarchical taxonomy (Categories → Subcategories → Service Types).\n- **REQ-804**: Each catalog service shall include name, description, typical duration, typical price range, and consultation requirements.\n- **REQ-805**: Professionals shall select services from the catalog to add to their profile rather than creating custom services.\n- **REQ-806**: The system shall provide a ServiceTaxonomySelector component for intuitive hierarchical service selection.\n- **REQ-807**: Service selection interfaces shall auto-populate pricing and duration from the catalog.\n- **REQ-808**: The system shall support bulk operations for managing multiple services efficiently.",
    "char_count": 922
  },
  {
    "file_path": "SRS",
    "chunk_index": 38,
    "content": "#### 3.1.9 Referral Adjustments",
    "char_count": 31
  },
  {
    "file_path": "SRS",
    "chunk_index": 39,
    "content": "- **REQ-901**: Professionals and clients shall be able to request modifications to referrals after creation.\n- **REQ-902**: Adjustable fields shall include services, pricing, and estimated duration.\n- **REQ-903**: All adjustments shall require a reason/justification from the requestor.\n- **REQ-904**: The system shall validate adjustments against predefined acceptable ranges.\n- **REQ-905**: Minor adjustments within thresholds shall be auto-approved immediately.\n- **REQ-906**: Major adjustments exceeding thresholds shall require manual approval from appropriate parties.\n- **REQ-907**: The system shall recalculate fees and commissions in real-time when adjustments are proposed.\n- **REQ-908**: All adjustments shall be logged in an audit trail with timestamp, requester, approver, and reason.\n- **REQ-909**: Both parties shall be notified when an adjustment is requested, approved, or declined.\n- **REQ-910**: The adjustment interface shall display before/after comparison of all affected values.",
    "char_count": 1001
  },
  {
    "file_path": "SRS",
    "chunk_index": 40,
    "content": "#### 3.1.10 Quick Rebook System",
    "char_count": 31
  },
  {
    "file_path": "SRS",
    "chunk_index": 41,
    "content": "- **REQ-1001**: Clients shall be able to rebook previous appointments with one click from their booking history.\n- **REQ-1002**: The rebook interface shall pre-fill information from the previous appointment (professional, services, location).\n- **REQ-1003**: The system shall provide AI-powered time slot suggestions based on the client's booking patterns.\n- **REQ-1004**: Clients shall be able to modify services during the rebook process if needed.\n- **REQ-1005**: The system shall validate professional availability before confirming the rebook.\n- **REQ-1006**: Professionals shall receive rebook requests in a BookDrawer interface with quick accept/decline actions.\n- **REQ-1007**: Professionals shall be able to propose alternative times if the requested slot is unavailable.\n- **REQ-1008**: The system shall maintain a complete booking history for all users.\n- **REQ-1009**: Users shall be able to set rebook preferences including default services, preferred times, and notification settings.\n- **REQ-1010**: The system shall track which bookings are rebooks to analyze retention and loyalty metrics.",
    "char_count": 1106
  },
  {
    "file_path": "SRS",
    "chunk_index": 42,
    "content": "### 3.2 Non-Functional Requirements",
    "char_count": 35
  },
  {
    "file_path": "SRS",
    "chunk_index": 43,
    "content": "- **PERF-01**: Referral notification and timer updates must appear in near real-time (< 5-second delay).\n- **PERF-02**: AI operations shall complete within 5 seconds for chat completions and 10 seconds for embeddings.\n- **PERF-03**: Service catalog searches shall return results within 1 second.\n- **SEC-01**: All user data, especially PII and financial information, must be accessible only by authorized users, enforced by Supabase Row Level Security (RLS).\n- **SEC-02**: Password storage and authentication must be handled securely by Supabase Auth.\n- **SEC-03**: AI provider API keys shall be encrypted at rest and never exposed to client-side code.\n- **SEC-04**: User data sent to AI providers shall be minimized and anonymized where possible.\n- **USAB-01**: The user interface must be intuitive and optimized for mobile-first use.\n- **USAB-02**: AI-generated content shall be clearly labeled as AI-assisted.\n- **USAB-03**: Service selection interfaces shall use progressive disclosure to avoid overwhelming users.\n- **REL-01**: The system should maintain high availability. Edge function failures should be logged and handled gracefully.\n- **REL-02**: AI provider failures shall fall back to default behavior without breaking core functionality.\n- **MAINT-01**: AI configurations shall be hot-reloadable without requiring application restart.\n- **MAINT-02**: All schema changes shall be managed through versioned migrations.",
    "char_count": 1429
  },
  {
    "file_path": "SRS",
    "chunk_index": 44,
    "content": "### 3.3 Interface Requirements",
    "char_count": 30
  },
  {
    "file_path": "SRS",
    "chunk_index": 45,
    "content": "- **UI-01**: The application shall be a web-based graphical user interface (GUI) rendered in standard web browsers.\n- **API-01**: The frontend shall communicate with the backend via the Supabase client library, which uses a combination of RESTful API calls (PostgREST) and WebSocket connections for real-time updates.\n- **API-02**: Serverless Edge Functions shall be invoked via HTTPS requests from the client.",
    "char_count": 410
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 0,
    "content": "---\nid: 693f2168eea2ab119cf7cb1a\nrevision: 1\n---\n# Stylist Profile",
    "char_count": 66
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Stylist Profile feature.",
    "char_count": 77
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 3,
    "content": "The Stylist Profile page allows clients and other professionals to view a stylist's professional information, services, portfolio, and reviews. It serves as a digital resume and marketing tool for stylists on the ClientPass platform.",
    "char_count": 233
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 4,
    "content": "The page is implemented in the `StylistProfile.tsx` page, which wraps the `StylistProfile` component.",
    "char_count": 101
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 5,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 6,
    "content": "### 2.1. Profile Header",
    "char_count": 23
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 7,
    "content": "-   **Stylist Information:** Displays the stylist's name, profile picture, and membership tier (e.g., \"PRO\").\n-   **Availability Status:** Indicates if the stylist is currently available (e.g., \"Available Now\").\n-   **Rating and Reviews:** Shows the average rating and the total number of reviews received.\n-   **Location and Join Date:** Displays the stylist's business location and the year they joined ClientPass.\n-   **Contact and Referral Options:** Buttons to \"Contact\" the stylist or \"Send Referral\" to them.",
    "char_count": 515
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 8,
    "content": "### 2.2. Services Offered",
    "char_count": 25
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 9,
    "content": "-   **Detailed Service List:** A comprehensive list of all services offered by the stylist, including:\n    -   Service name and description.\n    -   Price and estimated duration.\n    -   Category (e.g., \"Haircuts\", \"Coloring\").",
    "char_count": 227
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 10,
    "content": "### 2.3. Portfolio",
    "char_count": 18
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 11,
    "content": "-   **Visual Showcase:** A gallery section to showcase the stylist's work through images. (Note: This feature is marked as \"Coming Soon\" in the setup page, but the profile page is designed to display it).",
    "char_count": 204
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 12,
    "content": "### 2.4. Reviews and Ratings",
    "char_count": 28
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 13,
    "content": "-   **Client Feedback:** Displays a list of reviews and ratings provided by clients.\n-   **Detailed Reviews:** Each review includes the rating score, comments, and the date it was posted.\n-   **Sentiment Analysis (Future Enhancement):** Could potentially integrate AI to summarize review sentiment.",
    "char_count": 298
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 14,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 15,
    "content": "The Stylist Profile feature interacts with the following tables in the Supabase database:",
    "char_count": 89
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 16,
    "content": "-   `users`: Stores the stylist's basic profile information (name, photo, membership tier, location, etc.).\n-   `ratings`: Stores the ratings and reviews given to the stylist.\n-   `services`: Stores the services offered by the stylist.\n-   `service_categories`: Stores the categories for the services.",
    "char_count": 301
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 17,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 18,
    "content": "The Stylist Profile page features a clean and professional layout:",
    "char_count": 66
  },
  {
    "file_path": "STYLIST_PROFILE",
    "chunk_index": 19,
    "content": "-   A header with the application name and \"Stylist Profile\" title.\n-   A main content area organized into cards for Profile Header, Services, Portfolio, and Reviews.",
    "char_count": 167
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 0,
    "content": "---\nid: 693f2168a8465b8d8efdba30\nrevision: 1\n---\n# Stylist Profile Setup",
    "char_count": 72
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Stylist Profile Setup feature.",
    "char_count": 83
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 3,
    "content": "The Stylist Profile Setup page allows professional users to create and manage their comprehensive stylist profile. This profile is crucial for attracting clients, managing services, and configuring commission settings.",
    "char_count": 218
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 4,
    "content": "The page is implemented in the `StylistProfileSetupPage.tsx` page, which wraps the `StylistProfileSetup` component.",
    "char_count": 115
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 5,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 6,
    "content": "### 2.1. Profile Photo Upload",
    "char_count": 29
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 7,
    "content": "-   Stylists can upload a professional photo to their profile.\n-   The system provides a user-friendly interface for photo selection and preview.",
    "char_count": 145
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 8,
    "content": "### 2.2. Basic Information",
    "char_count": 26
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 9,
    "content": "-   Stylists can enter and update their basic personal and business information, including:\n    -   Full Name\n    -   Phone Number\n    -   Business Location (e.g., salon name or address)\n    -   City, State, and ZIP Code\n    -   Professional Bio",
    "char_count": 245
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 10,
    "content": "### 2.3. Service & Pricing Manager",
    "char_count": 34
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 11,
    "content": "-   Integrated `ServiceManager` component for comprehensive service configuration:\n    -   Add, edit, and delete services offered.\n    -   Set custom pricing and duration for each service.\n    -   Categorize services for better organization and client discoverability.",
    "char_count": 268
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 12,
    "content": "### 2.4. Commission Settings",
    "char_count": 28
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 13,
    "content": "-   Stylists can configure their default commission rates for various scenarios:\n    -   **Referral Commission:** The percentage earned when sending a client to another stylist.\n    -   **Coverage Commission:** The percentage earned when another stylist covers their clients.\n    -   **Open Chair Commission (Host %):** The percentage earned as a host when renting out their chair.\n-   These settings are managed via interactive sliders with defined ranges (e.g., 15-25%).",
    "char_count": 472
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 14,
    "content": "### 2.5. Portfolio & Gallery (Coming Soon)",
    "char_count": 42
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 15,
    "content": "-   A dedicated section for stylists to showcase their work through images.\n-   This feature is planned for future development, allowing stylists to build a visual portfolio.",
    "char_count": 174
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 16,
    "content": "### 2.6. My Network",
    "char_count": 19
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 17,
    "content": "-   Integration with the `TrustedNetwork` component, allowing stylists to manage their professional network.\n-   This enables collaboration and referral opportunities within a trusted circle.",
    "char_count": 191
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 18,
    "content": "### 2.7. Enable Suite Tools",
    "char_count": 27
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 19,
    "content": "-   For stylists who are also salon suite owners, there's an option to enable \"Suite Tools\".\n-   Activating this feature updates their profile to `suite_owner` and unlocks specialized suite management functionalities.",
    "char_count": 217
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 20,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 21,
    "content": "The Stylist Profile Setup feature interacts with the `users` table (for profile data and commission settings) and the `services` and `service_categories` tables (for service management) in the Supabase database.",
    "char_count": 211
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 22,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 23,
    "content": "The Stylist Profile Setup page is organized into a tabbed interface for easy navigation:",
    "char_count": 88
  },
  {
    "file_path": "STYLIST_PROFILE_SETUP",
    "chunk_index": 24,
    "content": "-   **Basic Info:** For personal and business details.\n-   **Services:** For managing services and commission settings.\n-   **Portfolio:** For showcasing work (coming soon).\n-   **My Network:** For managing trusted professional connections.\n-   A sticky footer with a \"Save Profile\" button to persist changes.",
    "char_count": 309
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 0,
    "content": "---\nid: 693f216807e855077de211b6\nrevision: 1\n---\n# Suite Dashboard",
    "char_count": 66
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Suite Dashboard, designed for salon suite owners and managers. It serves as a central hub for managing suite operations, stylists, open chairs, and in-suite referrals.",
    "char_count": 220
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 3,
    "content": "The Suite Dashboard offers a comprehensive set of tools and insights for suite owners to efficiently manage their business. It helps in maximizing occupancy, streamlining operations, and fostering a collaborative environment among stylists.",
    "char_count": 240
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 4,
    "content": "The dashboard is implemented in the `SuiteOwnerDashboard.tsx` component.",
    "char_count": 72
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 5,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 6,
    "content": "### 2.1. Suite Overview",
    "char_count": 23
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 7,
    "content": "-   **Performance Summary:** Provides a high-level summary of the suite's key performance indicators (KPIs), such as current occupancy rate, upcoming vacancies, and overall revenue.\n-   **Quick Insights:** Offers quick access to important metrics and alerts related to the suite's operation.",
    "char_count": 291
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 8,
    "content": "### 2.2. Stylist Management",
    "char_count": 27
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 9,
    "content": "-   **Stylist Directory:** Allows suite owners to view and manage the profiles of stylists operating within their suite.\n-   **Onboarding:** Facilitates the onboarding process for new stylists joining the suite.\n-   **Communication Tools:** Provides tools for communicating with stylists within the suite.",
    "char_count": 305
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 10,
    "content": "### 2.3. Open Chair Management",
    "char_count": 30
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 11,
    "content": "-   **Post Open Chair:** Enables suite owners to post available chairs or rooms in their suite for other professionals to use. This helps in filling vacant slots and generating additional income.\n-   **View Open Chairs:** Owners can view a list of all their active and past open chair postings, including their status and expiration.",
    "char_count": 333
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 12,
    "content": "### 2.4. In-Suite Referrals",
    "char_count": 27
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 13,
    "content": "-   **Facilitated Connections:** Streamlines the process of connecting clients with available professionals within the suite.\n-   **Tracking:** Provides mechanisms to track the status and success of referrals made within the suite.\n-   **Commission Management:** Helps in managing commission splits for in-suite referrals.",
    "char_count": 322
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 14,
    "content": "## 3. User Interface",
    "char_count": 20
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 15,
    "content": "The Suite Dashboard features a clean and intuitive user interface:",
    "char_count": 66
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 16,
    "content": "-   A header with the ClientPass logo and navigation options.\n-   A main content area that displays various cards and widgets for suite management.\n-   Sections for different management tasks, such as stylist management and open chair management.",
    "char_count": 246
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 17,
    "content": "## 4. Benefits",
    "char_count": 14
  },
  {
    "file_path": "SUITE_DASHBOARD",
    "chunk_index": 18,
    "content": "-   **Maximized Occupancy:** Tools to efficiently fill vacant chairs and suites.\n-   **Streamlined Operations:** Centralized management of stylists and referrals reduces administrative overhead.\n-   **Increased Profitability:** Optimizes revenue generation through efficient space utilization and referral tracking.\n-   **Collaborative Environment:** Fosters a sense of community and collaboration among stylists within the suite.",
    "char_count": 430
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 0,
    "content": "---\nid: 693f2168431945b24a8d7803\nrevision: 1\n---\n# Suite Tools",
    "char_count": 62
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Suite Tools feature, designed specifically for salon suite owners and managers.",
    "char_count": 132
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 3,
    "content": "Suite Tools are a comprehensive set of features enabling salon suite owners and managers to efficiently oversee their suite operations. This includes managing chair availability, facilitating in-suite referrals, and gaining insights into suite performance. These tools are crucial for maximizing space utilization, fostering a collaborative environment, and enhancing profitability.",
    "char_count": 382
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 4,
    "content": "The feature is primarily implemented within the `SuiteTools.tsx` component, which is accessed via the `SuiteToolsPage.tsx`.",
    "char_count": 123
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 5,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 6,
    "content": "### 2.1. Enable Suite Tools",
    "char_count": 27
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 7,
    "content": "-   **Activation:** Salon suite owners can activate these specialized tools from their `StylistProfileSetup` page.\n-   **Role Update:** Enabling Suite Tools updates the owner's profile to reflect their role as a suite owner, unlocking access to all associated features.",
    "char_count": 269
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 8,
    "content": "### 2.2. Open Chair Management",
    "char_count": 30
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 9,
    "content": "This section provides tools for managing the availability of chairs within the suite.",
    "char_count": 85
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 10,
    "content": "-   **Post Open Chair:**\n    -   Allows owners to define when and where a chair is available.\n    -   Specify service types a visiting professional can offer.\n    -   Set commission percentages for the chair provider.\n    -   Manage capacity by specifying the number of available seats.\n    -   Target audience selection: broadcast to a trusted network or all nearby professionals.\n    -   Option to post an open chair specifically for a waiting walk-in client, including service type and price.\n-   **View Open Chairs:** Owners can view a list of all their active and past open chair postings, including their status and expiration.",
    "char_count": 633
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 11,
    "content": "### 2.3. In-Suite Referrals",
    "char_count": 27
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 12,
    "content": "This feature streamlines the process of managing referrals within the suite environment.",
    "char_count": 88
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 13,
    "content": "-   **Facilitated Connections:** Allows suite owners to connect their clients with available professionals within their own suite.\n-   **Tracking:** Provides mechanisms to track the status and success of referrals made within the suite.\n-   **Commission Management:** Helps in managing commission splits for in-suite referrals.",
    "char_count": 327
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 14,
    "content": "### 2.4. Suite Analytics",
    "char_count": 24
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 15,
    "content": "This section provides valuable insights into the suite's performance.",
    "char_count": 69
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 16,
    "content": "-   **Occupancy Rates:** Track the occupancy rate of chairs and suites over time.\n-   **Referral Performance:** Analyze the success rate and revenue generated from in-suite referrals.\n-   **Stylist Performance:** Gain insights into the performance of individual stylists within the suite.",
    "char_count": 288
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 17,
    "content": "## 3. Enabling Suite Tools",
    "char_count": 26
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 18,
    "content": "Suite owners can enable these features from their profile setup:",
    "char_count": 64
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 19,
    "content": "```tsx\n// src/components/stylist/StylistProfileSetup.tsx\nconst handleEnableSuiteTools = async () => {\n  setLoading(true);\n  try {\n    const { error } = await updateProfile({ suite_owner: true, role_tag: 'suite_owner' });\n    if (error) throw error as any;\n    toast({ title: 'Suite Tools enabled', description: 'You can now manage suite features.' });\n    navigate('/suite-tools'); // Redirect to suite management dashboard\n  } catch (err: any) {\n    toast({ title: 'Enable failed', description: err?.message || 'Could not enable Suite Tools', variant: 'destructive' });\n  }\n} finally {\n  setLoading(false);\n};\n```",
    "char_count": 614
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 20,
    "content": "## 4. Posting an Open Chair",
    "char_count": 27
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 21,
    "content": "The `PostOpenChairForm` component is used to create and manage open chair listings. It ensures that all necessary details are captured for a successful match between a suite owner and a visiting professional.",
    "char_count": 208
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 22,
    "content": "```tsx\nimport { PostOpenChairForm } from '@/components/open-chair/PostOpenChairForm';",
    "char_count": 85
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 23,
    "content": "const SuiteDashboard = () => {\n  return (\n    <PostOpenChairForm onSuccess={() => console.log('Open Chair posted successfully!')} />\n  );\n};\n```",
    "char_count": 144
  },
  {
    "file_path": "SUITE_TOOLS",
    "chunk_index": 24,
    "content": "This system streamlines the process of filling vacant chairs, providing flexibility for both suite owners and independent professionals seeking temporary workspace.",
    "char_count": 165
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 0,
    "content": "---\nid: 693f2168738b45ea67ad1ba2\nrevision: 1\n---\n# System Design Document",
    "char_count": 73
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 1,
    "content": "**Last Updated**: November 8, 2025",
    "char_count": 34
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 2,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 3,
    "content": "### 1.1 Purpose",
    "char_count": 15
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 4,
    "content": "This document provides a detailed system design for the ClientPass application. It expands on the **Software Requirements Specification (SRS)** by detailing the technical implementation of each requirement, including the components, data models, and functions involved. It is intended for the development team to use as a guide for implementation.",
    "char_count": 347
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 5,
    "content": "### 1.2 Scope",
    "char_count": 13
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 6,
    "content": "This document covers the detailed design of the frontend and backend components required to meet the functional and non-functional requirements outlined in the SRS.",
    "char_count": 164
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 7,
    "content": "## 2. System Architecture",
    "char_count": 25
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 8,
    "content": "The overall system architecture is described in the **Software Architecture Document (SAD.md)** and the **Architecture Overview (ARCHITECTURE.md)**. This document will focus on the design of the specific modules and components within that architecture.",
    "char_count": 252
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 9,
    "content": "## 3. Detailed Functional Design",
    "char_count": 32
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 10,
    "content": "This section breaks down the functional requirements from the SRS into their constituent design elements.",
    "char_count": 105
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 11,
    "content": "### 3.1 User Authentication & Onboarding",
    "char_count": 40
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 12,
    "content": "Corresponds to SRS Section 3.1.1.",
    "char_count": 33
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 13,
    "content": "- **Frontend Components**:\n  - `SignUpForm.tsx`: Handles user registration.\n  - `LoginForm.tsx`: Handles user login.\n  - `useAuthStore.ts`: A Zustand store to manage global authentication state, user profile, and session information.\n- **Data Models**:\n  - `public.users`: The primary table for user profile data.\n  - `auth.users`: Supabase's built-in table for authentication credentials.\n  - `public.docs_users`: For documentation site access.\n  - `public.docs_invites`: For invitation-only access to the documentation site.\n- **Edge Functions**:\n  - `upsert-profile`: Called after sign-up to create a corresponding profile in the `users` table.\n  - `send-doc-invite`: For admins to send email invitations to the documentation site.\n- **User Flow**:\n  1.  A new user signs up using the `SignUpForm`.\n  2.  Supabase Auth handles the email verification process.\n  3.  Upon first login, the `upsert-profile` function is triggered to create a user record.\n  4.  The user's session and profile are stored in the `useAuthStore`.",
    "char_count": 1024
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 14,
    "content": "### 3.2 Referral Management",
    "char_count": 27
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 15,
    "content": "Corresponds to SRS Section 3.1.2.",
    "char_count": 33
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 16,
    "content": "- **Frontend Components**:\n  - `ReferralForm.tsx`: A form for creating and sending a new referral.\n  - `ReferralCard.tsx`: A component to display the status and details of a referral.\n  - `CountdownTimer.tsx`: A component to show the real-time expiration timer for a pending referral.\n- **Data Models**:\n  - `public.referrals`: The central table for all referral data, now includes `service_id` to support the new service taxonomy.\n  - `public.users`: To link senders and receivers.\n  - `public.services`: To specify the service being referred.\n- **Edge Functions**:\n  - `send-referral`: The primary function for initiating a referral. It finds a suitable receiver and creates the referral record.\n  - `reassign-referral`: Triggered when a referral is declined or expires, to find the next available professional.\n  - `inbox-action`: Handles the \"accept\" or \"decline\" actions from the receiver.\n- **User Flow**:\n  1.  A stylist fills out the `ReferralForm`.\n  2.  The `send-referral` function is invoked.\n  3.  The system identifies a receiver and creates a `referrals` record with a `pending` status.\n  4.  The receiver is notified in real-time (via Supabase Realtime) and sees the referral in their inbox with a `CountdownTimer`.\n  5.  The receiver accepts or declines via the `inbox-action` function.",
    "char_count": 1303
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 17,
    "content": "### 3.3 Open Chair Marketplace",
    "char_count": 30
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 18,
    "content": "Corresponds to SRS Section 3.1.3.",
    "char_count": 33
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 19,
    "content": "- **Frontend Components**:\n  - `PostOpenChairForm.tsx`: A form for hosts to list their available chair.\n  - `OpenChairAlerts.tsx`: A view for stylists to browse and accept open chairs.\n  - `LiveSessionCard.tsx`: A dashboard component that appears during a live session.\n- **Data Models**:\n  - `public.open_chairs`: Stores all data related to open chair listings.\n  - `public.referrals`: Bookings made into an open chair are linked via the `open_chair_id`.\n  - `public.users`: To link hosts and visiting stylists.\n- **Edge Functions**:\n  - `post-open-chair`: Creates a new `open_chairs` listing.\n  - `accept-open-chair`: Allows a stylist to initiate the acceptance of an open chair.\n  - `confirm-open-chair`: Confirms the acceptance within a time window.\n  - `check-in-open-chair`: Starts the \"live\" session.\n  - `end-open-chair-session`: Ends the session and triggers settlement.\n  - `settle-open-chair-commission`: Calculates and records the commission splits.",
    "char_count": 961
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 20,
    "content": "### 3.4 Hot Seat (Flash Sales)",
    "char_count": 30
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 21,
    "content": "Corresponds to SRS Section 3.1.4.",
    "char_count": 33
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 22,
    "content": "- **Frontend Components**:\n  - `PostHotSeatForm.tsx`: A form for creating a \"Hot Seat\" alert.\n  - `HotSeatCard.tsx`: A component to display a Hot Seat offer.\n- **Data Models**:\n  - `public.hot_seats`: Stores all data for Hot Seat offers.\n  - `public.users`: To link the stylist posting the offer.\n  - `public.services`: To specify the service offered.\n- **Edge Functions**:\n  - `post-hot-seat` (to be created): Will handle the creation of a new `hot_seats` record and send notifications to the target audience.\n  - `claim-hot-seat` (to be created): Will allow a client to claim the offer, updating the status and notifying the stylist.",
    "char_count": 635
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 23,
    "content": "### 3.5 Profile & Network Management",
    "char_count": 36
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 24,
    "content": "Corresponds to SRS Section 3.1.5.",
    "char_count": 33
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 25,
    "content": "- **Frontend Components**:\n  - `ProfileForm.tsx`: A form for users to edit their public profile.\n  - `ServiceManager.tsx`: A CRUD interface for professionals to manage their services.\n  - `TrustedNetwork.tsx`: A UI for managing a user's trusted partners.\n- **Data Models**:\n  - `public.users`: Stores the user's profile information.\n  - `public.services`: Stores the services offered by each professional.\n  - `public.trusted_network`: Manages the many-to-many relationships between users and their trusted partners.\n  - `public.auto_suggest_tracking`: Tracks interactions to power the auto-suggest feature.\n- **Edge Functions**:\n  - `upsert-profile`: Creates or updates a user's profile.\n  - `send-trusted-invite`: Sends an email invitation to join a user's trusted network.\n  - `complete-referral-tracking`: Increments the interaction count in `auto_suggest_tracking` after a successful collaboration.",
    "char_count": 903
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 26,
    "content": "### 3.6 AI Gateway & Intelligent Features",
    "char_count": 41
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 27,
    "content": "Corresponds to new AI-powered capabilities added in 2025.",
    "char_count": 57
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 28,
    "content": "- **Frontend Components**:\n  - `AIConfiguration.tsx`: Admin interface for configuring AI providers and system prompts\n  - AI Hooks: `useAIChat`, `useAIEmbedding`, `useAIStream` for consuming AI services\n- **Data Models**:\n  - `public.ai_usage_tracking`: Logs AI API calls for monitoring and cost tracking\n  - `public.ai_configurations`: Stores provider settings and system prompts\n- **AI Gateway (`src/lib/aiGateway.ts`)**:\n  - Provider abstraction layer supporting Google Gemini, OpenAI GPT-5, Anthropic Claude 4.5, Ollama\n  - Unified API for chat completions, embeddings, and streaming\n  - Dynamic configuration with hot-reload capability\n  - Error handling and retry logic\n- **Use Cases**:\n  - **Intelligent Matching**: Enhanced auto-match using LLM analysis of stylist specialties and client preferences\n  - **Smart Recommendations**: Personalized service and product suggestions based on history\n  - **Review Analysis**: Automated sentiment analysis and summary generation\n  - **Content Generation**: Auto-generated bios and marketing content\n  - **Natural Language Processing**: Chatbot for booking assistance",
    "char_count": 1115
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 29,
    "content": "### 3.7 Service Catalog System",
    "char_count": 30
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 30,
    "content": "Corresponds to centralized service management added in 2025.",
    "char_count": 60
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 31,
    "content": "- **Frontend Components**:\n  - `AdminServiceCatalog.tsx`: Admin interface for managing the global service catalog\n  - `ServiceTaxonomySelector.tsx`: Hierarchical service selection interface\n  - `EnhancedServiceSelector.tsx`: Improved service selection with taxonomy navigation\n- **Data Models**:\n  - `public.service_catalog`: Centralized repository of all platform services\n    - Fields: `id`, `name`, `category`, `subcategory`, `description`, `base_price`, `duration`, `status`, `price_cents`, `duration_minutes`, `deposit_pct`\n  - `public.service_taxonomy`: Hierarchical categorization structure\n    - Categories (Hair, Nails, Skincare, etc.)\n    - Subcategories (Color, Cuts, Extensions, etc.)\n    - Service Types (Balayage, Full Highlights, etc.)\n- **Library**: `src/lib/serviceTaxonomy.ts` - Taxonomy management utilities\n- **Edge Functions**:\n  - `manage-service-catalog`: CRUD operations for service catalog\n  - `sync-user-services`: Sync individual stylist services with catalog\n- **User Flow**:\n  1.  Admin defines services in catalog with standardized taxonomy\n  2.  Professionals select applicable services from catalog for their profile\n  3.  Clients browse and select services using intuitive category navigation\n  4.  Booking forms auto-populate pricing and duration from catalog",
    "char_count": 1293
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 32,
    "content": "### 3.8 Referral Adjustment System",
    "char_count": 34
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 33,
    "content": "Corresponds to post-creation referral modifications added in 2025.",
    "char_count": 66
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 34,
    "content": "- **Frontend Components**:\n  - `AdjustReferralModal.tsx`: Interface for modifying referral details\n  - `EnhancedAdjustServiceModal.tsx`: Improved modal with real-time calculations\n- **Data Models**:\n  - `public.referral_adjustments`: Audit log of all referral modifications\n    - Fields: `referral_id`, `adjustment_type`, `old_value`, `new_value`, `reason`, `approved_by`, `timestamp`\n  - `public.referrals`: Extended with `adjustment_status` and `last_adjusted_at` fields\n  - `public.service_adjustment_audit`: Immutable log for service adjustments\n- **Library**: `src/lib/serviceAdjustmentCalculator.ts` - Adjustment calculation utilities\n- **Edge Functions**:\n  - `adjust-referral`: Processes referral modification requests\n  - `auto-confirm-adjustments`: Automatically approves minor changes within thresholds\n  - `calculate-adjustment-impact`: Computes fee and commission changes\n- **User Flow**:\n  1.  Pro or client requests service/price/duration adjustment\n  2.  `AdjustReferralModal` displays current details and adjustment form\n  3.  System validates adjustment against predefined rules\n  4.  Minor adjustments auto-approved; major adjustments require manual approval\n  5.  Fees and commissions recalculated in real-time\n  6.  Adjustment logged in audit trail\n  7.  Both parties notified of changes",
    "char_count": 1308
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 35,
    "content": "### 3.9 Quick Rebook System",
    "char_count": 27
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 36,
    "content": "Corresponds to streamlined rebooking functionality added in 2025.",
    "char_count": 65
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 37,
    "content": "- **Frontend Components**:\n  - `QuickRebook.tsx`: One-click rebooking interface\n  - `BookDrawer.tsx`: Professional's booking management drawer\n  - `EnhancedRebookForm.tsx`: Improved rebooking form with service catalog integration\n- **Data Models**:\n  - `public.booking_history`: Complete record of past appointments\n  - `public.rebook_preferences`: User preferences for default rebooking settings\n  - `public.referrals`: Extended with `rebooked_from` field linking to original appointment\n- **Edge Functions**:\n  - `quick-rebook`: Creates new referral/booking from previous appointment\n  - `get-rebook-suggestions`: AI-powered recommendations based on patterns\n  - `validate-rebook`: Ensures availability and service compatibility\n- **User Flow**:\n  1.  Client views booking history on dashboard\n  2.  Clicks \"Rebook\" button on previous appointment\n  3.  `QuickRebook` component opens with pre-filled information\n  4.  AI suggests optimal times based on past patterns\n  5.  Client adjusts services/time if needed\n  6.  System validates availability\n  7.  New booking created and professional notified via `BookDrawer`\n  8.  Professional can accept, decline, or propose alternative time",
    "char_count": 1185
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 38,
    "content": "## 4. Non-Functional Requirements Design",
    "char_count": 40
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 39,
    "content": "### 4.1 Performance (PERF-01)",
    "char_count": 29
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 40,
    "content": "- **Real-time Updates**: Supabase Realtime will be used to subscribe to changes in the `referrals` and `messages` tables, pushing updates to the client instantly.\n- **Caching**: TanStack Query will be used to cache server-side data on the client, reducing redundant API calls.\n- **Lazy Loading**: React's lazy loading capabilities will be used to code-split the application, so users only download the JavaScript needed for the current view.\n- **Pagination**: All lists of data (e.g., referral history, open chair alerts) will be paginated on the backend to ensure fast initial load times.",
    "char_count": 589
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 41,
    "content": "### 4.2 Security (SEC-01, SEC-02)",
    "char_count": 33
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 42,
    "content": "- **Row Level Security (RLS)**: Supabase RLS policies will be implemented on all tables to ensure users can only access and modify data they own or are permitted to see.\n- **JWT Authentication**: All communication with the Supabase backend will be authenticated using JSON Web Tokens (JWTs) managed by Supabase Auth.\n- **Secure Edge Functions**: All Edge Functions will validate user authentication and authorization before executing any logic. Input will be sanitized to prevent injection attacks.",
    "char_count": 498
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 43,
    "content": "### 4.3 Usability (USAB-01)",
    "char_count": 27
  },
  {
    "file_path": "SYSTEM_DESIGN",
    "chunk_index": 44,
    "content": "- **Responsive Design**: The application will be built using a mobile-first approach with Tailwind CSS to ensure it is fully responsive and usable on all screen sizes.\n- **Component Library**: A consistent look and feel will be maintained by using the `shadcn-ui` component library and a custom theme.",
    "char_count": 301
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 0,
    "content": "---\nid: 693f2168d2f855c3aa49a904\nrevision: 1\n---\n# Test Document for Agent System",
    "char_count": 81
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 1,
    "content": "This is a test document created at 2025-12-13 20:47:00 to verify that the multi-agent system is detecting and processing file changes.",
    "char_count": 134
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 2,
    "content": "**UPDATED**: Modified to trigger agent processing pipeline.",
    "char_count": 59
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 3,
    "content": "## Purpose",
    "char_count": 10
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 4,
    "content": "- Test file monitoring ✅\n- Verify agent responsiveness ✅\n- Check document processing pipeline ⏳\n- Validate RAG indexing 🔄",
    "char_count": 122
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 5,
    "content": "## Expected Agent Actions",
    "char_count": 25
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 6,
    "content": "1. ChangeDetectionAgent should detect this new file\n2. DocumentManagementAgent should process and validate it\n3. RAGManagementAgent should create embeddings and index it\n4. LoggingAuditAgent should log the processing events",
    "char_count": 223
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 7,
    "content": "## Test Metadata",
    "char_count": 16
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 8,
    "content": "- Created: 2025-12-13\n- Type: Test Document\n- Priority: High\n- Status: Active Testing",
    "char_count": 85
  },
  {
    "file_path": "TEST_AGENT_TRIGGER",
    "chunk_index": 9,
    "content": "This document should trigger the multi-agent workflow to demonstrate the system is working correctly.",
    "char_count": 102
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 0,
    "content": "---\nid: 693f2168f1786fb0fe54d51d\nrevision: 1\n---\n# User Story Backlog",
    "char_count": 69
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 1,
    "content": "**Last Updated**: November 8, 2025",
    "char_count": 34
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 2,
    "content": "This document contains the user story backlog for the ClientPass application, organized by feature epics.",
    "char_count": 105
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 3,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 4,
    "content": "## Epic: User Authentication & Onboarding",
    "char_count": 41
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 5,
    "content": "- **Story**: As a stylist, I want to sign up with my email and password so I can create an account and access the platform.\n- **Story**: As a new user, I want a simple onboarding process that guides me through setting up my profile and services so I can start receiving referrals quickly.\n- **Story**: As an affiliate, I want to sign up through a dedicated affiliate portal so I can join the affiliate program.\n- **Story**: As a user, I want to be able to log in securely and log out of my account.",
    "char_count": 498
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 6,
    "content": "## Epic: Referral Management",
    "char_count": 28
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 7,
    "content": "- **Story**: As a busy stylist, I want to quickly send a walk-in client I can't serve to another available stylist so I can earn a referral commission.\n- **Story**: As a stylist, I want to receive real-time notifications for new referrals so I don't miss out on potential clients.\n- **Story**: As a receiving stylist, I want a 10-minute exclusive window to accept or decline a referral so I have time to check my schedule without pressure.\n- **Story**: As a sender, I want the system to automatically reassign an expired or declined referral to the next best stylist so the client still gets served.\n- **Story**: As a user, I want to track the status of referrals I've sent and received (pending, accepted, completed) so I know what's happening.\n- **Story**: As a stylist, I want to modify the services on a referral after creation if the client's needs change.\n- **Story**: As a stylist, I want to adjust the price of a referral if additional services are needed.\n- **Story**: As a client, I want to request adding services to my existing appointment without creating a new booking.\n- **Story**: As a user, I want minor adjustments (under $20 or 15 minutes) to be approved automatically.\n- **Story**: As a user, I want to see how adjustments will affect the total price and commission before submitting.\n- **Story**: As a stylist, I want to provide a reason when requesting an adjustment so the client understands the change.\n- **Story**: As a client, I want to be notified when an adjustment is requested and have the option to approve or decline.\n- **Story**: As an admin, I want to review the audit trail of all referral adjustments for dispute resolution.\n- **Story**: As a user, I want to see a before/after comparison when an adjustment is proposed.\n- **Story**: As a stylist, I want adjustments that require approval to be processed quickly without long delays.\n- **Story**: As a stylist, I want to use an enhanced referral form that provides more options and flexibility for service selection.\n- **Story**: As a stylist, I want to adjust service details for referral-based bookings with an audit trail for transparency.",
    "char_count": 2128
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 8,
    "content": "## Epic: Open Chair Marketplace",
    "char_count": 31
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 9,
    "content": "- **Story**: As a salon owner with empty stations, I want to post my available chairs with a commission rate so I can monetize unused space.\n- **Story**: As a traveling stylist, I want to find and book a temporary chair in a new city so I can serve my clients on the go.\n- **Story**: As a stylist accepting an Open Chair, I want to \"check in\" to start a live session to begin tracking my services.\n- **Story**: As a host, I want to see a real-time summary of services and revenue generated during a live session so I can track my earnings.\n- **Story**: As a host, I want commissions to be calculated and settled automatically when a session ends.",
    "char_count": 646
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 10,
    "content": "## Epic: Hot Seat (Flash Sales)",
    "char_count": 31
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 11,
    "content": "- **Story**: As a stylist with a last-minute cancellation, I want to post a \"Hot Seat\" deal with a discount to fill the empty slot quickly.\n- **Story**: As a stylist, I want to broadcast Hot Seat alerts to specific audiences (my favorites, all my clients, or all local users) to maximize visibility.\n- **Story**: As a client, I want to be notified of Hot Seat deals from my favorite stylists so I can book a service at a discount.",
    "char_count": 430
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 12,
    "content": "## Epic: Coverage Mode",
    "char_count": 22
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 13,
    "content": "- **Story**: As a stylist planning a vacation, I want to enable \"Coverage Mode\" so my incoming client requests are automatically forwarded to trusted colleagues.\n- **Story**: As a stylist, I want to build a \"Coverage List\" of specific professionals I trust to handle my clients when I'm away.\n- **Story**: As a covering stylist, I want to receive referral notifications for clients of the unavailable stylist so I can earn extra income.\n- **Story**: As a stylist, I want to manage my trusted network easily through the settings page.\n- **Story**: As a stylist, I want the coverage mode to redirect me to manage my trusted network if no matches are found.",
    "char_count": 654
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 14,
    "content": "## Epic: Financials & Earnings",
    "char_count": 30
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 15,
    "content": "- **Story**: As a user, I want a clear dashboard showing my total earnings, pending payments, and available payout balance.\n- **Story**: As a user, I want to securely connect my Stripe account to receive automatic weekly or monthly payouts.\n- **Story**: As a user, I want to view a detailed transaction history for all my completed referrals and sessions.",
    "char_count": 355
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 16,
    "content": "## Epic: Profile & Network Management",
    "char_count": 37
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 17,
    "content": "- **Story**: As a stylist, I want to create a rich public profile with my photo, bio, services, prices, and portfolio to attract new clients.\n- **Story**: As a user, I want to add a professional I've worked with to my \"Trusted Network\" to prioritize them for future referrals.\n- **Story**: As a user, I want the app to suggest adding a professional to my Trusted Network after we have successfully collaborated multiple times.",
    "char_count": 426
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 18,
    "content": "## Epic: Affiliate Program",
    "char_count": 26
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 19,
    "content": "- **Story**: As an affiliate, I want a unique referral link to share with stylists so I can get credit for recruiting them.\n- **Story**: As an affiliate, I want to see a dashboard of my total sign-ups and the commissions I've earned from their activity.\n- **Story**: As an affiliate manager, I want to approve or deny pending affiliate applications.",
    "char_count": 349
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 20,
    "content": "## Epic: Administration",
    "char_count": 23
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 21,
    "content": "- **Story**: As an admin, I want a global dashboard to get a high-level overview of user activity, revenue, and system health.\n- **Story**: As an admin, I want to manage feature flags to enable or disable specific platform features in real-time.\n- **Story**: As an admin, I want to manage all users, view their profiles, and change their roles or status (active/inactive).\n- **Story**: As an admin, I want to view and manage all business onboarding applications, with the ability to approve or deny them.\n- **Story**: As an admin, I want to configure platform-wide settings, such as pricing, fees, and commission rates.\n- **Story**: As an admin, I want to monitor all referral activity across the platform to identify trends and potential issues.\n- **Story**: As an admin, I want to manage \"Open Chair\" and \"Hot Seat\" postings, with the ability to close or modify them.\n- **Story**: As an admin, I want to manage all notification templates (email, SMS, push) sent by the system.\n- **Story**: As an admin, I want to export various datasets (users, referrals, payments) in CSV format for external analysis.\n- **Story**: As an admin, I want to view a detailed audit log of all administrative actions to ensure accountability and security.\n- **Story**: As an admin, I want to impersonate a user to view the platform from their perspective for troubleshooting and support.\n- **Story**: As an admin, I want a dashboard to manage \"Pro Deals\" that are available to all platform users.\n- **Story**: As an admin, I want to view a system health dashboard to monitor platform activity.",
    "char_count": 1573
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 22,
    "content": "## Epic: AI-Assisted Features",
    "char_count": 29
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 23,
    "content": "- **Story**: As an admin, I want to configure which AI provider (Google, OpenAI, Anthropic, Ollama) the platform uses without restarting the application.\n- **Story**: As an admin, I want to customize system prompts for different AI use cases to optimize results.\n- **Story**: As an admin, I want to monitor AI usage metrics including tokens consumed, costs, and response times.\n- **Story**: As a stylist, I want the matching system to consider my specialties and the client's needs when suggesting referrals.\n- **Story**: As a client, I want personalized service recommendations based on my booking history and preferences.\n- **Story**: As a stylist, I want the system to automatically summarize my reviews to highlight my strengths.\n- **Story**: As a new stylist, I want help generating a professional bio for my profile using AI assistance.\n- **Story**: As a client, I want to book appointments using natural language (e.g., \"I need a haircut next Tuesday afternoon\").\n- **Story**: As a stylist, I want AI to suggest products from the affiliate marketplace that match the services I provide.\n- **Story**: As an admin, I want to test different AI providers with sample prompts before switching production traffic.",
    "char_count": 1214
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 24,
    "content": "## Epic: Service Catalog Management",
    "char_count": 35
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 25,
    "content": "- **Story**: As an admin, I want to create and maintain a global catalog of standardized services available on the platform.\n- **Story**: As an admin, I want to organize services using a hierarchical taxonomy (Categories → Subcategories → Service Types).\n- **Story**: As an admin, I want to set typical price ranges and durations for catalog services to guide professionals.\n- **Story**: As a stylist, I want to select services from a pre-defined catalog rather than creating custom services from scratch.\n- **Story**: As a stylist, I want to browse services by category when setting up my profile to find relevant offerings.\n- **Story**: As a client, I want an intuitive category-based interface for selecting services when booking.\n- **Story**: As a client, I want to see typical pricing and duration when selecting services.\n- **Story**: As an admin, I want to bulk-update multiple services at once for efficient catalog management.\n- **Story**: As an admin, I want to deactivate services that are no longer offered without deleting historical data.\n- **Story**: As a stylist, I want my service prices to auto-populate from the catalog but allow customization if needed.",
    "char_count": 1173
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 26,
    "content": "## Epic: Quick Rebook System",
    "char_count": 28
  },
  {
    "file_path": "USER_STORIES",
    "chunk_index": 27,
    "content": "- **Story**: As a repeat client, I want to rebook my last appointment with one click from my booking history.\n- **Story**: As a client, I want the rebook form to pre-fill with my previous stylist, services, and location.\n- **Story**: As a client, I want AI to suggest optimal time slots based on my past booking patterns.\n- **Story**: As a client, I want to modify the services during rebooking if I want something different this time.\n- **Story**: As a stylist, I want to receive rebook requests in a dedicated interface where I can quickly accept or decline.\n- **Story**: As a stylist, I want to propose alternative times if my client's requested slot is unavailable.\n- **Story**: As a client, I want to see my complete booking history so I can easily find appointments to rebook.\n- **Story**: As a client, I want to set default preferences for rebooking (preferred times, services) to make it even faster.\n- **Story**: As a stylist, I want to prioritize rebook requests from repeat clients to build loyalty.\n- **Story**: As an admin, I want to track rebook rates to measure client retention and stylist loyalty.\n- **Story**: As a stylist, I want a quick rebook feature to appear after service completion to encourage repeat bookings.\n- **Story**: As a stylist, I want a booking drawer that allows for a full booking experience with quick rebook options.",
    "char_count": 1356
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 0,
    "content": "---\nid: 68dccbb8479feecff6266aa2\nrevision: 14\n---",
    "char_count": 49
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 1,
    "content": "<!-- TODO: Fix Mermaid diagram rendering issue in Section 4. The diagrams are not rendering correctly, and this is a known issue. -->",
    "char_count": 133
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 2,
    "content": "# Use Case Models",
    "char_count": 17
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 3,
    "content": "## 1. Introduction",
    "char_count": 18
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 4,
    "content": "This document describes the primary use cases for the ClientPass system, detailing the interactions between users (actors) and the system to achieve specific goals.",
    "char_count": 164
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 5,
    "content": "## 2. Actors",
    "char_count": 12
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 6,
    "content": "- **Pro (Stylist/Barber)**: A professional providing services.\n- **Host**: A Pro or Suite Owner who lists their chair/space for use.\n- **Client**: A person receiving a service, referred via the platform.\n- **Affiliate**: A user who recruits other Pros to the platform.\n- **Admin**: A system administrator.",
    "char_count": 305
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 7,
    "content": "## 3. Use Case Diagram",
    "char_count": 22
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 8,
    "content": "```mermaid\ngraph TD\n    subgraph \"ClientPass System\"\n        UC1((Send Walk-in Referral))\n        UC2((Accept a Referral))\n        UC3((Post an Open Chair))\n        UC4((Book an Open Chair))\n        UC5((Post a Hot Seat))\n        UC6((Join as Affiliate))\n        UC7((Manage Pro Deals))\n    end",
    "char_count": 294
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 9,
    "content": "Pro[\"Pro\"]\n    Host[\"Host\"]\n    Affiliate[\"Affiliate\"]\n    Admin[\"Admin\"]",
    "char_count": 77
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 10,
    "content": "Pro --> UC1\n    Pro --> UC2\n    Pro --> UC4\n    Pro --> UC5\n    Host --> UC3\n    Affiliate --> UC6\n    Admin --> UC7\n```",
    "char_count": 124
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 11,
    "content": "## 4. Use Case Descriptions",
    "char_count": 27
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 12,
    "content": "### UC-01: Send a Walk-in Referral",
    "char_count": 34
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 13,
    "content": "```mermaid\ngraph TD\n    A(Pro) --> B((Send Walk-in Referral))\n```",
    "char_count": 65
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 14,
    "content": "**Use Case ID**: UC-01",
    "char_count": 22
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 15,
    "content": "**Actor**: Pro",
    "char_count": 14
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 16,
    "content": "**Description**: A Pro sends a client they cannot serve to another available professional in the network to earn a commission.",
    "char_count": 126
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 17,
    "content": "**Preconditions**:<br>- The Pro is logged in.<br>- The Pro has clients who need services.",
    "char_count": 89
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 18,
    "content": "**Success Criteria**:<br>- A new `referrals` record is created in the database with a `pending` status, containing all referral data (client info, service, commission).<br>- The system correctly identifies and assigns the referral to the best-matched available Pro based on the sender's trusted network and Pro availability.<br>- The receiving Pro is sent a real-time notification (e.g., push notification, SMS) within 5 seconds of the referral being sent.<br>- The sending Pro's UI updates to show the referral as 'pending' and which Pro it was sent to.<br>- The referral is correctly associated with the sender's and receiver's accounts for future tracking.",
    "char_count": 659
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 19,
    "content": "### UC-02: Accept a Referral",
    "char_count": 28
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 20,
    "content": "```mermaid\ngraph TD\n    A(Pro) --> B((Accept a Referral))\n```",
    "char_count": 61
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 21,
    "content": "**Use Case ID**: UC-02",
    "char_count": 22
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 22,
    "content": "**Actor**: Pro",
    "char_count": 14
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 23,
    "content": "**Description**: A Pro accepts a referral request sent to them.",
    "char_count": 63
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 24,
    "content": "**Preconditions**:<br>- The Pro is logged in.<br>- A referral with a `pending` status has been assigned to the Pro.",
    "char_count": 115
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 25,
    "content": "**Success Criteria**:<br>- The `referrals` record status is updated from `pending` to `accepted` in the database.<br>- The `accepted_at` timestamp is recorded, and the `expires_at` timer is cleared.<br>- The original sender is notified in real-time (e.g., push notification, UI update) that their referral was accepted.<br>- The client's contact information (full name and phone number) is made visible to the accepting Pro.<br>- The accepting Pro's UI updates to show the accepted referral and the client's contact details.",
    "char_count": 524
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 26,
    "content": "### UC-03: Post an Open Chair",
    "char_count": 29
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 27,
    "content": "```mermaid\ngraph TD\n    A(Host) --> B((Post an Open Chair))\n```",
    "char_count": 63
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 28,
    "content": "**Use Case ID**: UC-03",
    "char_count": 22
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 29,
    "content": "**Actor**: Host",
    "char_count": 15
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 30,
    "content": "**Description**: A Host lists their available chair or workspace for other professionals to use.",
    "char_count": 96
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 31,
    "content": "**Preconditions**:<br>- The Host is logged in and has a `pro` or `suiteOwner` role.<br>- The Host has an available chair to list.",
    "char_count": 129
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 32,
    "content": "**Success Criteria**:<br>- A new record is created in the `open_chairs` table with an `open` status and all listing details (location, time, commission, etc.).<br>- The listing is immediately visible to other Pros in the specified audience group (e.g., trusted network, all).<br>- The system sends notifications (e.g., push, email) to eligible Pros about the new opportunity, based on their location and notification preferences.<br>- The Host's UI updates to show their new active listing.",
    "char_count": 490
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 33,
    "content": "### UC-04: Book an Open Chair",
    "char_count": 29
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 34,
    "content": "```mermaid\ngraph TD\n    A(Pro) --> B((Book an Open Chair))\n```",
    "char_count": 62
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 35,
    "content": "**Use Case ID**: UC-04",
    "char_count": 22
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 36,
    "content": "**Actor**: Pro",
    "char_count": 14
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 37,
    "content": "**Description**: A Pro books an available Open Chair to serve their clients.",
    "char_count": 76
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 38,
    "content": "**Preconditions**:<br>- The Pro is logged in.<br>- There is an `open_chairs` listing with an `open` status.",
    "char_count": 107
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 39,
    "content": "**Success Criteria**:<br>- The Pro can successfully accept the open chair, creating a temporary 10-minute lock on the listing.<br>- The Pro can confirm the booking within the 10-minute window, updating the `open_chairs` status to `accepted`.\n- The Host is notified in real-time of the confirmed booking.<br>- The Pro can successfully \"check in\" to start a `live` session, changing the status to `live`.\n- At the end of the session, all services rendered are correctly tracked, and commissions are calculated and distributed to the Host and the Pro.<br>- The Pro's and Host's earnings dashboards are updated with the correct amounts.",
    "char_count": 632
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 40,
    "content": "### UC-05: Post a Hot Seat",
    "char_count": 26
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 41,
    "content": "```mermaid\ngraph TD\n    A(Pro) --> B((Post a Hot Seat))\n```",
    "char_count": 59
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 42,
    "content": "**Use Case ID**: UC-05",
    "char_count": 22
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 43,
    "content": "**Actor**: Pro",
    "char_count": 14
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 44,
    "content": "**Description**: A Pro advertises a last-minute appointment opening, often at a discount.",
    "char_count": 89
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 45,
    "content": "**Preconditions**:<br>- The Pro is logged in.<br>- The Pro has a last-minute opening in their schedule.",
    "char_count": 103
  },
  {
    "file_path": "USE_CASE_MODELS",
    "chunk_index": 46,
    "content": "**Success Criteria**:<br>- A new `hot_seats` record is created in the database with all the offer details.<br>- Notifications are successfully dispatched in real-time to the audience selected by the Pro (e.g., favorites, all clients).<br>- A client can claim the hot seat, which updates its status to `claimed` and prevents others from claiming it.<br>- The Pro is notified when a client claims the hot seat.<br>- The client receives a confirmation of their claimed hot seat.",
    "char_count": 476
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 0,
    "content": "---\nid: 693f2168c58790d1ce557475\nrevision: 1\n---\n# Waiting for Response Page",
    "char_count": 76
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Waiting for Response page.",
    "char_count": 79
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 3,
    "content": "The Waiting for Response page is displayed to a user (typically a sender of a referral) after they have successfully sent a referral to a professional. This page provides real-time updates on the status of the referral and informs the sender about the next steps.",
    "char_count": 263
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 4,
    "content": "The page is implemented in the `WaitingForResponse.tsx` component.",
    "char_count": 66
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 5,
    "content": "## 2. Key Features",
    "char_count": 18
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 6,
    "content": "### 2.1. Real-time Status Updates",
    "char_count": 33
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 7,
    "content": "-   **Supabase Real-time Subscriptions:** The page uses Supabase real-time subscriptions to listen for updates to the referral status in the database.\n-   **Dynamic Content:** The content and messages displayed on the page dynamically change based on the referral's status (e.g., `waiting`, `accepted`, `declined`, `expired`).",
    "char_count": 326
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 8,
    "content": "### 2.2. Countdown Timer",
    "char_count": 24
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 9,
    "content": "-   **Response Deadline:** A `CountdownTimer` component is prominently displayed, showing the remaining time for the referred professional to respond to the referral.\n-   **Automatic Reassignment:** If the timer expires without a response, the referral is automatically reassigned to another available professional.",
    "char_count": 315
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 10,
    "content": "### 2.3. Referral Details",
    "char_count": 25
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 11,
    "content": "-   **Summary:** Displays a summary of the referral details, including the client's name, service type, the professional it was sent to, and potential earnings.",
    "char_count": 160
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 12,
    "content": "### 2.4. Status Messages",
    "char_count": 24
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 13,
    "content": "-   **Informative Messages:** Provides clear and concise messages to the sender about the current status of their referral.\n    -   **Waiting:** \"Referral sent successfully. Waiting for stylist to accept.\"\n    -   **Accepted:** \"Great news! [Professional Name] has accepted the referral. Connecting with client...\"\n    -   **Expired:** \"No response received. We're now looking for another available professional in your network.\"",
    "char_count": 429
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 14,
    "content": "### 2.5. Referral Complete Screen",
    "char_count": 33
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 15,
    "content": "-   **Confirmation:** If the referral is accepted and completed, the page transitions to a `ReferralComplete` screen, providing a final confirmation and summary.",
    "char_count": 161
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 16,
    "content": "## 3. Data Model",
    "char_count": 16
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 17,
    "content": "The Waiting for Response page interacts with the `referrals` and `users` tables in the Supabase database to fetch and monitor referral status.",
    "char_count": 142
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 18,
    "content": "## 4. User Interface",
    "char_count": 20
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 19,
    "content": "The user interface consists of:",
    "char_count": 31
  },
  {
    "file_path": "WAITING_FOR_RESPONSE",
    "chunk_index": 20,
    "content": "-   A header with a back button and a \"Waiting for Response\" title.\n-   A main content area that dynamically displays the referral status, countdown timer, and referral details.\n-   Status badges that indicate the type of referral (e.g., \"Walk-In Referral\", \"Coverage Mode\", \"Auto-Match\").",
    "char_count": 290
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 0,
    "content": "---\nid: 693f2168ed1c3d6b16d64ca5\nrevision: 1\n---\n# Walk-in Referrals",
    "char_count": 68
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 1,
    "content": "This document provides a detailed description of the Walk-in Referrals feature.",
    "char_count": 79
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 2,
    "content": "## 1. Overview",
    "char_count": 14
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 3,
    "content": "The Walk-in Referrals feature allows a stylist to manually record a referral that happened outside of the ClientPass application. This is useful for tracking referrals that come from word-of-mouth, phone calls, or clients who physically walk into the salon.",
    "char_count": 257
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 4,
    "content": "This feature is integrated into the `EnhancedReferralForm` component.",
    "char_count": 69
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 5,
    "content": "## 2. Features",
    "char_count": 14
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 6,
    "content": "### 2.1. Activation",
    "char_count": 19
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 7,
    "content": "-   The Walk-in Referral mode is activated by a \"Walk-in\" switch within the `EnhancedReferralForm`.\n-   When the switch is toggled on, the form adapts to allow for the manual entry of referral information.",
    "char_count": 205
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 8,
    "content": "### 2.2. Contact Source",
    "char_count": 23
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 9,
    "content": "-   When recording a walk-in referral, the stylist can specify the `contact_source` of the referral.\n-   The available options are:\n    -   `Phone`\n    -   `Text`\n    -   `DM` (Direct Message)\n    -   `WalkIn`",
    "char_count": 209
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 10,
    "content": "### 2.3. Manual Data Entry",
    "char_count": 26
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 11,
    "content": "-   The form allows the stylist to manually enter all the relevant details of the referral, including:\n    -   Client's name\n    -   Client's contact information\n    -   The service requested\n    -   The referred stylist",
    "char_count": 220
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 12,
    "content": "## 3. Use Case",
    "char_count": 14
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 13,
    "content": "The primary use case for this feature is to provide stylists with a way to track all their referrals, both digital and physical, in one central place. This ensures that they get credit for all the business they bring in, and it provides a more complete picture of their referral activity.",
    "char_count": 288
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 14,
    "content": "For example, if a regular client calls the stylist to refer a friend, the stylist can use the Walk-in Referral feature to record this referral in the ClientPass system.",
    "char_count": 168
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 15,
    "content": "## 4. Data Model",
    "char_count": 16
  },
  {
    "file_path": "WALK_IN_REFERRALS",
    "chunk_index": 16,
    "content": "The Walk-in Referrals feature adds the `contact_source` field to the `referrals` table in the Supabase database. This field stores the source of the referral as specified by the stylist.",
    "char_count": 186
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 0,
    "content": "---\nid: 68e2fa2077e8ead370b13d8d\nrevision: 8\n---",
    "char_count": 48
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 1,
    "content": "# Textual Wireframes",
    "char_count": 20
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 2,
    "content": "This document contains textual wireframes for the main pages of the application.",
    "char_count": 80
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 3,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 4,
    "content": "**Page: Pro Dashboard**",
    "char_count": 23
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 5,
    "content": "**Layout:**\n- A header with the application logo and a user profile button.\n- A main content area with a two-column grid.\n- A bottom navigation bar.",
    "char_count": 148
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 6,
    "content": "**Header:**\n- Left: ClientPass Logo\n- Right: User Profile Button (opens a dropdown with \"Profile\" and \"Logout\")",
    "char_count": 111
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 7,
    "content": "**Main Content (Left Column):**\n- **My Stats Card:**\n    - \"Earnings this month\"\n    - \"Referrals this month\"\n- **Recent Activity Card:**\n    - A list of recent referrals and their status.",
    "char_count": 188
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 8,
    "content": "**Main Content (Right Column):**\n- **Open Chair Card:**\n    - A button to \"Post an Open Chair\".\n    - A list of currently open chairs.\n- **My Services Card:**\n    - A list of the stylist's services.\n    - A button to \"Add a new service\".",
    "char_count": 237
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 9,
    "content": "**Bottom Navigation:**\n- \"Home\"\n- \"Referrals\"\n- \"Open Chairs\"\n- \"Profile\"",
    "char_count": 73
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 10,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 11,
    "content": "**Page: Suite Dashboard**",
    "char_count": 25
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 12,
    "content": "**Layout:**\n- A header with the application logo and a user profile button.\n- A main content area with a two-column grid.\n- A bottom navigation bar.",
    "char_count": 148
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 13,
    "content": "**Header:**\n- Left: ClientPass Logo\n- Right: User Profile Button (opens a dropdown with \"Profile\" and \"Logout\")",
    "char_count": 111
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 14,
    "content": "**Main Content (Left Column):**\n- **Suite Occupancy Card:**\n    - \"Current Occupancy Rate\"\n    - \"Upcoming Vacancies\"\n- **Earnings Card:**\n    - \"Total rent collected this month\"\n    - \"Outstanding payments\"",
    "char_count": 207
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 15,
    "content": "**Main Content (Right Column):**\n- **Suite Management Card:**\n    - A button to \"Manage Stylists\".\n    - A button to \"View Applications\".\n- **Suite Tools Card:**\n    - A link to \"Post an Open Chair\".\n    - A link to \"Suite-level promotions\".",
    "char_count": 241
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 16,
    "content": "**Bottom Navigation:**\n- \"Home\"\n- \"Stylists\"\n- \"Tools\"\n- \"Profile\"",
    "char_count": 66
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 17,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 18,
    "content": "**Page: Client Dashboard**",
    "char_count": 26
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 19,
    "content": "**Layout:**\n- A header with the application logo and a user profile button.\n- A main content area with a single column layout.\n- A bottom navigation bar.",
    "char_count": 153
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 20,
    "content": "**Header:**\n- Left: ClientPass Logo\n- Right: User Profile Button (opens a dropdown with \"My Appointments\" and \"Logout\")",
    "char_count": 119
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 21,
    "content": "**Main Content:**\n- **Upcoming Appointment Card:**\n    - Details of the next upcoming appointment (Stylist, Service, Time).\n    - A button to \"Reschedule\" or \"Cancel\".\n- **My Stylists Card:**\n    - A list of favorite or previously booked stylists.\n    - A button to \"Book a new appointment\".\n- **Share and Earn Card:**\n    - Information about the referral program.\n    - A button to \"Share with friends\".",
    "char_count": 404
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 22,
    "content": "**Bottom Navigation:**\n- \"Home\"\n- \"Book\"\n- \"History\"\n- \"Profile\"",
    "char_count": 64
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 23,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 24,
    "content": "**Page: Affiliate Dashboard**",
    "char_count": 29
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 25,
    "content": "**Layout:**\n- A header with the application logo and a user profile button.\n- A main content area with a two-column grid.\n- A bottom navigation bar.",
    "char_count": 148
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 26,
    "content": "**Header:**\n- Left: ClientPass Logo\n- Right: User Profile Button (opens a dropdown with \"My Links\" and \"Logout\")",
    "char_count": 112
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 27,
    "content": "**Main Content (Left Column):**\n- **My Earnings Card:**\n    - \"Total earnings\"\n    - \"Earnings this month\"\n- **My Referrals Card:**\n    - \"Total referrals\"\n    - \"Referrals this month\"",
    "char_count": 184
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 28,
    "content": "**Main Content (Right Column):**\n- **My Links Card:**\n    - A list of referral links.\n    - A button to \"Create a new link\".\n- **Top Performing Links Card:**\n    - A list of the top 5 performing links with their stats.",
    "char_count": 218
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 29,
    "content": "**Bottom Navigation:**\n- \"Home\"\n- \"Marketplace\"\n- \"Links\"\n- \"Profile\"",
    "char_count": 69
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 30,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 31,
    "content": "**Page: Affiliate Marketplace**",
    "char_count": 31
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 32,
    "content": "**Layout:**\n- A header with the application logo and a back button.\n- A main content area with a list of products.\n- A search bar and filters.",
    "char_count": 142
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 33,
    "content": "**Header:**\n- Left: Back Button (to Affiliate Dashboard)\n- Center: \"Affiliate Marketplace\" title",
    "char_count": 96
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 34,
    "content": "**Main Content:**\n- **Search and Filters:**\n    - Search input field.\n    - \"Category\" dropdown filter.\n    - \"Commission Rate\" range slider filter.\n- **Product List:**\n    - A grid of product cards.\n    - Each card shows:\n        - Product image\n        - Product name\n        - Commission rate\n        - A button to \"Get Link\".",
    "char_count": 329
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 35,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 36,
    "content": "**Page: Open Chair Alerts**",
    "char_count": 27
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 37,
    "content": "**Layout:**\n- A header with the application logo and a back button.\n- A main content area with a list of alerts.",
    "char_count": 112
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 38,
    "content": "**Header:**\n- Left: Back Button (to Suite Tools)\n- Center: \"Open Chair Alerts\" title",
    "char_count": 84
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 39,
    "content": "**Main Content:**\n- **Alerts List:**\n    - A list of open chair alerts.\n    - Each alert shows:\n        - The service requested.\n        - The time window.\n        - The location (zip code).\n        - A button to \"Accept\" or \"Decline\".",
    "char_count": 235
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 40,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 41,
    "content": "**Page: Post Open Chair Form**",
    "char_count": 30
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 42,
    "content": "**Layout:**\n- A header with a back button and a title.\n- A main content area with a form.",
    "char_count": 89
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 43,
    "content": "**Header:**\n- Left: Back Button (to Suite Tools)\n- Center: \"Post Open Chair\" title",
    "char_count": 82
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 44,
    "content": "**Main Content:**\n- **Form Fields:**\n    - \"Service\" dropdown (e.g., Haircut, Coloring).\n    - \"Time Window\" selector (e.g., 9am-12pm, 1pm-5pm).\n    - \"Zip Code\" input field.\n    - \"Date\" picker.\n- **Submit Button:**\n    - \"Post Open Chair\" button.",
    "char_count": 248
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 45,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 46,
    "content": "**Page: Client Referral Form**",
    "char_count": 30
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 47,
    "content": "**Layout:**\n- A header with a back button and a title.\n- A main content area with a form.",
    "char_count": 89
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 48,
    "content": "**Header:**\n- Left: Back Button (to Client Dashboard)\n- Center: \"Refer a Friend\" title",
    "char_count": 86
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 49,
    "content": "**Main Content:**\n- **Form Fields:**\n    - \"Friend's Name\" input field.\n    - \"Friend's Email\" input field.\n    - \"Select a Stylist\" dropdown.\n    - \"Personalized Message\" textarea.\n- **Submit Button:**\n    - \"Send Referral\" button.",
    "char_count": 232
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 50,
    "content": "---",
    "char_count": 3
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 51,
    "content": "**Page: Stylist Profile**",
    "char_count": 25
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 52,
    "content": "**Layout:**\n- A header with a back button and a title.\n- A main content area with the stylist's information.",
    "char_count": 108
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 53,
    "content": "**Header:**\n- Left: Back Button (to Pro Dashboard)\n- Center: \"My Profile\" title",
    "char_count": 79
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 54,
    "content": "**Main Content:**\n- **Profile Header:**\n    - Profile picture.\n    - Stylist's name.\n    - \"Edit Profile\" button.\n- **About Section:**\n    - A short bio.\n    - \"Years of Experience\".\n    - \"Specialties\".\n- **Services Section:**\n    - A list of services offered with prices.\n    - A button to \"Add a new service\".\n- **Portfolio Section:**\n    - A gallery of photos.\n    - A button to \"Upload a photo\".\n- **Reviews Section:**\n    - A list of reviews from clients.",
    "char_count": 461
  },
  {
    "file_path": "WIREFRAMES",
    "chunk_index": 55,
    "content": "---",
    "char_count": 4
  }
]